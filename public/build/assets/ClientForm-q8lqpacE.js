import{c as R,r as k,j as t,R as K}from"./app-BVZyAnc5.js";import{a as E,A as D,m as j,c as _,S as H,L as Q,u as U,b as M}from"./smartphone-DE3gNTVh.js";import{L as S,I,B as z,d as O,g as G,A as J,C as Z,R as W,b as F,f as Y}from"./app-main-Bk3V_bri.js";import{P as X,B as q}from"./plus-CYpdgdvc.js";import{P as V,b as ee,a as te,C as se,A as ae}from"./phone-Cj_dQjwi.js";/* empty css            */const le=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$=E("ChevronLeft",le);const ie=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],ne=E("Ticket",ie);function oe(g){const e=R.c(20),{phones:v,selectedPhone:n,onSelect:c,onAdd:b,isAdding:a}=g,x=a===void 0?!1:a,[i,r]=k.useState(!1),[m,y]=k.useState("");let s;e[0]!==m||e[1]!==b?(s=async()=>{m.length===10&&(await b(m),r(!1),y(""))},e[0]=m,e[1]=b,e[2]=s):s=e[2];const d=s;let h;if(e[3]!==c||e[4]!==v||e[5]!==n){let p;e[7]!==c||e[8]!==n?(p=N=>t.jsxs(j.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>c(N.phone_number),className:_("relative flex items-center gap-4 overflow-hidden rounded-2xl border-2 p-4 transition-all duration-200",n===N.phone_number?"border-blue-500 bg-blue-50/50 shadow-md":"border-slate-100 bg-white hover:border-slate-200"),children:[t.jsx("div",{className:_("flex h-10 w-10 items-center justify-center rounded-xl",n===N.phone_number?"bg-blue-500 text-white":"bg-slate-100 text-slate-400"),children:t.jsx(V,{className:"h-5 w-5"})}),t.jsxs("div",{className:"flex-1 text-left",children:[t.jsx("span",{className:_("block text-lg font-bold",n===N.phone_number?"text-blue-700":"text-slate-700"),children:N.phone_number}),N.is_primary&&t.jsx("span",{className:"rounded-full bg-blue-100 px-2 py-0.5 text-[10px] font-black tracking-wider text-blue-500/60 uppercase",children:"Principal"})]}),n===N.phone_number&&t.jsx(j.div,{initial:{scale:0},animate:{scale:1},className:"flex h-6 w-6 items-center justify-center rounded-full bg-blue-500 text-white",children:t.jsx(G,{className:"h-4 w-4"})})]},N.id),e[7]=c,e[8]=n,e[9]=p):p=e[9],h=v.map(p),e[3]=c,e[4]=v,e[5]=n,e[6]=h}else h=e[6];let u;e[10]!==h?(u=t.jsx("div",{className:"grid grid-cols-1 gap-3",children:h}),e[10]=h,e[11]=u):u=e[11];let f;e[12]!==d||e[13]!==x||e[14]!==i||e[15]!==m?(f=t.jsx(D,{children:i?t.jsxs(j.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"space-y-3 rounded-2xl border-2 border-blue-100 bg-blue-50/30 p-4",children:[t.jsx(S,{className:"mb-1 block font-bold text-blue-700",children:"Nouveau numéro"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(I,{value:m,onChange:p=>y(p.target.value.replace(/\D/g,"").slice(0,10)),placeholder:"0XXXXXXXXX",className:"h-12 rounded-xl bg-white focus:border-blue-500 focus:ring-blue-500",autoFocus:!0}),t.jsx(z,{onClick:d,disabled:m.length<10||x,className:"h-12 rounded-xl bg-blue-600 px-6 text-white hover:bg-blue-700",children:x?t.jsx(O,{className:"h-5 w-5 animate-spin"}):t.jsx(X,{className:"h-5 w-5"})})]}),t.jsx(z,{variant:"ghost",size:"sm",onClick:()=>r(!1),className:"w-full text-slate-500 hover:text-red-500",children:"Annuler"})]}):t.jsxs(j.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!0),className:"flex w-full items-center justify-center gap-2 rounded-2xl border-2 border-dashed border-slate-200 p-4 font-bold text-slate-400 transition-all hover:border-blue-300 hover:bg-blue-50/30 hover:text-blue-500",children:[t.jsx(X,{className:"h-5 w-5"}),"Ajouter un nouveau numéro"]})}),e[12]=d,e[13]=x,e[14]=i,e[15]=m,e[16]=f):f=e[16];let o;return e[17]!==u||e[18]!==f?(o=t.jsxs("div",{className:"space-y-4",children:[u,f]}),e[17]=u,e[18]=f,e[19]=o):o=e[19],o}const re=[{id:"change",name:"Change Devises",icon:J,description:"USD ↔ CDF au meilleur taux",color:"from-amber-400 to-orange-500",hover:"shadow-orange-200"},{id:"depot",name:"Dépôt Cash",icon:ee,description:"Alimentez vos comptes",color:"from-green-400 to-emerald-600",hover:"shadow-green-200"},{id:"retrait",name:"Retrait Cash",icon:te,description:"Retirez vos fonds",color:"from-blue-400 to-indigo-600",hover:"shadow-blue-200"}];function ce(g){const e=R.c(5),{selectedOperation:v,onSelect:n}=g;let c;e[0]!==n||e[1]!==v?(c=re.map(a=>{const x=a.icon,i=v===a.id;return t.jsxs(j.button,{whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},onClick:()=>n(a.id),className:_("group relative overflow-hidden rounded-[40px] border-4 p-8 text-center transition-all duration-300",i?"border-blue-500 bg-white shadow-2xl shadow-blue-500/20":"border-slate-50 bg-slate-50/50 hover:border-slate-200 hover:bg-white hover:shadow-xl"),children:[t.jsx("div",{className:_("absolute -top-12 -right-12 h-24 w-24 rounded-full blur-[40px] transition-opacity",i?"opacity-20":"opacity-0 group-hover:opacity-10",a.color.replace("from-","bg-"))}),t.jsx("div",{className:_("mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-[28px] bg-gradient-to-br shadow-lg transition-transform group-hover:rotate-6",a.color,i?"scale-110":""),children:t.jsx(x,{className:"h-10 w-10 text-white"})}),t.jsx("h3",{className:_("mb-2 text-xl font-black transition-colors",i?"text-slate-900":"text-slate-700"),children:a.name}),t.jsx("p",{className:"text-sm font-medium text-slate-400 group-hover:text-slate-500",children:a.description}),i&&t.jsx(j.div,{layoutId:"op-indicator",className:"absolute bottom-4 left-1/2 h-2 w-12 -translate-x-1/2 rounded-full bg-blue-500"})]},a.id)}),e[0]=n,e[1]=v,e[2]=c):c=e[2];let b;return e[3]!==c?(b=t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:c}),e[3]=c,e[4]=b):b=e[4],b}function de(g){const e=R.c(24),{institutions:v,selectedId:n,onSelect:c,type:b}=g;let a,x,i,r;if(e[0]!==v||e[1]!==c||e[2]!==n||e[3]!==b){let s;e[8]!==b?(s=p=>p.type===b,e[8]=b,e[9]=s):s=e[9];const d=v.filter(s),h=b==="mobile_money"?H:q;i="space-y-4";let u;e[10]!==h?(u=t.jsx(h,{className:"h-5 w-5 text-blue-500"}),e[10]=h,e[11]=u):u=e[11];const f=b==="mobile_money"?"Opérateurs Mobile":"Banques";let o;e[12]!==f?(o=t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:f}),e[12]=f,e[13]=o):o=e[13],e[14]!==u||e[15]!==o?(r=t.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[u,o]}),e[14]=u,e[15]=o,e[16]=r):r=e[16],a="grid grid-cols-2 gap-4 md:grid-cols-4",x=d.length>0?d.map(p=>t.jsxs(j.button,{whileHover:{scale:1.03,y:-2},whileTap:{scale:.97},onClick:()=>c(p.id),className:_("relative flex flex-col items-center justify-center rounded-[32px] border-2 p-6 transition-all duration-300",n===p.id?"border-blue-500 bg-white shadow-xl ring-4 shadow-blue-500/10 ring-blue-50":"border-slate-100 bg-slate-50/50 hover:border-slate-200 hover:bg-white"),children:[t.jsx("div",{className:_("mb-4 flex h-16 w-16 items-center justify-center rounded-2xl shadow-inner transition-colors",n===p.id?"bg-blue-50":"bg-white"),children:p.logo_url?t.jsx("img",{src:p.logo_url,alt:p.name,className:"h-10 w-10 object-contain"}):t.jsx(Q,{className:_("h-8 w-8",n===p.id?"text-blue-500":"text-slate-300")})}),t.jsx("span",{className:_("text-center text-sm font-black tracking-tight",n===p.id?"text-blue-700":"text-slate-600"),children:p.name}),n===p.id&&t.jsx(j.div,{layoutId:"active-indicator",className:"absolute -top-1 -right-1 h-6 w-6 rounded-full border-4 border-white bg-blue-500 shadow-sm"})]},p.id)):t.jsxs("div",{className:"col-span-full py-12 text-center",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-slate-100 text-slate-300",children:t.jsx(h,{className:"h-8 w-8"})}),t.jsx("p",{className:"text-sm font-bold tracking-widest text-slate-400 uppercase",children:"Aucun partenaire disponible"})]}),e[0]=v,e[1]=c,e[2]=n,e[3]=b,e[4]=a,e[5]=x,e[6]=i,e[7]=r}else a=e[4],x=e[5],i=e[6],r=e[7];let m;e[17]!==a||e[18]!==x?(m=t.jsx("div",{className:a,children:x}),e[17]=a,e[18]=x,e[19]=m):m=e[19];let y;return e[20]!==i||e[21]!==r||e[22]!==m?(y=t.jsxs("div",{className:i,children:[r,m]}),e[20]=i,e[21]=r,e[22]=m,e[23]=y):y=e[23],y}const me=[{id:"mobile_money",name:"Mobile Money",icon:H,color:"text-emerald-500"},{id:"bank",name:"Banques",icon:q,color:"text-blue-500"}];function ue(g){const e=R.c(20),{institutions:v,selectedId:n,onSelect:c,isLoading:b}=g,[a,x]=K.useState("mobile_money");if(b){let o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[t.jsx("div",{className:"mb-4 h-12 w-12 animate-spin rounded-full border-4 border-slate-200 border-t-indigo-600"}),t.jsx("p",{className:"text-sm font-bold tracking-widest text-slate-400 uppercase",children:"Récupération des partenaires..."})]}),e[0]=o):o=e[0],o}let i;e[1]!==a?(i=me.map(o=>t.jsxs("button",{onClick:()=>x(o.id),className:_("flex flex-1 items-center justify-center gap-2 rounded-[18px] px-4 py-4 text-sm font-bold transition-all",a===o.id?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"),children:[t.jsx(o.icon,{className:_("h-5 w-5",a===o.id?o.color:"text-slate-400")}),o.name]},o.id)),e[1]=a,e[2]=i):i=e[2];let r;e[3]!==i?(r=t.jsx("div",{className:"flex gap-2 rounded-[24px] bg-slate-100 p-1.5",children:i}),e[3]=i,e[4]=r):r=e[4];let m,y,s,d;e[5]===Symbol.for("react.memo_cache_sentinel")?(m={opacity:0,x:20},y={opacity:1,x:0},s={opacity:0,x:-20},d={duration:.2},e[5]=m,e[6]=y,e[7]=s,e[8]=d):(m=e[5],y=e[6],s=e[7],d=e[8]);let h;e[9]!==a||e[10]!==v||e[11]!==c||e[12]!==n?(h=t.jsx(de,{institutions:v,selectedId:n,onSelect:c,type:a}),e[9]=a,e[10]=v,e[11]=c,e[12]=n,e[13]=h):h=e[13];let u;e[14]!==a||e[15]!==h?(u=t.jsx(D,{mode:"wait",children:t.jsx(j.div,{initial:m,animate:y,exit:s,transition:d,children:h},a)}),e[14]=a,e[15]=h,e[16]=u):u=e[16];let f;return e[17]!==r||e[18]!==u?(f=t.jsxs("div",{className:"space-y-8",children:[r,u]}),e[17]=r,e[18]=u,e[19]=f):f=e[19],f}function xe(g){const e=R.c(29),{ticketNumber:v,onNewTicket:n}=g;let c,b;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={opacity:0,scale:.95},b={opacity:1,scale:1},e[0]=c,e[1]=b):(c=e[0],b=e[1]);let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(j.div,{initial:{scale:.8,opacity:0},animate:{scale:1.5,opacity:0},transition:{repeat:1/0,duration:2,ease:"easeOut"},className:"absolute inset-0 rounded-full bg-green-500/20"}),e[2]=a):a=e[2];let x,i,r;e[3]===Symbol.for("react.memo_cache_sentinel")?(x={scale:0},i={scale:1},r={type:"spring",stiffness:200,damping:20},e[3]=x,e[4]=i,e[5]=r):(x=e[3],i=e[4],r=e[5]);let m,y,s;e[6]===Symbol.for("react.memo_cache_sentinel")?(m=t.jsxs("div",{className:"relative mb-12",children:[a,t.jsx(j.div,{initial:x,animate:i,transition:r,className:"relative mx-auto flex h-28 w-28 items-center justify-center rounded-[36px] bg-gradient-to-br from-emerald-400 to-green-600 shadow-2xl shadow-green-500/30",children:t.jsx(se,{className:"h-14 w-14 text-white"})})]}),y=t.jsx("h2",{className:"mb-2 text-4xl font-black tracking-tight text-slate-900",children:"C'est fait !"}),s=t.jsx("p",{className:"mb-10 text-xl font-medium text-slate-500",children:"Votre ticket a été généré avec succès"}),e[6]=m,e[7]=y,e[8]=s):(m=e[6],y=e[7],s=e[8]);let d,h,u;e[9]===Symbol.for("react.memo_cache_sentinel")?(d={y:30,opacity:0},h={y:0,opacity:1},u={delay:.3,type:"spring"},e[9]=d,e[10]=h,e[11]=u):(d=e[9],h=e[10],u=e[11]);let f,o;e[12]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx("div",{className:"absolute top-0 right-0 h-32 w-32 translate-x-8 -translate-y-8 rounded-full bg-white/5 blur-2xl transition-transform group-hover:scale-150"}),o=t.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-blue-500/10 blur-xl"}),e[12]=f,e[13]=o):(f=e[12],o=e[13]);let p;e[14]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsxs("div",{className:"mb-6 flex items-center justify-center gap-3 text-amber-400",children:[t.jsx(ne,{className:"h-6 w-6 rotate-12"}),t.jsx("span",{className:"text-sm font-black tracking-[0.2em] uppercase",children:"Ticket No."})]}),e[14]=p):p=e[14];let N;e[15]!==v?(N=t.jsx("div",{className:"mb-8 font-mono text-7xl font-black tracking-tighter text-white",children:v}),e[15]=v,e[16]=N):N=e[16];let A;e[17]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-white/5 bg-white/5 px-4 py-2 text-sm font-bold text-slate-400",children:[t.jsx(Z,{className:"h-4 w-4 text-amber-500"}),t.jsx("span",{children:"Attendez d'être appelé sur l'écran"})]}),e[17]=A):A=e[17];let l;e[18]!==N?(l=t.jsxs(j.div,{initial:d,animate:h,transition:u,className:"group relative mx-auto max-w-sm overflow-hidden rounded-[40px] bg-slate-900 p-10 shadow-2xl",children:[f,o,t.jsxs("div",{className:"relative z-10",children:[p,N,A]})]}),e[18]=N,e[19]=l):l=e[19];let w,C,T;e[20]===Symbol.for("react.memo_cache_sentinel")?(w={opacity:0},C={opacity:1},T={delay:.6},e[20]=w,e[21]=C,e[22]=T):(w=e[20],C=e[21],T=e[22]);let L;e[23]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(W,{className:"mr-2 h-5 w-5 text-blue-500"}),e[23]=L):L=e[23];let P;e[24]!==n?(P=t.jsx(j.div,{initial:w,animate:C,transition:T,className:"mt-12",children:t.jsxs(z,{onClick:n,className:"h-14 rounded-2xl border-none bg-slate-100 px-10 font-black tracking-tight text-slate-900 shadow-none transition-all hover:scale-105 hover:bg-slate-200 active:scale-95",children:[L,"Nouvelle opération"]})}),e[24]=n,e[25]=P):P=e[25];let B;return e[26]!==l||e[27]!==P?(B=t.jsxs(j.div,{initial:c,animate:b,className:"py-8 text-center",children:[m,y,s,l,P]}),e[26]=l,e[27]=P,e[28]=B):B=e[28],B}const he=()=>{const g=String.fromCharCode(65+Math.floor(Math.random()*26)),e=String(Math.floor(Math.random()*999)+1).padStart(3,"0");return`${g}${e}`};function ye(){const[g,e]=k.useState(1),[v,n]=k.useState(null),[c,b]=k.useState(!1),[a,x]=k.useState(null),[i,r]=k.useState(!1),{data:m=[],isPending:y}=U({queryKey:["institutions","active"],queryFn:()=>M.entities.Institution.active()}),[s,d]=k.useState({phone:"",operation_type:"",institution_id:void 0,first_name:"",last_name:"",email:"",address:""});k.useEffect(()=>{(async()=>{if(s.phone.length===10&&!a&&!i){b(!0);try{const w=await M.entities.Client.verifyPhone(s.phone);w.exists&&w.client?(x(w.client),d(C=>({...C,phone:s.phone})),r(!1)):(x(null),r(!0))}catch(w){console.error("Phone verification failed:",w)}finally{b(!1)}}})()},[s.phone,a,i]);const h=F({mutationFn:async()=>(await M.entities.Client.register({phone:s.phone,first_name:s.first_name,last_name:s.last_name,email:s.email,address:s.address})).client,onSuccess:l=>{x(l),r(!1),e(2)}}),u=F({mutationFn:async l=>a?(await M.entities.Client.addPhone(a.id,l)).phone:void 0,onSuccess:l=>{a&&l&&x({...a,phones:[...a.phones||[],l]})}}),f=F({mutationFn:async l=>{const w=he(),C={...l,phone:s.phone,ticket_number:w,status:"waiting",first_name:a?.first_name||l.first_name,last_name:a?.last_name||l.last_name,is_registered:!!a};return await M.entities.Client.create(C),w},onSuccess:l=>{n(l),e(3)}}),o=()=>{if(g===1)i?h.mutate():a&&e(2);else if(g===2){if(s.operation_type==="change")f.mutate({...s,service:"bureau"});else if(s.operation_type&&s.institution_id){const l=m.find(w=>w.id===s.institution_id);f.mutate({...s,service:l?.name||""})}}},p=()=>{e(1),n(null),x(null),r(!1),d({phone:"",operation_type:"",institution_id:void 0,first_name:"",last_name:"",email:"",address:""})},N=()=>g===1?i?s.first_name.trim()!==""&&s.last_name.trim()!=="":!!a:g===2?s.operation_type==="change"?!0:!!(s.operation_type&&s.institution_id):!0,A=()=>{switch(g){case 1:return t.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"group mx-auto mb-6 flex h-24 w-24 animate-in items-center justify-center rounded-[32px] bg-gradient-to-br from-blue-500 to-indigo-600 shadow-2xl shadow-blue-500/20 duration-500 fade-in zoom-in",children:t.jsx(V,{className:"h-12 w-12 text-white transition-transform group-hover:rotate-12"})}),t.jsx("h2",{className:"text-4xl font-black tracking-tight text-slate-900",children:i?"Nouvelle Inscription":"Bienvenue chez Havifin"}),t.jsx("p",{className:"mt-3 text-lg font-medium text-slate-400",children:i?"Laissez-nous faire connaissance pour mieux vous servir":"Identifiez-vous pour commencer votre opération"})]}),t.jsxs("div",{className:"mx-auto max-w-lg space-y-6",children:[!a&&!i&&t.jsxs("div",{className:"group relative",children:[t.jsx("div",{className:"absolute -inset-1 rounded-[28px] bg-gradient-to-r from-blue-500 to-indigo-600 opacity-25 blur transition duration-1000 group-hover:opacity-40 group-hover:duration-200"}),t.jsx(I,{type:"tel",value:s.phone,onChange:l=>d({...s,phone:l.target.value.replace(/\D/g,"").slice(0,10)}),placeholder:"Entrez votre numéro (10 chiffres)",className:"relative h-20 rounded-[24px] border-2 border-slate-100 bg-white text-center font-mono text-2xl font-black shadow-lg transition-all focus:border-blue-500 focus:ring-blue-500",autoFocus:!0,disabled:c}),c&&t.jsx("div",{className:"absolute top-1/2 right-6 -translate-y-1/2",children:t.jsx(O,{className:"h-6 w-6 animate-spin text-blue-500"})})]}),a&&t.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between px-2",children:[t.jsx(S,{className:"text-lg font-black text-slate-800",children:"Vos numéros"}),t.jsxs("button",{onClick:()=>{x(null),d({...s,phone:""})},className:"flex items-center gap-1 text-sm font-bold text-blue-500 hover:text-blue-700",children:[t.jsx($,{className:"h-4 w-4"})," ","Changer"]})]}),t.jsx(oe,{phones:a.phones||[],selectedPhone:s.phone,onSelect:l=>d({...s,phone:l}),onAdd:async l=>{await u.mutateAsync(l)},isAdding:u.isPending}),t.jsxs("div",{className:"group relative mt-8 overflow-hidden rounded-[32px] bg-gradient-to-br from-blue-600 to-indigo-700 p-8 text-white shadow-xl",children:[t.jsx("div",{className:"absolute top-0 right-0 h-32 w-32 translate-x-8 -translate-y-8 rounded-full bg-white/10 blur-2xl transition-transform duration-700 group-hover:scale-150"}),t.jsxs("div",{className:"relative z-10 text-center",children:[t.jsxs("p",{className:"mb-1 text-4xl font-black",children:["Bonjour"," ",a.first_name," !"]}),t.jsx("p",{className:"font-medium text-blue-100",children:"On continue avec ce numéro de téléphone ?"})]})]})]}),i&&t.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4 pt-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(S,{className:"ml-2 font-bold text-slate-600",children:"Prénom"}),t.jsx(I,{placeholder:"Jean",value:s.first_name,onChange:l=>d({...s,first_name:l.target.value}),className:"h-14 rounded-2xl border-slate-200 focus:border-blue-500 focus:ring-blue-50"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(S,{className:"ml-2 font-bold text-slate-600",children:"Nom"}),t.jsx(I,{placeholder:"Lozé",value:s.last_name,onChange:l=>d({...s,last_name:l.target.value}),className:"h-14 rounded-2xl border-slate-200 focus:border-blue-500 focus:ring-blue-50"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(S,{className:"ml-2 font-bold text-slate-600",children:"Email (Optionnel)"}),t.jsx(I,{placeholder:"jean.loze@example.com",type:"email",value:s.email,onChange:l=>d({...s,email:l.target.value}),className:"h-14 rounded-2xl border-slate-200 focus:border-blue-500 focus:ring-blue-50"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(S,{className:"ml-2 font-bold text-slate-600",children:"Adresse (Optionnelle)"}),t.jsx(I,{placeholder:"Gombe, Kinshasa",value:s.address,onChange:l=>d({...s,address:l.target.value}),className:"h-14 rounded-2xl border-slate-200 focus:border-blue-500 focus:ring-blue-50"})]}),t.jsxs(z,{variant:"ghost",onClick:()=>{r(!1),d({...s,phone:""})},className:"h-14 w-full rounded-2xl font-bold text-slate-500 transition-colors hover:bg-slate-100",children:[t.jsx($,{className:"mr-2 h-5 w-5"})," ","Retour"]})]})]})]});case 2:return t.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-12",children:[t.jsxs("div",{className:"space-y-2 text-center",children:[t.jsx(j.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-2 inline-block rounded-full bg-blue-50 px-4 py-1 text-xs font-black tracking-widest text-blue-600 uppercase",children:"Étape 2 • Opération"}),t.jsxs("h2",{className:"text-4xl font-black tracking-tight text-slate-900",children:["Bonjour"," ",t.jsx("span",{className:"text-blue-600",children:a?.first_name||s.first_name}),","]}),t.jsx("p",{className:"text-xl font-medium text-slate-500",children:"Quelle opération souhaitez-vous effectuer aujourd'hui ?"})]}),t.jsxs("div",{className:"grid gap-10",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx(S,{className:"ml-4 block text-sm font-black tracking-widest text-slate-400 uppercase",children:"Type d'Opération"}),t.jsx(ce,{selectedOperation:s.operation_type,onSelect:l=>d({...s,operation_type:l,institution_id:void 0})})]}),t.jsx(D,{children:s.operation_type&&s.operation_type!=="change"&&t.jsxs(j.div,{initial:{opacity:0,height:0,y:20},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:20},className:"space-y-4 overflow-hidden",children:[t.jsx(S,{className:"ml-4 block text-sm font-black tracking-widest text-slate-400 uppercase",children:"Partenaire Bancaire / Mobile"}),t.jsx(ue,{institutions:m,selectedId:s.institution_id,onSelect:l=>d({...s,institution_id:l})})]})})]})]});case 3:return t.jsx(xe,{ticketNumber:v,onNewTicket:p});default:return null}};return t.jsx(Y,{currentPageName:"Client",children:t.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-slate-50",children:[t.jsxs("div",{className:"pointer-events-none absolute top-0 left-0 h-full w-full overflow-hidden",children:[t.jsx("div",{className:"absolute top-[-10%] left-[-10%] h-[40%] w-[40%] animate-pulse rounded-full bg-blue-100 opacity-50 blur-[100px]"}),t.jsx("div",{className:"absolute right-[-10%] bottom-[-10%] h-[40%] w-[40%] animate-pulse rounded-full bg-purple-100 opacity-50 blur-[100px] delay-1000"})]}),t.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl px-4 py-12",children:[t.jsx("div",{className:"mb-12 text-center",children:t.jsxs(j.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[t.jsxs("h1",{className:"mb-2 text-5xl font-black tracking-tight text-slate-900",children:[t.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Havifin"}),t.jsx("span",{className:"mx-2 text-slate-200",children:"|"}),t.jsx("span",{className:"text-slate-600",children:"Smart Ticket"})]}),t.jsx("p",{className:"text-lg font-bold tracking-widest text-slate-400 uppercase",children:"Bureau de Change & Services"})]})}),t.jsxs("div",{className:"rounded-[40px] border border-white/20 bg-white/80 p-8 shadow-2xl shadow-slate-200/50 backdrop-blur-xl md:p-12",children:[t.jsx(D,{mode:"wait",children:A()}),g<3&&t.jsx("div",{className:"mt-12 flex justify-center",children:t.jsx(z,{onClick:o,disabled:!N()||f.isPending||h.isPending||c,size:"lg",className:"h-16 rounded-3xl bg-gradient-to-r from-[#1f61e4] to-[#2000ff] px-16 text-xl font-bold text-white shadow-xl shadow-blue-500/20 transition-all hover:scale-[1.02] active:scale-[0.98]",children:f.isPending||h.isPending?t.jsx(O,{className:"h-6 w-6 animate-spin"}):t.jsxs(t.Fragment,{children:[g===1&&i?"S'enregistrer":g===2?"Confirmer":"Continuer",t.jsx(ae,{className:"ml-3 h-6 w-6"})]})})})]}),g<3&&t.jsx("div",{className:"mt-12 flex justify-center gap-4",children:[1,2].map(l=>t.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${g===l?"w-12 bg-blue-600":"w-2 bg-slate-200"}`},l))})]})]})})}export{ye as default};

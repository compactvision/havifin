import{c as Te,u as Qe,r as Ne,j as t,a as ht}from"./app-ZCVcWHBw.js";import{u as Re,A as ut,c as pt,b as G}from"./base44Client-BNl0UU2e.js";import{B as K}from"./button-0-m3FkQp.js";import{L as ee,I as be}from"./label-DBNBirpG.js";import{S as Xe,a as We,b as Ze,c as et,d as Ee}from"./select-ByTMFRn-.js";import{c as ve,a as Q,m as Le}from"./createLucideIcon-DMMdWEHt.js";import{u as je}from"./check-Bf4iBBJ-.js";import{t as V}from"./index-ChCbcm14.js";import{L as Ke}from"./landmark-Bv1ma-Bd.js";import{B as Je}from"./building-2-C4XBzr37.js";import{R as Ve,C as wt,A as yt}from"./refresh-cw-CSSoTBVY.js";import{X as ft,S as tt,U as gt,a as at,L as lt,A as Nt}from"./app-main-UKJC7V_L.js";import{P as He}from"./plus-Ck8ojNBg.js";import{S as kt}from"./smartphone-QvlF3J57.js";import{T as st}from"./trash-2-D1uArQ_d.js";import{L as bt}from"./loader-circle-BQNw9mM2.js";import{a as it,T as Be,A as rt,C as _t}from"./trending-up-C_sm9VBh.js";import{T as Ye,a as De,S as St,b as Ct,c as Ue,d as Ft,e as Dt,f as Mt}from"./ShopManager-Cgq5awKx.js";import{h as Pe}from"./moment-B-YVwB4U.js";import{B as qe,D as At,a as $t,c as Ut,d as qt}from"./index-gaBAzvHK.js";import{U as nt}from"./users-Cgpd6jQx.js";import{S as Et}from"./search-BNeiIswJ.js";/* empty css            */import"./ManagerModal-QNh7bcS_.js";const Rt=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ot=ve("Activity",Rt);const Tt=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Pt=ve("ArrowDownLeft",Tt);const Lt=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],It=ve("ArrowUpRight",Lt);const zt=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ct=ve("ChartPie",zt);const Bt=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Kt=ve("Download",Bt);const Vt=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],jt=ve("Hash",Vt);const Ht=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Qt=ve("Pencil",Ht);const Gt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vt=ve("Save",Gt);const Ot=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Jt=ve("Settings",Ot);const Yt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xt=ve("Shield",Yt);function Wt(){const e=Te.c(56),s=Qe(),[i,o]=Ne.useState(!1),[x,l]=Ne.useState(null);let I;e[0]===Symbol.for("react.memo_cache_sentinel")?(I={name:"",type:"bank",code:"",logo:null},e[0]=I):I=e[0];const[n,d]=Ne.useState(I);let q;e[1]===Symbol.for("react.memo_cache_sentinel")?(q={queryKey:["institutions"],queryFn:is},e[1]=q):q=e[1];const{data:M,isLoading:a}=Re(q);let h;e[2]!==M?(h=M===void 0?[]:M,e[2]=M,e[3]=h):h=e[3];const f=h,A=je({mutationFn:ls,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),u(),V.success("Institution ajoutée avec succès")},onError:as}),_=je({mutationFn:ss,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),u(),V.success("Institution mise à jour avec succès")},onError:ts}),u=()=>{d({name:"",type:"bank",code:"",logo:null}),l(null),o(!1)};let S;e[4]===Symbol.for("react.memo_cache_sentinel")?(S=m=>{d({name:m.name,type:m.type,code:m.code,logo:null}),l(m.id),o(!0)},e[4]=S):S=e[4];const $=S;let g;e[5]!==s?(g={mutationFn:es,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),V.success("Institution supprimée")}},e[5]=s,e[6]=g):g=e[6];const b=je(g);let C;e[7]!==s?(C={mutationFn:Zt,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),V.success("Statut mis à jour")}},e[7]=s,e[8]=C):C=e[8];const y=je(C);let j,U;e[9]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-600 shadow-lg shadow-indigo-600/20",children:t.jsx(Je,{className:"h-5 w-5 text-white"})}),U=t.jsx("h4",{className:"text-sm font-black tracking-tight text-slate-800 uppercase",children:"Partenaires & Institutions"}),e[9]=j,e[10]=U):(j=e[9],U=e[10]);let c;e[11]!==f.length?(c=t.jsxs("div",{className:"ml-2 flex items-center gap-3",children:[j,t.jsxs("div",{children:[U,t.jsxs("p",{className:"text-[10px] font-bold tracking-widest text-slate-400 uppercase",children:[f.length," Entités Enregistrées"]})]})]}),e[11]=f.length,e[12]=c):c=e[12];let N;e[13]!==i?(N=()=>o(!i),e[13]=i,e[14]=N):N=e[14];const H=i?"bg-slate-200 text-slate-600 hover:bg-slate-300":"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20 hover:bg-indigo-700";let B;e[15]!==H?(B=Q("h-11 rounded-xl px-6 text-xs font-black tracking-widest uppercase transition-all",H),e[15]=H,e[16]=B):B=e[16];let E;e[17]!==i?(E=i?t.jsx(ft,{className:"mr-2 h-4 w-4"}):t.jsx(He,{className:"mr-2 h-4 w-4"}),e[17]=i,e[18]=E):E=e[18];const z=i?"Fermer":"Nouvelle Institution";let R;e[19]!==N||e[20]!==B||e[21]!==E||e[22]!==z?(R=t.jsxs(K,{onClick:N,className:B,children:[E,z]}),e[19]=N,e[20]=B,e[21]=E,e[22]=z,e[23]=R):R=e[23];let T;e[24]!==R||e[25]!==c?(T=t.jsxs("div",{className:"flex items-center justify-between rounded-[1.5rem] border border-slate-100 bg-slate-100/50 p-4",children:[c,R]}),e[24]=R,e[25]=c,e[26]=T):T=e[26];let k;e[27]!==A||e[28]!==x||e[29]!==n||e[30]!==u||e[31]!==i||e[32]!==_?(k=i&&t.jsx(Le.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:t.jsxs("div",{className:"relative rounded-[2rem] bg-slate-900 p-8 text-white shadow-2xl",children:[t.jsx("div",{className:"pointer-events-none absolute top-0 right-0 h-64 w-64 bg-indigo-500/10 blur-[100px]"}),t.jsxs("h5",{className:"mb-8 flex items-center gap-3 text-xl font-black tracking-tight",children:[t.jsx(Ke,{className:"h-6 w-6 text-indigo-400"}),x?"Modifier l'institution":"Configurer un nouveau partenaire"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Nom de l'institution"}),t.jsx(be,{placeholder:"ex: Bank of Africa",value:n.name,onChange:m=>d({...n,name:m.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Type de service"}),t.jsxs(Xe,{value:n.type,onValueChange:m=>d({...n,type:m}),children:[t.jsx(We,{className:"h-12 rounded-xl border-white/10 bg-white/5 font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500",children:t.jsx(Ze,{})}),t.jsxs(et,{className:"border-slate-800 bg-slate-900 text-white",children:[t.jsx(Ee,{value:"bank",className:"focus:bg-slate-800",children:"Banque Classique"}),t.jsx(Ee,{value:"mobile_money",className:"focus:bg-slate-800",children:"Mobile Money"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Code Identifiant"}),t.jsx(be,{placeholder:"ex: BOA-CD",value:n.code,onChange:m=>d({...n,code:m.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 font-mono font-black text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),t.jsxs("div",{className:"mt-6 space-y-2",children:[t.jsx(ee,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Logo de l'institution (Optionnel)"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"relative flex h-16 w-16 items-center justify-center overflow-hidden rounded-xl border border-white/10 bg-white/5",children:n.logo?t.jsx("img",{src:URL.createObjectURL(n.logo),alt:"Preview",className:"h-full w-full object-cover"}):t.jsx(Je,{className:"h-6 w-6 text-white/20"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx(be,{type:"file",accept:"image/*",onChange:m=>{m.target.files&&m.target.files[0]&&d({...n,logo:m.target.files[0]})},className:"h-12 w-full cursor-pointer rounded-xl border-white/10 bg-white/5 pt-2 text-sm font-bold text-white file:mr-4 file:rounded-lg file:border-0 file:bg-indigo-600 file:px-4 file:py-1 file:text-xs file:font-bold file:text-white hover:file:bg-indigo-700"}),t.jsx("p",{className:"mt-2 text-xs text-slate-400",children:"Format recommandé: PNG ou JPG, fond transparent. Max 2MB."})]})]})]}),t.jsxs("div",{className:"mt-10 flex justify-end gap-3",children:[t.jsx(K,{variant:"ghost",onClick:u,className:"h-12 rounded-xl px-8 text-xs font-black tracking-widest text-slate-400 uppercase hover:bg-white/5 hover:text-white",children:"Annuler"}),t.jsx(K,{onClick:()=>{x?_.mutate({id:x,data:n}):A.mutate(n)},disabled:A.isPending||_.isPending||!n.name||!n.code,className:"h-12 rounded-xl bg-white px-10 text-xs font-black tracking-widest text-slate-900 uppercase transition-all hover:bg-slate-100",children:A.isPending?t.jsx(Ve,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"mr-2 h-4 w-4"}),x?"Mettre à jour":"Enregistrer Partenaire"]})})]})]})}),e[27]=A,e[28]=x,e[29]=n,e[30]=u,e[31]=i,e[32]=_,e[33]=k):k=e[33];let F;e[34]!==k?(F=t.jsx(ut,{children:k}),e[34]=k,e[35]=F):F=e[35];let P;if(e[36]!==b||e[37]!==f||e[38]!==y){let m;e[40]!==b||e[41]!==y?(m=v=>t.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group relative overflow-hidden rounded-[2rem] border-2 border-slate-50 bg-white p-6 shadow-xl shadow-slate-200/50 transition-all duration-300 hover:border-indigo-100",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("div",{className:Q("flex h-14 w-14 items-center justify-center rounded-2xl shadow-lg transition-transform group-hover:rotate-6",v.type==="bank"?"bg-slate-900 text-white shadow-slate-900/10":"bg-emerald-500 text-white shadow-emerald-500/10"),children:v.logo_url?t.jsx("img",{src:v.logo_url,alt:v.name,className:"h-9 w-9 object-contain"}):v.type==="bank"?t.jsx(Je,{className:"h-7 w-7"}):t.jsx(kt,{className:"h-7 w-7"})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(K,{variant:"ghost",size:"icon",onClick:()=>y.mutate({id:v.id,is_active:!v.is_active}),className:Q("h-10 w-10 rounded-xl transition-all",v.is_active?"bg-emerald-50 text-emerald-500":"bg-slate-50 text-slate-300"),children:t.jsx(tt,{className:"h-5 w-5"})}),t.jsx(K,{variant:"ghost",size:"icon",onClick:()=>b.mutate(v.id),className:"h-10 w-10 rounded-xl text-slate-300 opacity-0 transition-all group-hover:opacity-100 hover:bg-rose-50 hover:text-rose-500",children:t.jsx(st,{className:"h-5 w-5"})}),t.jsx(K,{variant:"ghost",size:"icon",onClick:()=>$(v),className:"h-10 w-10 rounded-xl bg-slate-50 text-slate-400 transition-all hover:bg-indigo-50 hover:text-indigo-600",children:t.jsx(Qt,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"text-lg font-black tracking-tight text-slate-900",children:v.name}),!v.is_active&&t.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 text-[8px] font-black tracking-widest text-slate-400 uppercase",children:"Inactif"})]}),t.jsxs("div",{className:"mt-1 flex items-center gap-3",children:[t.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:v.code}),t.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-200"}),t.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase",children:v.type==="bank"?"Banque":"Mobile Money"})]})]}),t.jsx("div",{className:Q("absolute -right-6 -bottom-6 h-24 w-24 rounded-full opacity-[0.03] transition-transform group-hover:scale-150",v.type==="bank"?"bg-slate-900":"bg-emerald-500")})]},v.id),e[40]=b,e[41]=y,e[42]=m):m=e[42],P=f.map(m),e[36]=b,e[37]=f,e[38]=y,e[39]=P}else P=e[39];let D;e[43]!==f.length||e[44]!==a?(D=f.length===0&&!a&&t.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center rounded-[3rem] border-2 border-dashed border-slate-200 bg-slate-50/50 py-20",children:[t.jsx(Ke,{className:"mb-4 h-16 w-16 text-slate-200"}),t.jsx("p",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:"Aucune institution configurée"})]}),e[43]=f.length,e[44]=a,e[45]=D):D=e[45];let w;e[46]!==P||e[47]!==D?(w=t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3",children:[P,D]}),e[46]=P,e[47]=D,e[48]=w):w=e[48];let p;e[49]!==a?(p=a&&t.jsx("div",{className:"flex justify-center p-20",children:t.jsx(bt,{className:"h-10 w-10 animate-spin text-indigo-600"})}),e[49]=a,e[50]=p):p=e[50];let L;return e[51]!==T||e[52]!==F||e[53]!==w||e[54]!==p?(L=t.jsxs("div",{className:"space-y-8",children:[T,F,w,p]}),e[51]=T,e[52]=F,e[53]=w,e[54]=p,e[55]=L):L=e[55],L}function Zt(e){const{id:s,is_active:i}=e;return G.entities.Institution.update(s,{is_active:i})}function es(e){return G.entities.Institution.delete(e)}function ts(){return V.error("Erreur lors de la mise à jour")}function ss(e){const{id:s,data:i}=e,o=new FormData;return o.append("_method","PUT"),o.append("name",i.name),o.append("type",i.type),o.append("code",i.code),i.logo&&o.append("logo",i.logo),pt.post(`/api/institutions/${s}`,o,{headers:{"Content-Type":"multipart/form-data"}})}function as(){return V.error("Erreur lors de l'ajout de l'institution")}function ls(e){const s=new FormData;return s.append("name",e.name),s.append("type",e.type),s.append("code",e.code),e.logo&&s.append("logo",e.logo),pt.post("/api/institutions",s,{headers:{"Content-Type":"multipart/form-data"}})}function is(){return G.entities.Institution.list()}const dt=[{id:"USD_CDF",label:"USD → CDF",from:"USD",to:"CDF"},{id:"EUR_CDF",label:"EUR → CDF",from:"EUR",to:"CDF"},{id:"EUR_USD",label:"EUR → USD",from:"EUR",to:"USD"},{id:"CDF_USD",label:"CDF → USD",from:"CDF",to:"USD"}];function rs(){const e=Te.c(56),s=Qe();let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i={currency_pair:"",buy_rate:"",sell_rate:""},e[0]=i):i=e[0];const[o,x]=Ne.useState(i),[l,I]=Ne.useState(!1);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={queryKey:["rates"],queryFn:xs},e[1]=n):n=e[1];const{data:d,isLoading:q}=Re(n);let M;e[2]!==d?(M=d===void 0?[]:d,e[2]=d,e[3]=M):M=e[3];const a=M;let h;e[4]!==s?(h={mutationFn:ms,onSuccess:()=>{s.invalidateQueries({queryKey:["rates"]}),V.success("Taux mis à jour")}},e[4]=s,e[5]=h):h=e[5];const f=je(h);let A;e[6]!==s?(A={mutationFn:ds,onSuccess:()=>{s.invalidateQueries({queryKey:["rates"]}),x({currency_pair:"",buy_rate:"",sell_rate:""}),I(!1),V.success("Nouveau taux de change configuré")},onError:cs},e[6]=s,e[7]=A):A=e[7];const _=je(A);let u;e[8]!==s?(u={mutationFn:os,onSuccess:()=>{s.invalidateQueries({queryKey:["rates"]}),V.success("Configuration supprimée")}},e[8]=s,e[9]=u):u=e[9];const S=je(u);let $;e[10]!==f?($=(w,p,L)=>{L&&f.mutate({id:w.id,data:{[p]:parseFloat(L)}})},e[10]=f,e[11]=$):$=e[11];const g=$;let b,C;e[12]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-600 shadow-lg shadow-indigo-600/20",children:t.jsx(rt,{className:"h-5 w-5 text-white"})}),C=t.jsx("h4",{className:"text-sm font-black tracking-tight text-slate-800 uppercase",children:"Marché des Devises"}),e[12]=b,e[13]=C):(b=e[12],C=e[13]);let y;e[14]!==a.length?(y=t.jsxs("div",{className:"ml-2 flex items-center gap-3",children:[b,t.jsxs("div",{children:[C,t.jsxs("p",{className:"text-[10px] font-bold tracking-widest text-slate-400 uppercase",children:[a.length," Paires Actives"]})]})]}),e[14]=a.length,e[15]=y):y=e[15];let j;e[16]!==l?(j=()=>I(!l),e[16]=l,e[17]=j):j=e[17];const U=l?"bg-slate-200 text-slate-600 hover:bg-slate-300":"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20 hover:bg-indigo-700";let c;e[18]!==U?(c=Q("h-11 rounded-xl px-6 text-xs font-black tracking-widest uppercase transition-all",U),e[18]=U,e[19]=c):c=e[19];let N;e[20]!==l?(N=l?t.jsx(ft,{className:"mr-2 h-4 w-4"}):t.jsx(He,{className:"mr-2 h-4 w-4"}),e[20]=l,e[21]=N):N=e[21];const H=l?"Fermer":"Ajouter une Paire";let B;e[22]!==j||e[23]!==c||e[24]!==N||e[25]!==H?(B=t.jsxs(K,{onClick:j,className:c,children:[N,H]}),e[22]=j,e[23]=c,e[24]=N,e[25]=H,e[26]=B):B=e[26];let E;e[27]!==y||e[28]!==B?(E=t.jsxs("div",{className:"flex items-center justify-between rounded-[1.5rem] border border-slate-100 bg-slate-100/50 p-4",children:[y,B]}),e[27]=y,e[28]=B,e[29]=E):E=e[29];let z;e[30]!==_||e[31]!==o||e[32]!==l?(z=l&&t.jsx(Le.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:t.jsxs("div",{className:"relative rounded-[2rem] bg-slate-900 p-8 text-white shadow-2xl",children:[t.jsx("div",{className:"pointer-events-none absolute top-0 right-0 h-64 w-64 bg-indigo-500/10 blur-[100px]"}),t.jsxs("h5",{className:"mb-8 flex items-center gap-3 text-xl font-black tracking-tight",children:[t.jsx(He,{className:"h-6 w-6 text-indigo-400"}),"Nouvelle Configuration"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Paire de devises"}),t.jsxs(Xe,{value:o.currency_pair,onValueChange:w=>x({...o,currency_pair:w}),children:[t.jsx(We,{className:"h-12 rounded-xl border-white/10 bg-white/5 font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500",children:t.jsx(Ze,{placeholder:"Choisir une paire"})}),t.jsx(et,{className:"border-slate-800 bg-slate-900 text-white",children:dt.map(ns)})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Taux d'Achat (Buy)"}),t.jsxs("div",{className:"relative",children:[t.jsx(it,{className:"absolute top-1/2 left-4 h-4 w-4 -translate-y-1/2 text-emerald-400"}),t.jsx(be,{type:"number",placeholder:"0.00",value:o.buy_rate,onChange:w=>x({...o,buy_rate:w.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 pl-11 font-mono font-black text-white"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Taux de Vente (Sell)"}),t.jsxs("div",{className:"relative",children:[t.jsx(Be,{className:"absolute top-1/2 left-4 h-4 w-4 -translate-y-1/2 text-blue-400"}),t.jsx(be,{type:"number",placeholder:"0.00",value:o.sell_rate,onChange:w=>x({...o,sell_rate:w.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 pl-11 font-mono font-black text-white"})]})]})]}),t.jsxs("div",{className:"mt-10 flex justify-end gap-3",children:[t.jsx(K,{variant:"ghost",onClick:()=>I(!1),className:"h-12 rounded-xl px-8 text-xs font-black tracking-widest text-slate-400 uppercase hover:bg-white/5 hover:text-white",children:"Annuler"}),t.jsx(K,{onClick:()=>_.mutate(o),disabled:_.isPending||!o.currency_pair,className:"h-12 rounded-xl bg-white px-10 text-xs font-black tracking-widest text-slate-900 uppercase transition-all hover:bg-slate-100",children:_.isPending?t.jsx(Ve,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"mr-2 h-4 w-4"}),"Activer le Taux"]})})]})]})}),e[30]=_,e[31]=o,e[32]=l,e[33]=z):z=e[33];let R;e[34]!==z?(R=t.jsx(ut,{children:z}),e[34]=z,e[35]=R):R=e[35];let T;if(e[36]!==S||e[37]!==g||e[38]!==a){let w;e[40]!==S||e[41]!==g?(w=p=>{const L=dt.find(m=>m.id===p.currency_pair);return t.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group rounded-[2rem] border-2 border-slate-50 bg-white p-8 shadow-xl shadow-slate-200/50 transition-all duration-300 hover:border-indigo-100",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-slate-900 shadow-lg shadow-slate-900/10 transition-transform group-hover:rotate-6",children:t.jsx("span",{className:"text-sm font-black text-white",children:L?.from||p.currency_pair.split("_")[0]})}),t.jsx(Be,{className:"h-4 w-4 text-slate-300"}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl border border-indigo-100 bg-indigo-50",children:t.jsx("span",{className:"text-sm font-black text-indigo-600",children:L?.to||p.currency_pair.split("_")[1]})})]}),t.jsx(K,{variant:"ghost",size:"icon",onClick:()=>S.mutate(p.id),className:"h-10 w-10 rounded-xl text-slate-300 opacity-0 transition-all group-hover:opacity-100 hover:bg-rose-50 hover:text-rose-500",children:t.jsx(st,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsx("span",{className:"text-[9px] font-black tracking-widest text-slate-400 uppercase",children:"Achat (Buy)"}),t.jsx(it,{className:"h-3 w-3 text-emerald-500"})]}),t.jsx("div",{className:"relative",children:t.jsx(be,{type:"number",value:p.buy_rate,onChange:m=>g(p,"buy_rate",m.target.value),className:"h-14 rounded-2xl border-transparent bg-slate-50 font-mono text-xl font-black text-slate-900 focus:border-indigo-500 focus:bg-white"})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsx("span",{className:"text-[9px] font-black tracking-widest text-slate-400 uppercase",children:"Vente (Sell)"}),t.jsx(Be,{className:"h-3 w-3 text-blue-500"})]}),t.jsx("div",{className:"relative",children:t.jsx(be,{type:"number",value:p.sell_rate,onChange:m=>g(p,"sell_rate",m.target.value),className:"h-14 rounded-2xl border-transparent bg-slate-50 font-mono text-xl font-black text-slate-900 focus:border-indigo-500 focus:bg-white"})})]})]})]},p.id)},e[40]=S,e[41]=g,e[42]=w):w=e[42],T=a.map(w),e[36]=S,e[37]=g,e[38]=a,e[39]=T}else T=e[39];let k;e[43]!==q||e[44]!==a.length?(k=a.length===0&&!q&&t.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center rounded-[3rem] border-2 border-dashed border-slate-200 bg-slate-50/50 py-20",children:[t.jsx(rt,{className:"mb-4 h-16 w-16 text-slate-200"}),t.jsx("p",{className:"text-xs font-black tracking-[0.2em] text-slate-400 uppercase",children:"Aucun taux configuré"})]}),e[43]=q,e[44]=a.length,e[45]=k):k=e[45];let F;e[46]!==T||e[47]!==k?(F=t.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-2",children:[T,k]}),e[46]=T,e[47]=k,e[48]=F):F=e[48];let P;e[49]!==q?(P=q&&t.jsx("div",{className:"flex justify-center p-20",children:t.jsx(bt,{className:"h-10 w-10 animate-spin text-indigo-600"})}),e[49]=q,e[50]=P):P=e[50];let D;return e[51]!==E||e[52]!==R||e[53]!==F||e[54]!==P?(D=t.jsxs("div",{className:"space-y-8",children:[E,R,F,P]}),e[51]=E,e[52]=R,e[53]=F,e[54]=P,e[55]=D):D=e[55],D}function ns(e){return t.jsx(Ee,{value:e.id,className:"hover:bg-slate-800 focus:bg-slate-800",children:e.label},e.id)}async function os(e){await G.entities.ExchangeRate.delete(e)}function cs(){return V.error("Erreur lors de la création du taux")}async function ds(e){await G.entities.ExchangeRate.create({...e,buy_rate:parseFloat(e.buy_rate),sell_rate:parseFloat(e.sell_rate),is_active:!0})}async function ms(e){const{id:s,data:i}=e;await G.entities.ExchangeRate.update(s,i)}function xs(){return G.entities.ExchangeRate.filter({is_active:!0})}const mt={blue:{bg:"bg-blue-50",icon:"bg-blue-600 text-white shadow-blue-200",text:"text-blue-600",border:"border-blue-100",accent:"bg-blue-600/5",glow:"shadow-blue-500/10"},emerald:{bg:"bg-emerald-50",icon:"bg-emerald-600 text-white shadow-emerald-200",text:"text-emerald-600",border:"border-emerald-100",accent:"bg-emerald-600/5",glow:"shadow-emerald-500/10"},amber:{bg:"bg-amber-50",icon:"bg-amber-500 text-white shadow-amber-200",text:"text-amber-600",border:"border-amber-100",accent:"bg-amber-600/5",glow:"shadow-amber-500/10"},indigo:{bg:"bg-indigo-50",icon:"bg-indigo-600 text-white shadow-indigo-200",text:"text-indigo-600",border:"border-indigo-100",accent:"bg-indigo-600/5",glow:"shadow-indigo-500/10"},purple:{bg:"bg-purple-50",icon:"bg-purple-600 text-white shadow-purple-200",text:"text-purple-600",border:"border-purple-100",accent:"bg-purple-600/5",glow:"shadow-purple-500/10"},rose:{bg:"bg-rose-50",icon:"bg-rose-600 text-white shadow-rose-200",text:"text-rose-600",border:"border-rose-100",accent:"bg-rose-600/5",glow:"shadow-rose-500/10"}};function ze(e){const s=Te.c(43),{title:i,value:o,subtitle:x,icon:l,color:I,trend:n}=e,d=mt[I]||mt.blue;let q,M;s[0]===Symbol.for("react.memo_cache_sentinel")?(q={y:-5,scale:1.02},M={type:"spring",stiffness:400,damping:25},s[0]=q,s[1]=M):(q=s[0],M=s[1]);let a;s[2]!==d.glow?(a=Q("group relative overflow-hidden rounded-[2.5rem] border border-white bg-white/70 p-8 shadow-xl backdrop-blur-xl transition-all",d.glow),s[2]=d.glow,s[3]=a):a=s[3];let h;s[4]!==d.bg?(h=Q("absolute -top-12 -right-12 h-32 w-32 rounded-full opacity-20 blur-3xl",d.bg),s[4]=d.bg,s[5]=h):h=s[5];let f;s[6]!==h?(f=t.jsx("div",{className:h}),s[6]=h,s[7]=f):f=s[7];let A;s[8]!==d.icon?(A=Q("flex h-14 w-14 items-center justify-center rounded-2xl shadow-lg transition-transform duration-500 group-hover:scale-110",d.icon),s[8]=d.icon,s[9]=A):A=s[9];let _;s[10]!==l?(_=t.jsx(l,{className:"h-8 w-8"}),s[10]=l,s[11]=_):_=s[11];let u;s[12]!==A||s[13]!==_?(u=t.jsx("div",{className:A,children:_}),s[12]=A,s[13]=_,s[14]=u):u=s[14];let S;s[15]!==n?(S=n&&t.jsxs("div",{className:Q("flex items-center gap-1 rounded-full px-3 py-1 text-[10px] font-black tracking-widest uppercase",n.positive?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:[n.positive?"↑":"↓"," ",n.value]}),s[15]=n,s[16]=S):S=s[16];let $;s[17]!==u||s[18]!==S?($=t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[u,S]}),s[17]=u,s[18]=S,s[19]=$):$=s[19];let g;s[20]!==i?(g=t.jsx("p",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:i}),s[20]=i,s[21]=g):g=s[21];let b;s[22]!==o?(b=t.jsx("h2",{className:"text-3xl leading-tight font-black tracking-tight text-slate-900",children:o}),s[22]=o,s[23]=b):b=s[23];let C;s[24]!==d.text||s[25]!==x?(C=x&&t.jsxs("p",{className:"mt-2 flex items-center gap-1.5 text-[11px] font-bold tracking-wide text-slate-400 uppercase",children:[t.jsx("span",{className:Q("h-1.5 w-1.5 rounded-full",d.text.replace("text","bg"))}),x]}),s[24]=d.text,s[25]=x,s[26]=C):C=s[26];let y;s[27]!==g||s[28]!==b||s[29]!==C?(y=t.jsxs("div",{className:"space-y-1",children:[g,b,C]}),s[27]=g,s[28]=b,s[29]=C,s[30]=y):y=s[30];let j;s[31]!==$||s[32]!==y?(j=t.jsxs("div",{className:"relative z-10 flex h-full flex-col",children:[$,y]}),s[31]=$,s[32]=y,s[33]=j):j=s[33];let U;s[34]!==d.text?(U=Q("absolute bottom-0 left-0 h-1.5 w-full opacity-30",d.text.replace("text","bg")),s[34]=d.text,s[35]=U):U=s[35];let c;s[36]!==U?(c=t.jsx("div",{className:U}),s[36]=U,s[37]=c):c=s[37];let N;return s[38]!==j||s[39]!==c||s[40]!==a||s[41]!==f?(N=t.jsxs(Le.div,{whileHover:q,transition:M,className:a,children:[f,j,c]}),s[38]=j,s[39]=c,s[40]=a,s[41]=f,s[42]=N):N=s[42],N}function xt(e){const s=Te.c(6),{transactions:i}=e;if(i.length===0){let I;return s[0]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-[2rem] border-2 border-dashed border-slate-200 bg-slate-50/50 p-20",children:[t.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl border border-slate-100 bg-white shadow-sm",children:t.jsx(jt,{className:"h-8 w-8 text-slate-300"})}),t.jsx("p",{className:"text-xs font-black tracking-widest text-slate-400 uppercase",children:"Aucune transaction trouvée"})]}),s[0]=I):I=s[0],I}let o;s[1]===Symbol.for("react.memo_cache_sentinel")?(o=t.jsx("thead",{children:t.jsxs("tr",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:[t.jsx("th",{className:"px-6 py-4 font-black",children:"Transaction / Client"}),t.jsx("th",{className:"px-6 py-4 text-center font-black",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Montant Entrée"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Montant Sortie"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Commission"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Date / Heure"})]})}),s[1]=o):o=s[1];let x;s[2]!==i?(x=i.map(hs),s[2]=i,s[3]=x):x=s[3];let l;return s[4]!==x?(l=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-separate border-spacing-y-3 text-left",children:[o,t.jsx("tbody",{children:x})]})}),s[4]=x,s[5]=l):l=s[5],l}function hs(e){return t.jsxs("tr",{className:"group rounded-2xl border border-slate-100 bg-white transition-all duration-300 hover:bg-slate-50",children:[t.jsx("td",{className:"rounded-l-2xl border-y border-l border-slate-100 px-6 py-5 group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-slate-900 shadow-lg shadow-slate-900/10 transition-transform group-hover:scale-110",children:t.jsx(gt,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{className:"flex min-w-0 flex-col",children:[t.jsx("span",{className:"truncate text-sm font-black text-slate-900",children:e.client_name||"Utilisateur"}),t.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold tracking-tight text-slate-400 uppercase",children:[t.jsx(jt,{className:"h-2.5 w-2.5"})," ID-",e.id.toString().slice(-4).toUpperCase()]})]})]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-center group-hover:border-indigo-100",children:t.jsxs("div",{className:Q("inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-[10px] font-black tracking-widest uppercase",e.operation_type==="change"?"bg-indigo-50 text-indigo-600":"bg-amber-50 text-amber-600"),children:[e.operation_type==="change"?t.jsx(It,{className:"h-3 w-3"}):t.jsx(Pt,{className:"h-3 w-3"}),e.operation_type]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-black text-slate-900",children:e.amount_from?.toLocaleString()}),t.jsx("span",{className:"text-[10px] font-black tracking-tighter text-slate-400 uppercase",children:e.currency_from})]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-black text-emerald-600",children:e.amount_to?.toLocaleString()}),t.jsx("span",{className:"text-[10px] font-black tracking-tighter text-emerald-600 uppercase opacity-60",children:e.currency_to})]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("span",{className:"rounded-lg bg-slate-900 px-3 py-1 font-mono text-xs font-black text-white shadow-lg shadow-slate-900/10",children:["$",parseFloat(e.commission).toLocaleString()]})}),t.jsx("td",{className:"rounded-r-2xl border-y border-r border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-black text-slate-700",children:Pe(e.created_date).format("DD/MM/YYYY")}),t.jsxs("span",{className:"flex items-center justify-end gap-1 text-[10px] font-bold text-slate-400",children:[t.jsx(wt,{className:"h-2.5 w-2.5"})," ",Pe(e.created_date).format("HH:mm")]})]})})]},e.id)}function us(){const e=Te.c(99),{auth:s}=ht().props,i=s.user?.role==="super-admin",[o,x]=Ne.useState(!1),[l,I]=Ne.useState(null),n=Qe(),d=i?"manager":"cashier";let q;e[0]===Symbol.for("react.memo_cache_sentinel")?(q=[],e[0]=q):q=e[0];let M;e[1]!==d?(M={name:"",email:"",password:"",role:d,is_active:!0,shop_ids:q},e[1]=d,e[2]=M):M=e[2];const[a,h]=Ne.useState(M);let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=["shops"],e[3]=f):f=e[3];let A;e[4]!==i?(A={queryKey:f,queryFn:G.entities.Shop.list,enabled:i},e[4]=i,e[5]=A):A=e[5];const{data:_}=Re(A);let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u={queryKey:["users"],queryFn:G.entities.User.list},e[6]=u):u=e[6];const{data:S,isLoading:$}=Re(u);let g;e[7]!==n?(g={mutationFn:G.entities.User.create,onSuccess:()=>{n.invalidateQueries({queryKey:["users"]}),x(!1),h({name:"",email:"",password:"",role:"cashier",is_active:!0}),V.success("Utilisateur créé avec succès")},onError:ws},e[7]=n,e[8]=g):g=e[8];const b=je(g);let C;e[9]!==n?(C={mutationFn:vs,onSuccess:()=>{n.invalidateQueries({queryKey:["users"]}),I(null),h({name:"",email:"",password:"",role:"cashier",is_active:!0}),V.success("Utilisateur mis à jour avec succès")},onError:js},e[9]=n,e[10]=C):C=e[10];const y=je(C);let j;e[11]!==n?(j={mutationFn:bs,onSuccess:()=>{n.invalidateQueries({queryKey:["users"]}),V.success("Utilisateur supprimé avec succès")},onError:gs},e[11]=n,e[12]=j):j=e[12];const U=je(j);let c;e[13]!==b||e[14]!==l||e[15]!==a||e[16]!==y?(c=r=>{r.preventDefault(),l?y.mutate({id:l.id,data:a}):b.mutate(a)},e[13]=b,e[14]=l,e[15]=a,e[16]=y,e[17]=c):c=e[17];const N=c;let H;e[18]===Symbol.for("react.memo_cache_sentinel")?(H=r=>{I(r),h({name:r.name,email:r.email,role:r.role,is_active:r.is_active}),x(!0)},e[18]=H):H=e[18];const B=H;let E;e[19]!==U?(E=r=>{confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ?")&&U.mutate(r)},e[19]=U,e[20]=E):E=e[20];const z=E,R=fs;let T;e[21]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight text-slate-900",children:"Gestion des utilisateurs"}),t.jsx("p",{className:"text-slate-500",children:"Gérez les accès et les rôles des utilisateurs"})]}),e[21]=T):T=e[21];let k;e[22]!==i?(k=()=>{I(null),h({name:"",email:"",password:"",role:i?"manager":"cashier",is_active:!0}),x(!0)},e[22]=i,e[23]=k):k=e[23];let F;e[24]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(He,{className:"mr-2 h-4 w-4"}),e[24]=F):F=e[24];const P=i?"Nouvel utilisateur":"Nouveau Caissier";let D;e[25]!==k||e[26]!==P?(D=t.jsxs("div",{className:"flex items-center justify-between",children:[T,t.jsxs(K,{onClick:k,className:"bg-[#1f61e4] hover:bg-[#1f61e4]/90",children:[F,P]})]}),e[25]=k,e[26]=P,e[27]=D):D=e[27];let w;e[28]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(Ct,{children:t.jsxs(Ye,{children:[t.jsx(Ue,{children:"Nom"}),t.jsx(Ue,{children:"Email"}),t.jsx(Ue,{children:"Boutique"}),t.jsx(Ue,{children:"Rôle"}),t.jsx(Ue,{children:"Statut"}),t.jsx(Ue,{className:"text-right",children:"Actions"})]})}),e[28]=w):w=e[28];let p;e[29]!==z||e[30]!==$||e[31]!==S?(p=$?t.jsx(Ye,{children:t.jsx(De,{colSpan:5,className:"h-24 text-center",children:"Chargement..."})}):S?.map(r=>t.jsxs(Ye,{children:[t.jsx(De,{className:"font-medium",children:r.name}),t.jsx(De,{children:r.email}),t.jsx(De,{children:t.jsx("div",{className:"flex flex-wrap gap-1",children:r.shops&&r.shops.length>0?r.shops.map(ps):t.jsx("span",{className:"text-[10px] text-slate-400 italic",children:"Aucune"})})}),t.jsx(De,{children:R(r.role)}),t.jsx(De,{children:t.jsx(qe,{variant:r.is_active?"default":"destructive",className:r.is_active?"bg-green-500 hover:bg-green-600":"",children:r.is_active?"Actif":"Inactif"})}),t.jsx(De,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-2",children:[t.jsx(K,{variant:"ghost",size:"icon",onClick:()=>B(r),className:"h-8 w-8 text-slate-500 hover:text-[#1f61e4]",children:t.jsx(St,{className:"h-4 w-4"})}),t.jsx(K,{variant:"ghost",size:"icon",onClick:()=>z(r.id),className:"h-8 w-8 text-slate-500 hover:text-red-600",children:t.jsx(st,{className:"h-4 w-4"})})]})})]},r.id)),e[29]=z,e[30]=$,e[31]=S,e[32]=p):p=e[32];let L;e[33]!==p?(L=t.jsx("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm",children:t.jsxs(Ft,{children:[w,t.jsx(Dt,{children:p})]})}),e[33]=p,e[34]=L):L=e[34];const m=l?"Modifier l'utilisateur":"Nouvel utilisateur";let v;e[35]!==m?(v=t.jsx(At,{children:t.jsx($t,{children:m})}),e[35]=m,e[36]=v):v=e[36];let ke;e[37]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(ee,{htmlFor:"name",children:"Nom complet"}),e[37]=ke):ke=e[37];let O;e[38]!==a?(O=r=>h({...a,name:r.target.value}),e[38]=a,e[39]=O):O=e[39];let te;e[40]!==a.name||e[41]!==O?(te=t.jsxs("div",{className:"space-y-2",children:[ke,t.jsx(be,{id:"name",value:a.name,onChange:O,required:!0})]}),e[40]=a.name,e[41]=O,e[42]=te):te=e[42];let _e;e[43]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsx(ee,{htmlFor:"email",children:"Email"}),e[43]=_e):_e=e[43];let J;e[44]!==a?(J=r=>h({...a,email:r.target.value}),e[44]=a,e[45]=J):J=e[45];let se;e[46]!==a.email||e[47]!==J?(se=t.jsxs("div",{className:"space-y-2",children:[_e,t.jsx(be,{id:"email",type:"email",value:a.email,onChange:J,required:!0})]}),e[46]=a.email,e[47]=J,e[48]=se):se=e[48];let he;e[49]!==l||e[50]!==a?(he=!l&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{htmlFor:"password",children:"Mot de passe"}),t.jsx(be,{id:"password",type:"password",value:a.password,onChange:r=>h({...a,password:r.target.value}),required:!l})]}),e[49]=l,e[50]=a,e[51]=he):he=e[51];let ae;e[52]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(ee,{htmlFor:"role",children:"Rôle"}),e[52]=ae):ae=e[52];let le;e[53]!==a?(le=r=>h({...a,role:r}),e[53]=a,e[54]=le):le=e[54];const Fe=!i;let ie;e[55]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(We,{children:t.jsx(Ze,{placeholder:"Sélectionner un rôle"})}),e[55]=ie):ie=e[55];let Y;e[56]!==i?(Y=i&&t.jsx(Ee,{value:"manager",children:"Manager"}),e[56]=i,e[57]=Y):Y=e[57];let we;e[58]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(Ee,{value:"cashier",children:"Caissier"}),e[58]=we):we=e[58];let re;e[59]!==i?(re=i&&t.jsx(Ee,{value:"client",children:"Client"}),e[59]=i,e[60]=re):re=e[60];let ne;e[61]!==Y||e[62]!==re?(ne=t.jsxs(et,{children:[Y,we,re]}),e[61]=Y,e[62]=re,e[63]=ne):ne=e[63];let oe;e[64]!==a.role||e[65]!==le||e[66]!==Fe||e[67]!==ne?(oe=t.jsxs("div",{className:"space-y-2",children:[ae,t.jsxs(Xe,{value:a.role,onValueChange:le,disabled:Fe,children:[ie,ne]})]}),e[64]=a.role,e[65]=le,e[66]=Fe,e[67]=ne,e[68]=oe):oe=e[68];let ce;e[69]!==_||e[70]!==a||e[71]!==i?(ce=i&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(ee,{className:"text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Assigner aux Boutiques"}),t.jsx("div",{className:"grid max-h-32 grid-cols-2 gap-2 overflow-y-auto rounded-lg border p-1",children:_?.map(r=>t.jsxs("div",{onClick:()=>{const fe=a.shop_ids||[],Se=fe.includes(r.id)?fe.filter(Ce=>Ce!==r.id):[...fe,r.id];h({...a,shop_ids:Se})},className:`flex cursor-pointer items-center gap-2 rounded-md border p-2 transition-colors ${a.shop_ids?.includes(r.id)?"border-indigo-200 bg-indigo-50":"bg-white hover:bg-slate-50"}`,children:[t.jsx("div",{className:`h-3 w-3 rounded-sm border ${a.shop_ids?.includes(r.id)?"border-indigo-600 bg-indigo-600":"border-slate-300"}`}),t.jsx("span",{className:"text-xs font-bold",children:r.name})]},r.id))})]}),e[69]=_,e[70]=a,e[71]=i,e[72]=ce):ce=e[72];let de;e[73]!==l||e[74]!==a?(de=l&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"is_active",checked:a.is_active,onChange:r=>h({...a,is_active:r.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),t.jsx(ee,{htmlFor:"is_active",children:"Compte actif"})]}),e[73]=l,e[74]=a,e[75]=de):de=e[75];let ye;e[76]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(K,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Annuler"}),e[76]=ye):ye=e[76];const ue=b.isPending||y.isPending,pe=b.isPending||y.isPending?"Enregistrement...":"Enregistrer";let me;e[77]!==ue||e[78]!==pe?(me=t.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[ye,t.jsx(K,{type:"submit",className:"bg-[#1f61e4] hover:bg-[#1f61e4]/90",disabled:ue,children:pe})]}),e[77]=ue,e[78]=pe,e[79]=me):me=e[79];let X;e[80]!==N||e[81]!==te||e[82]!==se||e[83]!==he||e[84]!==oe||e[85]!==ce||e[86]!==de||e[87]!==me?(X=t.jsxs("form",{onSubmit:N,className:"space-y-4",children:[te,se,he,oe,ce,de,me]}),e[80]=N,e[81]=te,e[82]=se,e[83]=he,e[84]=oe,e[85]=ce,e[86]=de,e[87]=me,e[88]=X):X=e[88];let W;e[89]!==v||e[90]!==X?(W=t.jsxs(Ut,{children:[v,X]}),e[89]=v,e[90]=X,e[91]=W):W=e[91];let Z;e[92]!==o||e[93]!==W?(Z=t.jsx(qt,{open:o,onOpenChange:x,children:W}),e[92]=o,e[93]=W,e[94]=Z):Z=e[94];let xe;return e[95]!==D||e[96]!==L||e[97]!==Z?(xe=t.jsxs("div",{className:"space-y-6",children:[D,L,Z]}),e[95]=D,e[96]=L,e[97]=Z,e[98]=xe):xe=e[98],xe}function ps(e){return t.jsx(qe,{variant:"outline",className:"py-0 text-[10px]",children:e.name},e.id)}function fs(e){switch(e){case"manager":return t.jsxs(qe,{className:"bg-purple-500 hover:bg-purple-600",children:[t.jsx(tt,{className:"mr-1 h-3 w-3"})," Manager"]});case"cashier":return t.jsxs(qe,{className:"bg-pink-500 hover:bg-pink-600",children:[t.jsx(Xt,{className:"mr-1 h-3 w-3"})," Caissier"]});case"client":return t.jsxs(qe,{className:"bg-cyan-500 hover:bg-cyan-600",children:[t.jsx(gt,{className:"mr-1 h-3 w-3"})," Client"]});default:return t.jsx(qe,{variant:"secondary",children:e})}}function gs(e){V.error(e.message||"Erreur lors de la suppression")}function bs(e){return G.entities.User.delete(e)}function js(e){V.error(e.message||"Erreur lors de la mise à jour")}function vs(e){const{id:s,data:i}=e;return G.entities.User.update(s,i)}function ws(e){V.error(e.message||"Erreur lors de la création")}function ea(){const e=Te.c(113),{auth:s}=ht().props,o=s.user?.role==="super-admin",x=Qe(),[l,I]=Ne.useState(o?"shops":"overview");let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={queryKey:["all-clients"],queryFn:Ds,refetchInterval:3e4},e[0]=n):n=e[0];const{data:d,isLoading:q}=Re(n);let M;e[1]!==d?(M=d===void 0?[]:d,e[1]=d,e[2]=M):M=e[2];const a=M;let h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h={queryKey:["all-transactions"],queryFn:Fs,refetchInterval:3e4},e[3]=h):h=e[3];const{data:f,isLoading:A}=Re(h);let _;e[4]!==f?(_=f===void 0?[]:f,e[4]=f,e[5]=_):_=e[5];const u=_;let S,$,g,b;if(e[6]!==a||e[7]!==u){const ge=Pe().startOf("day");$=a.filter(Oe=>Pe(Oe.created_date).isSameOrAfter(ge));const Ge=u.filter(Oe=>Pe(Oe.created_date).isSameOrAfter(ge));b=Ge.filter(Cs).reduce(Ss,0),g=Ge.filter(_s).reduce(ks,0),S=Ge.reduce(Ns,0),e[6]=a,e[7]=u,e[8]=S,e[9]=$,e[10]=g,e[11]=b}else S=e[8],$=e[9],g=e[10],b=e[11];const C=S,y=$.length;let j;e[12]!==a?(j=a.filter(ys),e[12]=a,e[13]=j):j=e[13];let U;e[14]!==j.length||e[15]!==$.length||e[16]!==C||e[17]!==g||e[18]!==b?(U={todayClients:y,waiting:j.length,volumeUSD:b,volumeCDF:g,commissions:C},e[14]=j.length,e[15]=$.length,e[16]=C,e[17]=g,e[18]=b,e[19]=U):U=e[19];const c=U;let N;e[20]!==x?(N=()=>{x.invalidateQueries({queryKey:["all-clients"]}),x.invalidateQueries({queryKey:["all-transactions"]}),V.success("Tableau de bord actualisé")},e[20]=x,e[21]=N):N=e[21];const H=N;let B;e[22]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("div",{className:"group flex h-14 w-14 rotate-3 cursor-pointer items-center justify-center rounded-2xl bg-indigo-600 shadow-lg shadow-indigo-500/30 transition-transform hover:rotate-0",children:t.jsx(tt,{className:"h-8 w-8 text-white"})}),e[22]=B):B=e[22];let E;e[23]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h1",{className:"text-3xl leading-none font-black tracking-tight text-slate-900",children:"Console Manager"}),t.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-0.5 text-[10px] font-black tracking-widest text-emerald-600 uppercase",children:"Live API"})]}),e[23]=E):E=e[23];let z;e[24]!==s.user?(z=s.user?.shops?.[0]&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"mx-2",children:"•"}),t.jsx(at,{className:"mr-1 h-3 w-3 text-indigo-500"}),"Manager de : ",s.user.shops[0].name]}),e[24]=s.user,e[25]=z):z=e[25];let R;e[26]!==z?(R=t.jsxs("div",{className:"flex items-center gap-5",children:[B,t.jsxs("div",{children:[E,t.jsxs("p",{className:"mt-2 flex items-center gap-2 text-[11px] font-black tracking-[0.2em] text-slate-400 uppercase",children:["Supervision & Reporting Financier",z]})]})]}),e[26]=z,e[27]=R):R=e[27];const T=(q||A)&&"animate-spin";let k;e[28]!==T?(k=Q("h-5 w-5",T),e[28]=T,e[29]=k):k=e[29];let F;e[30]!==k?(F=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl border border-slate-100 bg-white text-slate-400 shadow-sm",children:t.jsx(Ve,{className:k})}),e[30]=k,e[31]=F):F=e[31];let P;e[32]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black tracking-wider text-slate-400 uppercase",children:"Dernier Sync"}),t.jsx("div",{className:"text-xs font-bold text-slate-600",children:"A l'instant"})]}),e[32]=P):P=e[32];let D;e[33]!==F?(D=t.jsxs("div",{className:"hidden items-center gap-3 rounded-2xl border border-slate-200 bg-slate-50 p-1.5 pr-5 xl:flex",children:[F,P]}),e[33]=F,e[34]=D):D=e[34];let w;e[35]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(Ve,{className:"mr-2 h-4 w-4"}),e[35]=w):w=e[35];let p;e[36]!==H?(p=t.jsxs(K,{variant:"outline",onClick:H,className:"h-12 rounded-2xl border-slate-200 bg-white px-6 text-xs font-black tracking-widest uppercase shadow-sm transition-all hover:border-indigo-500 hover:text-indigo-600",children:[w,"Actualiser"]}),e[36]=H,e[37]=p):p=e[37];let L;e[38]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsxs(K,{className:"h-12 rounded-2xl bg-slate-900 px-6 text-xs font-black tracking-widest text-white uppercase shadow-xl shadow-slate-900/10 transition-all hover:bg-black active:scale-95",children:[t.jsx(Kt,{className:"mr-2 h-4 w-4 text-emerald-400"}),"Exporter Rapport"]}),e[38]=L):L=e[38];let m;e[39]!==D||e[40]!==p?(m=t.jsxs("div",{className:"flex items-center gap-4",children:[D,p,L]}),e[39]=D,e[40]=p,e[41]=m):m=e[41];let v;e[42]!==R||e[43]!==m?(v=t.jsxs("header",{className:"z-20 flex h-24 flex-shrink-0 items-center justify-between border-b border-slate-200 bg-white px-10 shadow-[0_1px_3px_rgba(0,0,0,0.02)]",children:[R,m]}),e[42]=R,e[43]=m,e[44]=v):v=e[44];const ke=`${c.waiting} en attente`;let O;e[45]!==c.todayClients||e[46]!==ke?(O=t.jsx(ze,{title:"Clients Aujourd'hui",value:c.todayClients,subtitle:ke,icon:nt,color:"blue"}),e[45]=c.todayClients,e[46]=ke,e[47]=O):O=e[47];let te;e[48]!==c.volumeUSD?(te=c.volumeUSD.toLocaleString(),e[48]=c.volumeUSD,e[49]=te):te=e[49];const _e=`$ ${te}`;let J;e[50]!==_e?(J=t.jsx(ze,{title:"Volume USD",value:_e,icon:Be,color:"emerald"}),e[50]=_e,e[51]=J):J=e[51];let se;e[52]!==c.volumeCDF?(se=c.volumeCDF.toLocaleString(),e[52]=c.volumeCDF,e[53]=se):se=e[53];const he=`${se} FC`;let ae;e[54]!==he?(ae=t.jsx(ze,{title:"Volume CDF",value:he,icon:Ke,color:"amber"}),e[54]=he,e[55]=ae):ae=e[55];let le;e[56]!==c.commissions?(le=c.commissions.toLocaleString(),e[56]=c.commissions,e[57]=le):le=e[57];const Fe=`$ ${le}`;let ie;e[58]!==Fe?(ie=t.jsx(ze,{title:"Commissions Estimées",value:Fe,icon:ct,color:"indigo"}),e[58]=Fe,e[59]=ie):ie=e[59];let Y;e[60]!==O||e[61]!==J||e[62]!==ae||e[63]!==ie?(Y=t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[O,J,ae,ie]}),e[60]=O,e[61]=J,e[62]=ae,e[63]=ie,e[64]=Y):Y=e[64];let we;e[65]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx("h3",{className:"mb-6 px-2 text-[11px] font-black tracking-[0.2em] text-slate-400 uppercase",children:"Navigation"}),e[65]=we):we=e[65];let re,ne,oe,ce,de,ye;e[66]===Symbol.for("react.memo_cache_sentinel")?(re={id:"overview",label:"Vue d'ensemble",icon:lt},ne={id:"transactions",label:"Flux Transactions",icon:yt},oe={id:"rates",label:"Gestion Taux",icon:Jt},ce={id:"users",label:"Utilisateurs",icon:nt},de={id:"institutions",label:"Banques & Partenaires",icon:Ke},ye={id:"logs",label:"Journal Activité",icon:ot},e[66]=re,e[67]=ne,e[68]=oe,e[69]=ce,e[70]=de,e[71]=ye):(re=e[66],ne=e[67],oe=e[68],ce=e[69],de=e[70],ye=e[71]);let ue;e[72]!==o?(ue=[re,ne,oe,ce,de,ye,...o?[{id:"shops",label:"Gestion Boutiques",icon:at}]:[]],e[72]=o,e[73]=ue):ue=e[73];let pe;e[74]!==l||e[75]!==ue?(pe=t.jsxs("div",{className:"rounded-[2rem] border border-white bg-white/50 p-6 shadow-sm backdrop-blur-xl",children:[we,t.jsx("nav",{className:"space-y-2",children:ue.map(ge=>t.jsxs("button",{onClick:()=>I(ge.id),className:Q("flex w-full items-center justify-between rounded-2xl border p-4 text-sm font-bold transition-all duration-300",l===ge.id?"border-indigo-600 bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"border-slate-100 bg-white/40 text-slate-500 hover:border-slate-200 hover:bg-white"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(ge.icon,{className:Q("h-5 w-5",l===ge.id?"text-white":"text-slate-400")}),ge.label]}),t.jsx(_t,{className:Q("h-4 w-4 transition-transform",l===ge.id?"translate-x-1":"opacity-0")})]},ge.id))})]}),e[74]=l,e[75]=ue,e[76]=pe):pe=e[76];let me;e[77]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsxs("div",{className:"group relative overflow-hidden rounded-[2rem] bg-slate-900 p-8 text-white shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 h-32 w-32 translate-x-1/2 -translate-y-1/2 bg-indigo-500/20 blur-[80px]"}),t.jsx("h4",{className:"relative z-10 mb-2 text-xl font-black",children:"Besoin d'aide ?"}),t.jsx("p",{className:"relative z-10 mb-6 text-xs font-medium text-slate-400",children:"Consultez la documentation technique du bureau de change."}),t.jsx(K,{className:"relative z-10 w-full rounded-xl bg-white text-[10px] font-black tracking-widest text-slate-900 uppercase hover:bg-slate-100",children:"Guide Manager"})]}),e[77]=me):me=e[77];let X;e[78]!==pe?(X=t.jsxs("div",{className:"col-span-12 space-y-4 lg:col-span-3",children:[pe,me]}),e[78]=pe,e[79]=X):X=e[79];let W;e[80]!==l||e[81]!==u?(W=l==="overview"&&t.jsxs("div",{className:"animate-in space-y-8 duration-500 fade-in slide-in-from-bottom-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-black tracking-tight text-slate-800",children:"Performances du Jour"}),t.jsx("p",{className:"text-sm font-medium text-slate-400",children:"Aperçu rapide des flux financiers et des clients."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:"rounded-xl border border-indigo-100 bg-indigo-50 px-4 py-2 text-xs font-black tracking-wider text-indigo-600 uppercase",children:"Hebdomadaire"}),t.jsx("span",{className:"cursor-pointer rounded-xl border border-slate-100 bg-white px-4 py-2 text-xs font-black tracking-wider text-slate-400 uppercase hover:bg-slate-50",children:"Mensuel"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"flex h-64 flex-col items-center justify-center rounded-3xl border border-slate-100 bg-slate-50 p-8 opacity-50",children:[t.jsx(ct,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("p",{className:"text-xs font-black tracking-[0.2em] text-slate-400 uppercase",children:"Graphique des Flux (Soon)"})]}),t.jsxs("div",{className:"flex h-64 flex-col items-center justify-center rounded-3xl border border-slate-100 bg-slate-50 p-8 opacity-50",children:[t.jsx(lt,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("p",{className:"text-xs font-black tracking-[0.2em] text-slate-400 uppercase",children:"Volume par Guichet (Soon)"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("h4",{className:"text-lg font-black tracking-tight text-slate-800",children:"Activités Récentes"}),t.jsx(K,{variant:"ghost",className:"font-bold text-indigo-600 hover:bg-indigo-50",children:"Voir tout"})]}),t.jsx(xt,{transactions:u.slice(0,5)})]})]}),e[80]=l,e[81]=u,e[82]=W):W=e[82];let Z;e[83]!==l||e[84]!==u?(Z=l==="transactions"&&t.jsxs("div",{className:"animate-in space-y-6 duration-300 fade-in",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-2xl font-black tracking-tight text-slate-800",children:"Journal Complet"}),t.jsxs("div",{className:"relative w-72",children:[t.jsx(Et,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{placeholder:"Filtrer...",className:"h-10 w-full rounded-xl border-slate-200 pr-4 pl-10 text-sm focus:ring-indigo-500"})]})]}),t.jsx(xt,{transactions:u})]}),e[83]=l,e[84]=u,e[85]=Z):Z=e[85];let xe;e[86]!==l?(xe=l==="rates"&&t.jsx("div",{className:"animate-in duration-300 fade-in",children:t.jsx(rs,{})}),e[86]=l,e[87]=xe):xe=e[87];let r;e[88]!==l?(r=l==="institutions"&&t.jsx("div",{className:"animate-in duration-300 fade-in",children:t.jsx(Wt,{})}),e[88]=l,e[89]=r):r=e[89];let fe;e[90]!==l?(fe=l==="users"&&t.jsx("div",{className:"animate-in duration-300 fade-in",children:t.jsx(us,{})}),e[90]=l,e[91]=fe):fe=e[91];let Se;e[92]!==l?(Se=l==="shops"&&t.jsx("div",{className:"animate-in duration-300 fade-in",children:t.jsx(Mt,{})}),e[92]=l,e[93]=Se):Se=e[93];let Ce;e[94]!==l?(Ce=l==="logs"&&t.jsxs("div",{className:"flex h-96 animate-in flex-col items-center justify-center space-y-4 opacity-40 duration-300 zoom-in-95",children:[t.jsx(ot,{className:"h-20 w-20 text-slate-200"}),t.jsx("p",{className:"text-xs font-black tracking-[0.3em] text-slate-400 uppercase",children:"Journal d'audit Manager bientôt disponible"})]}),e[94]=l,e[95]=Ce):Ce=e[95];let Me;e[96]!==W||e[97]!==Z||e[98]!==xe||e[99]!==r||e[100]!==fe||e[101]!==Se||e[102]!==Ce?(Me=t.jsx("div",{className:"col-span-12 lg:col-span-9",children:t.jsx("div",{className:"min-h-[600px] overflow-hidden rounded-[2.5rem] border border-white bg-white/80 shadow-xl shadow-slate-200/50 backdrop-blur-xl",children:t.jsxs("div",{className:"p-10",children:[W,Z,xe,r,fe,Se,Ce]})})}),e[96]=W,e[97]=Z,e[98]=xe,e[99]=r,e[100]=fe,e[101]=Se,e[102]=Ce,e[103]=Me):Me=e[103];let Ae;e[104]!==X||e[105]!==Me?(Ae=t.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[X,Me]}),e[104]=X,e[105]=Me,e[106]=Ae):Ae=e[106];let $e;e[107]!==Y||e[108]!==Ae?($e=t.jsx("main",{className:"flex-1 overflow-y-auto bg-[url('/grid.svg')] bg-[length:40px_40px] px-10 py-10",children:t.jsxs("div",{className:"w-full max-w-none space-y-10",children:[Y,Ae]})}),e[107]=Y,e[108]=Ae,e[109]=$e):$e=e[109];let Ie;return e[110]!==v||e[111]!==$e?(Ie=t.jsx(Nt,{currentPageName:"Manager",children:t.jsxs("div",{className:"flex flex-col overflow-hidden bg-[#f8fafc]",children:[v,$e]})}),e[110]=v,e[111]=$e,e[112]=Ie):Ie=e[112],Ie}function ys(e){return e.status==="waiting"}function Ns(e,s){return e+(parseFloat(s.commission)||0)}function ks(e,s){return e+(s.amount_from||0)}function _s(e){return e.currency_from==="CDF"}function Ss(e,s){return e+(s.amount_from||0)}function Cs(e){return e.currency_from==="USD"}function Fs(){return G.entities.Transaction.list("-created_date",500)}function Ds(){return G.entities.Client.list("-created_date",500)}export{ea as default};

import{c as pe,u as Le,r as me,j as t}from"./app-DvaUKoe-.js";import{u as ke,L as _e,A as Ke,S as st,b as O,c as Qe,C as at}from"./base44Client-C8CHlZcl.js";import{L as J,I as Y,B}from"./label-DYhpUyB5.js";import{S as Ge,e as Oe,f as Je,g as Ye,i as Ue}from"./select-Cbq9LUXj.js";import{c as Q,a as z,m as ue}from"./createLucideIcon-WQ6Op3ka.js";import{u as X,R as Se,X as Xe,L as We,U as lt,C as it,a as Ee,A as nt,S as rt,b as ot}from"./app-main-CaqfzBBZ.js";import{t as K}from"./index-pL9mTvwW.js";import{B as Ae,P as Re}from"./plus-DjXsHtXD.js";import{a as Pe,T as Ne,A as Te}from"./trending-up-DGPnIaCE.js";import{h as he,U as Ie}from"./moment-DnRV2snm.js";/* empty css            */const ct=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$e=Q("Activity",ct);const dt=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],xt=Q("ArrowDownLeft",dt);const mt=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ht=Q("ArrowUpRight",mt);const ut=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ze=Q("ChartPie",ut);const pt=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],gt=Q("Download",pt);const ft=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Ze=Q("Hash",ft);const bt=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],jt=Q("Pencil",bt);const vt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qe=Q("Save",vt);const wt=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yt=Q("Settings",wt);const Nt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],et=Q("ShieldCheck",Nt);const kt=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tt=Q("Trash2",kt);function _t(){const e=pe.c(56),s=Le(),[a,n]=me.useState(!1),[d,x]=me.useState(null);let E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E={name:"",type:"bank",code:"",logo:null},e[0]=E):E=e[0];const[r,l]=me.useState(E);let N;e[1]===Symbol.for("react.memo_cache_sentinel")?(N={queryKey:["institutions"],queryFn:$t},e[1]=N):N=e[1];const{data:A,isLoading:m}=ke(N);let k;e[2]!==A?(k=A===void 0?[]:A,e[2]=A,e[3]=k):k=e[3];const o=k,y=X({mutationFn:At,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),g(),K.success("Institution ajoutée avec succès")},onError:Mt}),p=X({mutationFn:Dt,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),g(),K.success("Institution mise à jour avec succès")},onError:Ft}),g=()=>{l({name:"",type:"bank",code:"",logo:null}),x(null),n(!1)};let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=c=>{l({name:c.name,type:c.type,code:c.code,logo:null}),x(c.id),n(!0)},e[4]=f):f=e[4];const P=f;let S;e[5]!==s?(S={mutationFn:Ct,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),K.success("Institution supprimée")}},e[5]=s,e[6]=S):S=e[6];const b=X(S);let _;e[7]!==s?(_={mutationFn:St,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),K.success("Statut mis à jour")}},e[7]=s,e[8]=_):_=e[8];const i=X(_);let j,$;e[9]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-600 shadow-lg shadow-indigo-600/20",children:t.jsx(Ae,{className:"h-5 w-5 text-white"})}),$=t.jsx("h4",{className:"text-sm font-black tracking-tight text-slate-800 uppercase",children:"Partenaires & Institutions"}),e[9]=j,e[10]=$):(j=e[9],$=e[10]);let h;e[11]!==o.length?(h=t.jsxs("div",{className:"ml-2 flex items-center gap-3",children:[j,t.jsxs("div",{children:[$,t.jsxs("p",{className:"text-[10px] font-bold tracking-widest text-slate-400 uppercase",children:[o.length," Entités Enregistrées"]})]})]}),e[11]=o.length,e[12]=h):h=e[12];let v;e[13]!==a?(v=()=>n(!a),e[13]=a,e[14]=v):v=e[14];const H=a?"bg-slate-200 text-slate-600 hover:bg-slate-300":"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20 hover:bg-indigo-700";let T;e[15]!==H?(T=z("h-11 rounded-xl px-6 text-xs font-black tracking-widest uppercase transition-all",H),e[15]=H,e[16]=T):T=e[16];let C;e[17]!==a?(C=a?t.jsx(Xe,{className:"mr-2 h-4 w-4"}):t.jsx(Re,{className:"mr-2 h-4 w-4"}),e[17]=a,e[18]=C):C=e[18];const I=a?"Fermer":"Nouvelle Institution";let U;e[19]!==v||e[20]!==T||e[21]!==C||e[22]!==I?(U=t.jsxs(B,{onClick:v,className:T,children:[C,I]}),e[19]=v,e[20]=T,e[21]=C,e[22]=I,e[23]=U):U=e[23];let F;e[24]!==U||e[25]!==h?(F=t.jsxs("div",{className:"flex items-center justify-between rounded-[1.5rem] border border-slate-100 bg-slate-100/50 p-4",children:[h,U]}),e[24]=U,e[25]=h,e[26]=F):F=e[26];let R;e[27]!==y||e[28]!==d||e[29]!==r||e[30]!==g||e[31]!==a||e[32]!==p?(R=a&&t.jsx(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:t.jsxs("div",{className:"relative rounded-[2rem] bg-slate-900 p-8 text-white shadow-2xl",children:[t.jsx("div",{className:"pointer-events-none absolute top-0 right-0 h-64 w-64 bg-indigo-500/10 blur-[100px]"}),t.jsxs("h5",{className:"mb-8 flex items-center gap-3 text-xl font-black tracking-tight",children:[t.jsx(_e,{className:"h-6 w-6 text-indigo-400"}),d?"Modifier l'institution":"Configurer un nouveau partenaire"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Nom de l'institution"}),t.jsx(Y,{placeholder:"ex: Bank of Africa",value:r.name,onChange:c=>l({...r,name:c.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Type de service"}),t.jsxs(Ge,{value:r.type,onValueChange:c=>l({...r,type:c}),children:[t.jsx(Oe,{className:"h-12 rounded-xl border-white/10 bg-white/5 font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500",children:t.jsx(Je,{})}),t.jsxs(Ye,{className:"border-slate-800 bg-slate-900 text-white",children:[t.jsx(Ue,{value:"bank",className:"focus:bg-slate-800",children:"Banque Classique"}),t.jsx(Ue,{value:"mobile_money",className:"focus:bg-slate-800",children:"Mobile Money"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Code Identifiant"}),t.jsx(Y,{placeholder:"ex: BOA-CD",value:r.code,onChange:c=>l({...r,code:c.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 font-mono font-black text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),t.jsxs("div",{className:"mt-6 space-y-2",children:[t.jsx(J,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Logo de l'institution (Optionnel)"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"relative flex h-16 w-16 items-center justify-center overflow-hidden rounded-xl border border-white/10 bg-white/5",children:r.logo?t.jsx("img",{src:URL.createObjectURL(r.logo),alt:"Preview",className:"h-full w-full object-cover"}):t.jsx(Ae,{className:"h-6 w-6 text-white/20"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx(Y,{type:"file",accept:"image/*",onChange:c=>{c.target.files&&c.target.files[0]&&l({...r,logo:c.target.files[0]})},className:"h-12 w-full cursor-pointer rounded-xl border-white/10 bg-white/5 pt-2 text-sm font-bold text-white file:mr-4 file:rounded-lg file:border-0 file:bg-indigo-600 file:px-4 file:py-1 file:text-xs file:font-bold file:text-white hover:file:bg-indigo-700"}),t.jsx("p",{className:"mt-2 text-xs text-slate-400",children:"Format recommandé: PNG ou JPG, fond transparent. Max 2MB."})]})]})]}),t.jsxs("div",{className:"mt-10 flex justify-end gap-3",children:[t.jsx(B,{variant:"ghost",onClick:g,className:"h-12 rounded-xl px-8 text-xs font-black tracking-widest text-slate-400 uppercase hover:bg-white/5 hover:text-white",children:"Annuler"}),t.jsx(B,{onClick:()=>{d?p.mutate({id:d,data:r}):y.mutate(r)},disabled:y.isPending||p.isPending||!r.name||!r.code,className:"h-12 rounded-xl bg-white px-10 text-xs font-black tracking-widest text-slate-900 uppercase transition-all hover:bg-slate-100",children:y.isPending?t.jsx(Se,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(qe,{className:"mr-2 h-4 w-4"}),t.jsx(qe,{className:"mr-2 h-4 w-4"}),d?"Mettre à jour":"Enregistrer Partenaire"]})})]})]})}),e[27]=y,e[28]=d,e[29]=r,e[30]=g,e[31]=a,e[32]=p,e[33]=R):R=e[33];let D;e[34]!==R?(D=t.jsx(Ke,{children:R}),e[34]=R,e[35]=D):D=e[35];let q;if(e[36]!==b||e[37]!==o||e[38]!==i){let c;e[40]!==b||e[41]!==i?(c=M=>t.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group relative overflow-hidden rounded-[2rem] border-2 border-slate-50 bg-white p-6 shadow-xl shadow-slate-200/50 transition-all duration-300 hover:border-indigo-100",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("div",{className:z("flex h-14 w-14 items-center justify-center rounded-2xl shadow-lg transition-transform group-hover:rotate-6",M.type==="bank"?"bg-slate-900 text-white shadow-slate-900/10":"bg-emerald-500 text-white shadow-emerald-500/10"),children:M.type==="bank"?t.jsx(Ae,{className:"h-7 w-7"}):t.jsx(st,{className:"h-7 w-7"})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(B,{variant:"ghost",size:"icon",onClick:()=>i.mutate({id:M.id,is_active:!M.is_active}),className:z("h-10 w-10 rounded-xl transition-all",M.is_active?"bg-emerald-50 text-emerald-500":"bg-slate-50 text-slate-300"),children:t.jsx(et,{className:"h-5 w-5"})}),t.jsx(B,{variant:"ghost",size:"icon",onClick:()=>b.mutate(M.id),className:"h-10 w-10 rounded-xl text-slate-300 opacity-0 transition-all group-hover:opacity-100 hover:bg-rose-50 hover:text-rose-500",children:t.jsx(tt,{className:"h-5 w-5"})}),t.jsx(B,{variant:"ghost",size:"icon",onClick:()=>P(M),className:"h-10 w-10 rounded-xl bg-slate-50 text-slate-400 transition-all hover:bg-indigo-50 hover:text-indigo-600",children:t.jsx(jt,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"text-lg font-black tracking-tight text-slate-900",children:M.name}),!M.is_active&&t.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 text-[8px] font-black tracking-widest text-slate-400 uppercase",children:"Inactif"})]}),t.jsxs("div",{className:"mt-1 flex items-center gap-3",children:[t.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:M.code}),t.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-200"}),t.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase",children:M.type==="bank"?"Banque":"Mobile Money"})]})]}),t.jsx("div",{className:z("absolute -right-6 -bottom-6 h-24 w-24 rounded-full opacity-[0.03] transition-transform group-hover:scale-150",M.type==="bank"?"bg-slate-900":"bg-emerald-500")})]},M.id),e[40]=b,e[41]=i,e[42]=c):c=e[42],q=o.map(c),e[36]=b,e[37]=o,e[38]=i,e[39]=q}else q=e[39];let L;e[43]!==o.length||e[44]!==m?(L=o.length===0&&!m&&t.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center rounded-[3rem] border-2 border-dashed border-slate-200 bg-slate-50/50 py-20",children:[t.jsx(_e,{className:"mb-4 h-16 w-16 text-slate-200"}),t.jsx("p",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:"Aucune institution configurée"})]}),e[43]=o.length,e[44]=m,e[45]=L):L=e[45];let w;e[46]!==q||e[47]!==L?(w=t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3",children:[q,L]}),e[46]=q,e[47]=L,e[48]=w):w=e[48];let u;e[49]!==m?(u=m&&t.jsx("div",{className:"flex justify-center p-20",children:t.jsx(We,{className:"h-10 w-10 animate-spin text-indigo-600"})}),e[49]=m,e[50]=u):u=e[50];let V;return e[51]!==F||e[52]!==D||e[53]!==w||e[54]!==u?(V=t.jsxs("div",{className:"space-y-8",children:[F,D,w,u]}),e[51]=F,e[52]=D,e[53]=w,e[54]=u,e[55]=V):V=e[55],V}function St(e){const{id:s,is_active:a}=e;return O.entities.Institution.update(s,{is_active:a})}function Ct(e){return O.entities.Institution.delete(e)}function Ft(){return K.error("Erreur lors de la mise à jour")}function Dt(e){const{id:s,data:a}=e,n=new FormData;return n.append("_method","PUT"),n.append("name",a.name),n.append("type",a.type),n.append("code",a.code),a.logo&&n.append("logo",a.logo),Qe.post(`/api/institutions/${s}`,n,{headers:{"Content-Type":"multipart/form-data"}})}function Mt(){return K.error("Erreur lors de l'ajout de l'institution")}function At(e){const s=new FormData;return s.append("name",e.name),s.append("type",e.type),s.append("code",e.code),e.logo&&s.append("logo",e.logo),Qe.post("/api/institutions",s,{headers:{"Content-Type":"multipart/form-data"}})}function $t(){return O.entities.Institution.list()}const Ve=[{id:"USD_CDF",label:"USD → CDF",from:"USD",to:"CDF"},{id:"EUR_CDF",label:"EUR → CDF",from:"EUR",to:"CDF"},{id:"EUR_USD",label:"EUR → USD",from:"EUR",to:"USD"},{id:"CDF_USD",label:"CDF → USD",from:"CDF",to:"USD"}];function Ut(){const e=pe.c(56),s=Le();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={currency_pair:"",buy_rate:"",sell_rate:""},e[0]=a):a=e[0];const[n,d]=me.useState(a),[x,E]=me.useState(!1);let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r={queryKey:["rates"],queryFn:Tt},e[1]=r):r=e[1];const{data:l,isLoading:N}=ke(r);let A;e[2]!==l?(A=l===void 0?[]:l,e[2]=l,e[3]=A):A=e[3];const m=A;let k;e[4]!==s?(k={mutationFn:Pt,onSuccess:()=>{s.invalidateQueries({queryKey:["rates"]}),K.success("Taux mis à jour")}},e[4]=s,e[5]=k):k=e[5];const o=X(k);let y;e[6]!==s?(y={mutationFn:Et,onSuccess:()=>{s.invalidateQueries({queryKey:["rates"]}),d({currency_pair:"",buy_rate:"",sell_rate:""}),E(!1),K.success("Nouveau taux de change configuré")},onError:Lt},e[6]=s,e[7]=y):y=e[7];const p=X(y);let g;e[8]!==s?(g={mutationFn:qt,onSuccess:()=>{s.invalidateQueries({queryKey:["rates"]}),K.success("Configuration supprimée")}},e[8]=s,e[9]=g):g=e[9];const f=X(g);let P;e[10]!==o?(P=(w,u,V)=>{V&&o.mutate({id:w.id,data:{[u]:parseFloat(V)}})},e[10]=o,e[11]=P):P=e[11];const S=P;let b,_;e[12]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-600 shadow-lg shadow-indigo-600/20",children:t.jsx(Te,{className:"h-5 w-5 text-white"})}),_=t.jsx("h4",{className:"text-sm font-black tracking-tight text-slate-800 uppercase",children:"Marché des Devises"}),e[12]=b,e[13]=_):(b=e[12],_=e[13]);let i;e[14]!==m.length?(i=t.jsxs("div",{className:"ml-2 flex items-center gap-3",children:[b,t.jsxs("div",{children:[_,t.jsxs("p",{className:"text-[10px] font-bold tracking-widest text-slate-400 uppercase",children:[m.length," Paires Actives"]})]})]}),e[14]=m.length,e[15]=i):i=e[15];let j;e[16]!==x?(j=()=>E(!x),e[16]=x,e[17]=j):j=e[17];const $=x?"bg-slate-200 text-slate-600 hover:bg-slate-300":"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20 hover:bg-indigo-700";let h;e[18]!==$?(h=z("h-11 rounded-xl px-6 text-xs font-black tracking-widest uppercase transition-all",$),e[18]=$,e[19]=h):h=e[19];let v;e[20]!==x?(v=x?t.jsx(Xe,{className:"mr-2 h-4 w-4"}):t.jsx(Re,{className:"mr-2 h-4 w-4"}),e[20]=x,e[21]=v):v=e[21];const H=x?"Fermer":"Ajouter une Paire";let T;e[22]!==j||e[23]!==h||e[24]!==v||e[25]!==H?(T=t.jsxs(B,{onClick:j,className:h,children:[v,H]}),e[22]=j,e[23]=h,e[24]=v,e[25]=H,e[26]=T):T=e[26];let C;e[27]!==i||e[28]!==T?(C=t.jsxs("div",{className:"flex items-center justify-between rounded-[1.5rem] border border-slate-100 bg-slate-100/50 p-4",children:[i,T]}),e[27]=i,e[28]=T,e[29]=C):C=e[29];let I;e[30]!==p||e[31]!==n||e[32]!==x?(I=x&&t.jsx(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:t.jsxs("div",{className:"relative rounded-[2rem] bg-slate-900 p-8 text-white shadow-2xl",children:[t.jsx("div",{className:"pointer-events-none absolute top-0 right-0 h-64 w-64 bg-indigo-500/10 blur-[100px]"}),t.jsxs("h5",{className:"mb-8 flex items-center gap-3 text-xl font-black tracking-tight",children:[t.jsx(Re,{className:"h-6 w-6 text-indigo-400"}),"Nouvelle Configuration"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Paire de devises"}),t.jsxs(Ge,{value:n.currency_pair,onValueChange:w=>d({...n,currency_pair:w}),children:[t.jsx(Oe,{className:"h-12 rounded-xl border-white/10 bg-white/5 font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500",children:t.jsx(Je,{placeholder:"Choisir une paire"})}),t.jsx(Ye,{className:"border-slate-800 bg-slate-900 text-white",children:Ve.map(Rt)})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Taux d'Achat (Buy)"}),t.jsxs("div",{className:"relative",children:[t.jsx(Pe,{className:"absolute top-1/2 left-4 h-4 w-4 -translate-y-1/2 text-emerald-400"}),t.jsx(Y,{type:"number",placeholder:"0.00",value:n.buy_rate,onChange:w=>d({...n,buy_rate:w.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 pl-11 font-mono font-black text-white"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Taux de Vente (Sell)"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ne,{className:"absolute top-1/2 left-4 h-4 w-4 -translate-y-1/2 text-blue-400"}),t.jsx(Y,{type:"number",placeholder:"0.00",value:n.sell_rate,onChange:w=>d({...n,sell_rate:w.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 pl-11 font-mono font-black text-white"})]})]})]}),t.jsxs("div",{className:"mt-10 flex justify-end gap-3",children:[t.jsx(B,{variant:"ghost",onClick:()=>E(!1),className:"h-12 rounded-xl px-8 text-xs font-black tracking-widest text-slate-400 uppercase hover:bg-white/5 hover:text-white",children:"Annuler"}),t.jsx(B,{onClick:()=>p.mutate(n),disabled:p.isPending||!n.currency_pair,className:"h-12 rounded-xl bg-white px-10 text-xs font-black tracking-widest text-slate-900 uppercase transition-all hover:bg-slate-100",children:p.isPending?t.jsx(Se,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(qe,{className:"mr-2 h-4 w-4"}),"Activer le Taux"]})})]})]})}),e[30]=p,e[31]=n,e[32]=x,e[33]=I):I=e[33];let U;e[34]!==I?(U=t.jsx(Ke,{children:I}),e[34]=I,e[35]=U):U=e[35];let F;if(e[36]!==f||e[37]!==S||e[38]!==m){let w;e[40]!==f||e[41]!==S?(w=u=>{const V=Ve.find(c=>c.id===u.currency_pair);return t.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group rounded-[2rem] border-2 border-slate-50 bg-white p-8 shadow-xl shadow-slate-200/50 transition-all duration-300 hover:border-indigo-100",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-slate-900 shadow-lg shadow-slate-900/10 transition-transform group-hover:rotate-6",children:t.jsx("span",{className:"text-sm font-black text-white",children:V?.from||u.currency_pair.split("_")[0]})}),t.jsx(Ne,{className:"h-4 w-4 text-slate-300"}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl border border-indigo-100 bg-indigo-50",children:t.jsx("span",{className:"text-sm font-black text-indigo-600",children:V?.to||u.currency_pair.split("_")[1]})})]}),t.jsx(B,{variant:"ghost",size:"icon",onClick:()=>f.mutate(u.id),className:"h-10 w-10 rounded-xl text-slate-300 opacity-0 transition-all group-hover:opacity-100 hover:bg-rose-50 hover:text-rose-500",children:t.jsx(tt,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsx("span",{className:"text-[9px] font-black tracking-widest text-slate-400 uppercase",children:"Achat (Buy)"}),t.jsx(Pe,{className:"h-3 w-3 text-emerald-500"})]}),t.jsx("div",{className:"relative",children:t.jsx(Y,{type:"number",value:u.buy_rate,onChange:c=>S(u,"buy_rate",c.target.value),className:"h-14 rounded-2xl border-transparent bg-slate-50 font-mono text-xl font-black text-slate-900 focus:border-indigo-500 focus:bg-white"})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsx("span",{className:"text-[9px] font-black tracking-widest text-slate-400 uppercase",children:"Vente (Sell)"}),t.jsx(Ne,{className:"h-3 w-3 text-blue-500"})]}),t.jsx("div",{className:"relative",children:t.jsx(Y,{type:"number",value:u.sell_rate,onChange:c=>S(u,"sell_rate",c.target.value),className:"h-14 rounded-2xl border-transparent bg-slate-50 font-mono text-xl font-black text-slate-900 focus:border-indigo-500 focus:bg-white"})})]})]})]},u.id)},e[40]=f,e[41]=S,e[42]=w):w=e[42],F=m.map(w),e[36]=f,e[37]=S,e[38]=m,e[39]=F}else F=e[39];let R;e[43]!==N||e[44]!==m.length?(R=m.length===0&&!N&&t.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center rounded-[3rem] border-2 border-dashed border-slate-200 bg-slate-50/50 py-20",children:[t.jsx(Te,{className:"mb-4 h-16 w-16 text-slate-200"}),t.jsx("p",{className:"text-xs font-black tracking-[0.2em] text-slate-400 uppercase",children:"Aucun taux configuré"})]}),e[43]=N,e[44]=m.length,e[45]=R):R=e[45];let D;e[46]!==F||e[47]!==R?(D=t.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-2",children:[F,R]}),e[46]=F,e[47]=R,e[48]=D):D=e[48];let q;e[49]!==N?(q=N&&t.jsx("div",{className:"flex justify-center p-20",children:t.jsx(We,{className:"h-10 w-10 animate-spin text-indigo-600"})}),e[49]=N,e[50]=q):q=e[50];let L;return e[51]!==C||e[52]!==U||e[53]!==D||e[54]!==q?(L=t.jsxs("div",{className:"space-y-8",children:[C,U,D,q]}),e[51]=C,e[52]=U,e[53]=D,e[54]=q,e[55]=L):L=e[55],L}function Rt(e){return t.jsx(Ue,{value:e.id,className:"hover:bg-slate-800 focus:bg-slate-800",children:e.label},e.id)}async function qt(e){await O.entities.ExchangeRate.delete(e)}function Lt(){return K.error("Erreur lors de la création du taux")}async function Et(e){await O.entities.ExchangeRate.create({...e,buy_rate:parseFloat(e.buy_rate),sell_rate:parseFloat(e.sell_rate),is_active:!0})}async function Pt(e){const{id:s,data:a}=e;await O.entities.ExchangeRate.update(s,a)}function Tt(){return O.entities.ExchangeRate.filter({is_active:!0})}const Be={blue:{bg:"bg-blue-50",icon:"bg-blue-600 text-white shadow-blue-200",text:"text-blue-600",border:"border-blue-100",accent:"bg-blue-600/5",glow:"shadow-blue-500/10"},emerald:{bg:"bg-emerald-50",icon:"bg-emerald-600 text-white shadow-emerald-200",text:"text-emerald-600",border:"border-emerald-100",accent:"bg-emerald-600/5",glow:"shadow-emerald-500/10"},amber:{bg:"bg-amber-50",icon:"bg-amber-500 text-white shadow-amber-200",text:"text-amber-600",border:"border-amber-100",accent:"bg-amber-600/5",glow:"shadow-amber-500/10"},indigo:{bg:"bg-indigo-50",icon:"bg-indigo-600 text-white shadow-indigo-200",text:"text-indigo-600",border:"border-indigo-100",accent:"bg-indigo-600/5",glow:"shadow-indigo-500/10"},purple:{bg:"bg-purple-50",icon:"bg-purple-600 text-white shadow-purple-200",text:"text-purple-600",border:"border-purple-100",accent:"bg-purple-600/5",glow:"shadow-purple-500/10"},rose:{bg:"bg-rose-50",icon:"bg-rose-600 text-white shadow-rose-200",text:"text-rose-600",border:"border-rose-100",accent:"bg-rose-600/5",glow:"shadow-rose-500/10"}};function ye(e){const s=pe.c(43),{title:a,value:n,subtitle:d,icon:x,color:E,trend:r}=e,l=Be[E]||Be.blue;let N,A;s[0]===Symbol.for("react.memo_cache_sentinel")?(N={y:-5,scale:1.02},A={type:"spring",stiffness:400,damping:25},s[0]=N,s[1]=A):(N=s[0],A=s[1]);let m;s[2]!==l.glow?(m=z("group relative overflow-hidden rounded-[2.5rem] border border-white bg-white/70 p-8 shadow-xl backdrop-blur-xl transition-all",l.glow),s[2]=l.glow,s[3]=m):m=s[3];let k;s[4]!==l.bg?(k=z("absolute -top-12 -right-12 h-32 w-32 rounded-full opacity-20 blur-3xl",l.bg),s[4]=l.bg,s[5]=k):k=s[5];let o;s[6]!==k?(o=t.jsx("div",{className:k}),s[6]=k,s[7]=o):o=s[7];let y;s[8]!==l.icon?(y=z("flex h-14 w-14 items-center justify-center rounded-2xl shadow-lg transition-transform duration-500 group-hover:scale-110",l.icon),s[8]=l.icon,s[9]=y):y=s[9];let p;s[10]!==x?(p=t.jsx(x,{className:"h-8 w-8"}),s[10]=x,s[11]=p):p=s[11];let g;s[12]!==y||s[13]!==p?(g=t.jsx("div",{className:y,children:p}),s[12]=y,s[13]=p,s[14]=g):g=s[14];let f;s[15]!==r?(f=r&&t.jsxs("div",{className:z("flex items-center gap-1 rounded-full px-3 py-1 text-[10px] font-black tracking-widest uppercase",r.positive?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:[r.positive?"↑":"↓"," ",r.value]}),s[15]=r,s[16]=f):f=s[16];let P;s[17]!==g||s[18]!==f?(P=t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[g,f]}),s[17]=g,s[18]=f,s[19]=P):P=s[19];let S;s[20]!==a?(S=t.jsx("p",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:a}),s[20]=a,s[21]=S):S=s[21];let b;s[22]!==n?(b=t.jsx("h2",{className:"text-3xl leading-tight font-black tracking-tight text-slate-900",children:n}),s[22]=n,s[23]=b):b=s[23];let _;s[24]!==l.text||s[25]!==d?(_=d&&t.jsxs("p",{className:"mt-2 flex items-center gap-1.5 text-[11px] font-bold tracking-wide text-slate-400 uppercase",children:[t.jsx("span",{className:z("h-1.5 w-1.5 rounded-full",l.text.replace("text","bg"))}),d]}),s[24]=l.text,s[25]=d,s[26]=_):_=s[26];let i;s[27]!==S||s[28]!==b||s[29]!==_?(i=t.jsxs("div",{className:"space-y-1",children:[S,b,_]}),s[27]=S,s[28]=b,s[29]=_,s[30]=i):i=s[30];let j;s[31]!==P||s[32]!==i?(j=t.jsxs("div",{className:"relative z-10 flex h-full flex-col",children:[P,i]}),s[31]=P,s[32]=i,s[33]=j):j=s[33];let $;s[34]!==l.text?($=z("absolute bottom-0 left-0 h-1.5 w-full opacity-30",l.text.replace("text","bg")),s[34]=l.text,s[35]=$):$=s[35];let h;s[36]!==$?(h=t.jsx("div",{className:$}),s[36]=$,s[37]=h):h=s[37];let v;return s[38]!==j||s[39]!==h||s[40]!==m||s[41]!==o?(v=t.jsxs(ue.div,{whileHover:N,transition:A,className:m,children:[o,j,h]}),s[38]=j,s[39]=h,s[40]=m,s[41]=o,s[42]=v):v=s[42],v}function He(e){const s=pe.c(6),{transactions:a}=e;if(a.length===0){let E;return s[0]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-[2rem] border-2 border-dashed border-slate-200 bg-slate-50/50 p-20",children:[t.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl border border-slate-100 bg-white shadow-sm",children:t.jsx(Ze,{className:"h-8 w-8 text-slate-300"})}),t.jsx("p",{className:"text-xs font-black tracking-widest text-slate-400 uppercase",children:"Aucune transaction trouvée"})]}),s[0]=E):E=s[0],E}let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx("thead",{children:t.jsxs("tr",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:[t.jsx("th",{className:"px-6 py-4 font-black",children:"Transaction / Client"}),t.jsx("th",{className:"px-6 py-4 text-center font-black",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Montant Entrée"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Montant Sortie"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Commission"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Date / Heure"})]})}),s[1]=n):n=s[1];let d;s[2]!==a?(d=a.map(It),s[2]=a,s[3]=d):d=s[3];let x;return s[4]!==d?(x=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-separate border-spacing-y-3 text-left",children:[n,t.jsx("tbody",{children:d})]})}),s[4]=d,s[5]=x):x=s[5],x}function It(e){return t.jsxs("tr",{className:"group rounded-2xl border border-slate-100 bg-white transition-all duration-300 hover:bg-slate-50",children:[t.jsx("td",{className:"rounded-l-2xl border-y border-l border-slate-100 px-6 py-5 group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-slate-900 shadow-lg shadow-slate-900/10 transition-transform group-hover:scale-110",children:t.jsx(lt,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{className:"flex min-w-0 flex-col",children:[t.jsx("span",{className:"truncate text-sm font-black text-slate-900",children:e.client_name||"Utilisateur"}),t.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold tracking-tight text-slate-400 uppercase",children:[t.jsx(Ze,{className:"h-2.5 w-2.5"})," ID-",e.id.toString().slice(-4).toUpperCase()]})]})]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-center group-hover:border-indigo-100",children:t.jsxs("div",{className:z("inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-[10px] font-black tracking-widest uppercase",e.operation_type==="change"?"bg-indigo-50 text-indigo-600":"bg-amber-50 text-amber-600"),children:[e.operation_type==="change"?t.jsx(ht,{className:"h-3 w-3"}):t.jsx(xt,{className:"h-3 w-3"}),e.operation_type]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-black text-slate-900",children:e.amount_from?.toLocaleString()}),t.jsx("span",{className:"text-[10px] font-black tracking-tighter text-slate-400 uppercase",children:e.currency_from})]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-black text-emerald-600",children:e.amount_to?.toLocaleString()}),t.jsx("span",{className:"text-[10px] font-black tracking-tighter text-emerald-600 uppercase opacity-60",children:e.currency_to})]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("span",{className:"rounded-lg bg-slate-900 px-3 py-1 font-mono text-xs font-black text-white shadow-lg shadow-slate-900/10",children:["$",parseFloat(e.commission).toLocaleString()]})}),t.jsx("td",{className:"rounded-r-2xl border-y border-r border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-black text-slate-700",children:he(e.created_date).format("DD/MM/YYYY")}),t.jsxs("span",{className:"flex items-center justify-end gap-1 text-[10px] font-bold text-slate-400",children:[t.jsx(it,{className:"h-2.5 w-2.5"})," ",he(e.created_date).format("HH:mm")]})]})})]},e.id)}function ns(){const e=pe.c(96),s=Le(),[a,n]=me.useState("overview");let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d={queryKey:["all-clients"],queryFn:Ot,refetchInterval:3e4},e[0]=d):d=e[0];const{data:x,isLoading:E}=ke(d);let r;e[1]!==x?(r=x===void 0?[]:x,e[1]=x,e[2]=r):r=e[2];const l=r;let N;e[3]===Symbol.for("react.memo_cache_sentinel")?(N={queryKey:["all-transactions"],queryFn:Gt,refetchInterval:3e4},e[3]=N):N=e[3];const{data:A,isLoading:m}=ke(N);let k;e[4]!==A?(k=A===void 0?[]:A,e[4]=A,e[5]=k):k=e[5];const o=k;let y,p,g,f;if(e[6]!==l||e[7]!==o){const G=he().startOf("day");p=l.filter(Me=>he(Me.created_date).isSameOrAfter(G));const De=o.filter(Me=>he(Me.created_date).isSameOrAfter(G));f=De.filter(Qt).reduce(Kt,0),g=De.filter(Ht).reduce(Bt,0),y=De.reduce(Vt,0),e[6]=l,e[7]=o,e[8]=y,e[9]=p,e[10]=g,e[11]=f}else y=e[8],p=e[9],g=e[10],f=e[11];const P=y,S=p.length;let b;e[12]!==l?(b=l.filter(zt),e[12]=l,e[13]=b):b=e[13];let _;e[14]!==b.length||e[15]!==p.length||e[16]!==P||e[17]!==g||e[18]!==f?(_={todayClients:S,waiting:b.length,volumeUSD:f,volumeCDF:g,commissions:P},e[14]=b.length,e[15]=p.length,e[16]=P,e[17]=g,e[18]=f,e[19]=_):_=e[19];const i=_;let j;e[20]!==s?(j=()=>{s.invalidateQueries({queryKey:["all-clients"]}),s.invalidateQueries({queryKey:["all-transactions"]}),K.success("Tableau de bord actualisé")},e[20]=s,e[21]=j):j=e[21];const $=j;let h;e[22]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("div",{className:"group flex h-14 w-14 rotate-3 cursor-pointer items-center justify-center rounded-2xl bg-indigo-600 shadow-lg shadow-indigo-500/30 transition-transform hover:rotate-0",children:t.jsx(et,{className:"h-8 w-8 text-white"})}),e[22]=h):h=e[22];let v;e[23]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h1",{className:"text-3xl leading-none font-black tracking-tight text-slate-900",children:"Console Manager"}),t.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-0.5 text-[10px] font-black tracking-widest text-emerald-600 uppercase",children:"Live API"})]}),e[23]=v):v=e[23];let H;e[24]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsxs("div",{className:"flex items-center gap-5",children:[h,t.jsxs("div",{children:[v,t.jsxs("p",{className:"mt-2 flex items-center gap-2 text-[11px] font-black tracking-[0.2em] text-slate-400 uppercase",children:[t.jsx($e,{className:"h-3 w-3 text-indigo-500"}),"Supervision & Reporting Financier"]})]})]}),e[24]=H):H=e[24];const T=(E||m)&&"animate-spin";let C;e[25]!==T?(C=z("h-5 w-5",T),e[25]=T,e[26]=C):C=e[26];let I;e[27]!==C?(I=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl border border-slate-100 bg-white text-slate-400 shadow-sm",children:t.jsx(Se,{className:C})}),e[27]=C,e[28]=I):I=e[28];let U;e[29]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black tracking-wider text-slate-400 uppercase",children:"Dernier Sync"}),t.jsx("div",{className:"text-xs font-bold text-slate-600",children:"A l'instant"})]}),e[29]=U):U=e[29];let F;e[30]!==I?(F=t.jsxs("div",{className:"hidden items-center gap-3 rounded-2xl border border-slate-200 bg-slate-50 p-1.5 pr-5 xl:flex",children:[I,U]}),e[30]=I,e[31]=F):F=e[31];let R;e[32]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(Se,{className:"mr-2 h-4 w-4"}),e[32]=R):R=e[32];let D;e[33]!==$?(D=t.jsxs(B,{variant:"outline",onClick:$,className:"h-12 rounded-2xl border-slate-200 bg-white px-6 text-xs font-black tracking-widest uppercase shadow-sm transition-all hover:border-indigo-500 hover:text-indigo-600",children:[R,"Actualiser"]}),e[33]=$,e[34]=D):D=e[34];let q;e[35]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs(B,{className:"h-12 rounded-2xl bg-slate-900 px-6 text-xs font-black tracking-widest text-white uppercase shadow-xl shadow-slate-900/10 transition-all hover:bg-black active:scale-95",children:[t.jsx(gt,{className:"mr-2 h-4 w-4 text-emerald-400"}),"Exporter Rapport"]}),e[35]=q):q=e[35];let L;e[36]!==F||e[37]!==D?(L=t.jsxs("header",{className:"z-20 flex h-24 flex-shrink-0 items-center justify-between border-b border-slate-200 bg-white px-10 shadow-[0_1px_3px_rgba(0,0,0,0.02)]",children:[H,t.jsxs("div",{className:"flex items-center gap-4",children:[F,D,q]})]}),e[36]=F,e[37]=D,e[38]=L):L=e[38];const w=`${i.waiting} en attente`;let u;e[39]!==i.todayClients||e[40]!==w?(u=t.jsx(ye,{title:"Clients Aujourd'hui",value:i.todayClients,subtitle:w,icon:Ie,color:"blue"}),e[39]=i.todayClients,e[40]=w,e[41]=u):u=e[41];let V;e[42]!==i.volumeUSD?(V=i.volumeUSD.toLocaleString(),e[42]=i.volumeUSD,e[43]=V):V=e[43];const c=`$ ${V}`;let M;e[44]!==c?(M=t.jsx(ye,{title:"Volume USD",value:c,icon:Ne,color:"emerald"}),e[44]=c,e[45]=M):M=e[45];let ge;e[46]!==i.volumeCDF?(ge=i.volumeCDF.toLocaleString(),e[46]=i.volumeCDF,e[47]=ge):ge=e[47];const Ce=`${ge} FC`;let W;e[48]!==Ce?(W=t.jsx(ye,{title:"Volume CDF",value:Ce,icon:_e,color:"amber"}),e[48]=Ce,e[49]=W):W=e[49];let fe;e[50]!==i.commissions?(fe=i.commissions.toLocaleString(),e[50]=i.commissions,e[51]=fe):fe=e[51];const Fe=`$ ${fe}`;let Z;e[52]!==Fe?(Z=t.jsx(ye,{title:"Commissions Estimées",value:Fe,icon:ze,color:"indigo"}),e[52]=Fe,e[53]=Z):Z=e[53];let ee;e[54]!==u||e[55]!==M||e[56]!==W||e[57]!==Z?(ee=t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[u,M,W,Z]}),e[54]=u,e[55]=M,e[56]=W,e[57]=Z,e[58]=ee):ee=e[58];let be;e[59]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx("h3",{className:"mb-6 px-2 text-[11px] font-black tracking-[0.2em] text-slate-400 uppercase",children:"Navigation"}),e[59]=be):be=e[59];let je;e[60]===Symbol.for("react.memo_cache_sentinel")?(je=[{id:"overview",label:"Vue d'ensemble",icon:Ee},{id:"transactions",label:"Flux Transactions",icon:nt},{id:"rates",label:"Gestion Taux",icon:yt},{id:"users",label:"Utilisateurs",icon:Ie},{id:"institutions",label:"Banques & Partenaires",icon:_e},{id:"logs",label:"Journal Activité",icon:$e}],e[60]=je):je=e[60];let te;e[61]!==a?(te=t.jsxs("div",{className:"rounded-[2rem] border border-white bg-white/50 p-6 shadow-sm backdrop-blur-xl",children:[be,t.jsx("nav",{className:"space-y-2",children:je.map(G=>t.jsxs("button",{onClick:()=>n(G.id),className:z("flex w-full items-center justify-between rounded-2xl border p-4 text-sm font-bold transition-all duration-300",a===G.id?"border-indigo-600 bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"border-slate-100 bg-white/40 text-slate-500 hover:border-slate-200 hover:bg-white"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(G.icon,{className:z("h-5 w-5",a===G.id?"text-white":"text-slate-400")}),G.label]}),t.jsx(at,{className:z("h-4 w-4 transition-transform",a===G.id?"translate-x-1":"opacity-0")})]},G.id))})]}),e[61]=a,e[62]=te):te=e[62];let ve;e[63]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsxs("div",{className:"group relative overflow-hidden rounded-[2rem] bg-slate-900 p-8 text-white shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 h-32 w-32 translate-x-1/2 -translate-y-1/2 bg-indigo-500/20 blur-[80px]"}),t.jsx("h4",{className:"relative z-10 mb-2 text-xl font-black",children:"Besoin d'aide ?"}),t.jsx("p",{className:"relative z-10 mb-6 text-xs font-medium text-slate-400",children:"Consultez la documentation technique du bureau de change."}),t.jsx(B,{className:"relative z-10 w-full rounded-xl bg-white text-[10px] font-black tracking-widest text-slate-900 uppercase hover:bg-slate-100",children:"Guide Manager"})]}),e[63]=ve):ve=e[63];let se;e[64]!==te?(se=t.jsxs("div",{className:"col-span-12 space-y-4 lg:col-span-3",children:[te,ve]}),e[64]=te,e[65]=se):se=e[65];let ae;e[66]!==a||e[67]!==o?(ae=a==="overview"&&t.jsxs("div",{className:"animate-in space-y-8 duration-500 fade-in slide-in-from-bottom-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-black tracking-tight text-slate-800",children:"Performances du Jour"}),t.jsx("p",{className:"text-sm font-medium text-slate-400",children:"Aperçu rapide des flux financiers et des clients."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:"rounded-xl border border-indigo-100 bg-indigo-50 px-4 py-2 text-xs font-black tracking-wider text-indigo-600 uppercase",children:"Hebdomadaire"}),t.jsx("span",{className:"cursor-pointer rounded-xl border border-slate-100 bg-white px-4 py-2 text-xs font-black tracking-wider text-slate-400 uppercase hover:bg-slate-50",children:"Mensuel"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"flex h-64 flex-col items-center justify-center rounded-3xl border border-slate-100 bg-slate-50 p-8 opacity-50",children:[t.jsx(ze,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("p",{className:"text-xs font-black tracking-[0.2em] text-slate-400 uppercase",children:"Graphique des Flux (Soon)"})]}),t.jsxs("div",{className:"flex h-64 flex-col items-center justify-center rounded-3xl border border-slate-100 bg-slate-50 p-8 opacity-50",children:[t.jsx(Ee,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("p",{className:"text-xs font-black tracking-[0.2em] text-slate-400 uppercase",children:"Volume par Guichet (Soon)"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("h4",{className:"text-lg font-black tracking-tight text-slate-800",children:"Activités Récentes"}),t.jsx(B,{variant:"ghost",className:"font-bold text-indigo-600 hover:bg-indigo-50",children:"Voir tout"})]}),t.jsx(He,{transactions:o.slice(0,5)})]})]}),e[66]=a,e[67]=o,e[68]=ae):ae=e[68];let le;e[69]!==a||e[70]!==o?(le=a==="transactions"&&t.jsxs("div",{className:"animate-in space-y-6 duration-300 fade-in",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-2xl font-black tracking-tight text-slate-800",children:"Journal Complet"}),t.jsxs("div",{className:"relative w-72",children:[t.jsx(rt,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{placeholder:"Filtrer...",className:"h-10 w-full rounded-xl border-slate-200 pr-4 pl-10 text-sm focus:ring-indigo-500"})]})]}),t.jsx(He,{transactions:o})]}),e[69]=a,e[70]=o,e[71]=le):le=e[71];let ie;e[72]!==a?(ie=a==="rates"&&t.jsx("div",{className:"animate-in duration-300 fade-in",children:t.jsx(Ut,{})}),e[72]=a,e[73]=ie):ie=e[73];let ne;e[74]!==a?(ne=a==="institutions"&&t.jsx("div",{className:"animate-in duration-300 fade-in",children:t.jsx(_t,{})}),e[74]=a,e[75]=ne):ne=e[75];let re;e[76]!==a?(re=a==="users"&&t.jsx("div",{className:"animate-in duration-300 fade-in",children:t.jsx(UserManagement,{})}),e[76]=a,e[77]=re):re=e[77];let oe;e[78]!==a?(oe=a==="logs"&&t.jsxs("div",{className:"flex h-96 animate-in flex-col items-center justify-center space-y-4 opacity-40 duration-300 zoom-in-95",children:[t.jsx($e,{className:"h-20 w-20 text-slate-200"}),t.jsx("p",{className:"text-xs font-black tracking-[0.3em] text-slate-400 uppercase",children:"Journal d'audit Manager bientôt disponible"})]}),e[78]=a,e[79]=oe):oe=e[79];let ce;e[80]!==ae||e[81]!==le||e[82]!==ie||e[83]!==ne||e[84]!==re||e[85]!==oe?(ce=t.jsx("div",{className:"col-span-12 lg:col-span-9",children:t.jsx("div",{className:"min-h-[600px] overflow-hidden rounded-[2.5rem] border border-white bg-white/80 shadow-xl shadow-slate-200/50 backdrop-blur-xl",children:t.jsxs("div",{className:"p-10",children:[ae,le,ie,ne,re,oe]})})}),e[80]=ae,e[81]=le,e[82]=ie,e[83]=ne,e[84]=re,e[85]=oe,e[86]=ce):ce=e[86];let de;e[87]!==se||e[88]!==ce?(de=t.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[se,ce]}),e[87]=se,e[88]=ce,e[89]=de):de=e[89];let xe;e[90]!==ee||e[91]!==de?(xe=t.jsx("main",{className:"flex-1 overflow-y-auto bg-[url('/grid.svg')] bg-[length:40px_40px] px-10 py-10",children:t.jsxs("div",{className:"w-full max-w-none space-y-10",children:[ee,de]})}),e[90]=ee,e[91]=de,e[92]=xe):xe=e[92];let we;return e[93]!==L||e[94]!==xe?(we=t.jsx(ot,{currentPageName:"Administration",children:t.jsxs("div",{className:"flex h-[calc(100vh-64px)] flex-col overflow-hidden bg-[#f8fafc]",children:[L,xe]})}),e[93]=L,e[94]=xe,e[95]=we):we=e[95],we}function zt(e){return e.status==="waiting"}function Vt(e,s){return e+(parseFloat(s.commission)||0)}function Bt(e,s){return e+(s.amount_from||0)}function Ht(e){return e.currency_from==="CDF"}function Kt(e,s){return e+(s.amount_from||0)}function Qt(e){return e.currency_from==="USD"}function Gt(){return O.entities.Transaction.list("-created_date",500)}function Ot(){return O.entities.Client.list("-created_date",500)}export{ns as default};

import{c as A,a as S,r as L,j as t,L as $}from"./app-CsNlkN5W.js";import{B as z}from"./button-CG5C5VAf.js";import{c as i,m as d,b as M}from"./createLucideIcon-C-xKprhZ.js";import{M as D,A as O}from"./base44Client-DfWbQB5Z.js";const H=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],P=i("LayoutDashboard",H);const E=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],V=i("LogOut",E);const B=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],R=i("Menu",B);const T=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],U=i("ShieldCheck",T);const q=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],I=i("Store",q);const W=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],X=i("User",W);const F=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],G=i("Wallet",F);const J=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],K=i("X",J),y=[{name:"Client",label:"Client",icon:X,color:"text-[#00e2f6]",bg:"bg-[#00e2f6]/10"},{name:"Display",label:"Ecran",icon:D,color:"text-[#bf15cf]",bg:"bg-[#bf15cf]/10"},{name:"Cashier",label:"Caissier",icon:G,color:"text-[#ff55ba]",bg:"bg-[#ff55ba]/10"},{name:"Manager",label:"Manager",icon:P,color:"text-[#1f61e4]",bg:"bg-[#1f61e4]/10"},{name:"ManagerShops",label:"Mes Boutiques",icon:I,color:"text-[#10b981]",bg:"bg-[#10b981]/10",roles:["manager","super-admin"]},{name:"Admin",label:"Super Admin",icon:U,color:"text-[#4f46e5]",bg:"bg-[#4f46e5]/10"}];function ie(s){const e=A.c(20),{children:g,currentPageName:m}=s,{auth:_}=S().props,v=_.user?.role,[k,u]=L.useState(!1);let h;e:{if(v==="super-admin"){h=y;break e}if(v==="manager"){let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=y.filter(ee),e[0]=o):o=e[0],h=o;break e}if(v==="cashier"){let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=y.filter(Z),e[1]=o):o=e[1],h=o;break e}let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=y.filter(Y),e[2]=a):a=e[2],h=a}const w=h,j=m==="Display",C=Q;let p,x,f;e[3]===Symbol.for("react.memo_cache_sentinel")?(p={opacity:0,y:20},x={opacity:1,y:0},f={duration:.5,ease:"easeOut"},e[3]=p,e[4]=x,e[5]=f):(p=e[3],x=e[4],f=e[5]);let n;e[6]!==g?(n=t.jsx("main",{className:"min-h-screen w-full",children:t.jsx(d.div,{initial:p,animate:x,transition:f,className:"h-full",children:g})}),e[6]=g,e[7]=n):n=e[7];let l;e[8]!==j?(l=!j&&t.jsx("div",{className:"fixed right-6 bottom-6 z-50",children:t.jsxs(d.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u(!0),className:"group relative flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-tr from-[#1f61e4] to-[#00e2f6] text-white shadow-lg shadow-blue-500/40 transition-all duration-300 hover:shadow-blue-500/60",children:[t.jsx("div",{className:"absolute inset-0 -z-10 rounded-full bg-blue-500 opacity-20 blur-lg transition-all duration-500 group-hover:opacity-40"}),t.jsx(R,{className:"h-8 w-8"})]})}),e[8]=j,e[9]=l):l=e[9];let r;e[10]!==m||e[11]!==w||e[12]!==k?(r=k&&t.jsxs(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-xl",children:[t.jsx("div",{className:"absolute inset-0",onClick:()=>u(!1)}),t.jsxs(d.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-lg overflow-hidden rounded-3xl bg-white/90 p-8 shadow-2xl ring-1 ring-white/50 backdrop-blur-xl",children:[t.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 rounded-full bg-slate-100 p-2 text-slate-500 transition-colors hover:bg-slate-200",children:t.jsx(K,{className:"h-6 w-6"})}),t.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[t.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-white p-2 shadow-xl ring-1 ring-slate-100",children:t.jsx("img",{src:"/logo.png",alt:"Havifin",className:"h-full w-full object-contain"})}),t.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Navigation"}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Menu Principal"})]}),t.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map((a,o)=>{const N=m===a.name;return t.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},children:t.jsxs($,{href:a.name==="Client"?"/":a.name==="Admin"?"/admin/shops":a.name==="ManagerShops"?"/manager/shops":`/${a.name.toLowerCase()}`,onClick:()=>u(!1),className:M("group flex flex-col items-center justify-center gap-3 rounded-2xl border p-6 transition-all duration-300 hover:scale-[1.02]",N?"border-blue-500 bg-blue-50/50 shadow-inner":"border-slate-100 bg-slate-50/50 hover:bg-white hover:shadow-lg"),children:[t.jsx("div",{className:M("rounded-xl p-3 transition-colors",N?"bg-blue-500 text-white":`${a.bg} ${a.color} group-hover:bg-blue-500 group-hover:text-white`),children:t.jsx(a.icon,{className:"h-6 w-6"})}),t.jsx("span",{className:M("font-bold",N?"text-blue-900":"text-slate-600"),children:a.label})]})},a.name)})}),t.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-8 border-t border-slate-100 pt-6",children:t.jsxs(z,{variant:"ghost",onClick:C,className:"w-full justify-center gap-2 rounded-xl py-6 font-bold text-red-500 hover:bg-red-50 hover:text-red-600",children:[t.jsx(V,{className:"h-5 w-5"}),"DÃ©connexion"]})})]})]}),e[10]=m,e[11]=w,e[12]=k,e[13]=r):r=e[13];let c;e[14]!==r?(c=t.jsx(O,{children:r}),e[14]=r,e[15]=c):c=e[15];let b;return e[16]!==n||e[17]!==l||e[18]!==c?(b=t.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 selection:bg-[#1f61e4] selection:text-white",children:[n,l,c]}),e[16]=n,e[17]=l,e[18]=c,e[19]=b):b=e[19],b}async function Q(){try{await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"same-origin"}),window.location.href="/login"}catch(s){console.error("Logout error:",s),window.location.href="/login"}}function Y(s){return["Client","Display"].includes(s.name)}function Z(s){return["Cashier","Display"].includes(s.name)}function ee(s){return s.name!=="Admin"}export{ie as A,P as L,U as S,X as U,K as X,I as a};

import{c as pe,u as qe,r as he,j as t}from"./app-Cl1Srwpv.js";import{u as ke,L as _e,A as Be,S as tt,b as B,C as st}from"./base44Client-DFr8a4ah.js";import{L as de,I as oe,B as P}from"./label-B4e2dEWo.js";import{S as Ke,e as Qe,f as Ge,g as Je,i as Ue,j as at}from"./select-sIAJ6N5x.js";import{c as K,a as I,m as ue}from"./createLucideIcon-D-eif_I3.js";import{u as xe,R as Se,X as Oe,L as Ye,U as lt,C as it,a as Re,A as rt,b as nt}from"./app-main-CE2T8fHo.js";import{t as G}from"./index-DLNwE5_S.js";import{B as Le,P as $e}from"./plus-YTd7S89y.js";import{a as Ee,T as Ne,A as Te}from"./trending-up-Da1FfQgd.js";import{h as me,U as Ie}from"./moment-B0nOeA0c.js";/* empty css            */const ct=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Me=K("Activity",ct);const ot=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],dt=K("ArrowDownLeft",ot);const xt=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],mt=K("ArrowUpRight",xt);const ht=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],ze=K("ChartPie",ht);const ut=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],pt=K("Download",ut);const gt=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Xe=K("Hash",gt);const ft=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],We=K("Save",ft);const bt=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jt=K("Settings",bt);const vt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ze=K("ShieldCheck",vt);const wt=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],et=K("Trash2",wt);function yt(){const e=pe.c(54),s=qe(),[a,d]=he.useState(!1);let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={name:"",type:"bank",code:""},e[0]=c):c=e[0];const[l,L]=he.useState(c);let y;e[1]===Symbol.for("react.memo_cache_sentinel")?(y={queryKey:["institutions"],queryFn:Ct},e[1]=y):y=e[1];const{data:i,isLoading:g}=ke(y);let M;e[2]!==i?(M=i===void 0?[]:i,e[2]=i,e[3]=M):M=e[3];const n=M;let N;e[4]!==s?(N={mutationFn:St,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),L({name:"",type:"bank",code:""}),d(!1),G.success("Institution ajoutée avec succès")},onError:_t},e[4]=s,e[5]=N):N=e[5];const o=xe(N);let k;e[6]!==s?(k={mutationFn:kt,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),G.success("Institution supprimée")}},e[6]=s,e[7]=k):k=e[7];const x=xe(k);let f;e[8]!==s?(f={mutationFn:Nt,onSuccess:()=>{s.invalidateQueries({queryKey:["institutions"]}),G.success("Statut mis à jour")}},e[8]=s,e[9]=f):f=e[9];const m=xe(f);let S,C;e[10]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-600 shadow-lg shadow-indigo-600/20",children:t.jsx(Le,{className:"h-5 w-5 text-white"})}),C=t.jsx("h4",{className:"text-sm font-black tracking-tight text-slate-800 uppercase",children:"Partenaires & Institutions"}),e[10]=S,e[11]=C):(S=e[10],C=e[11]);let h;e[12]!==n.length?(h=t.jsxs("div",{className:"ml-2 flex items-center gap-3",children:[S,t.jsxs("div",{children:[C,t.jsxs("p",{className:"text-[10px] font-bold tracking-widest text-slate-400 uppercase",children:[n.length," Entités Enregistrées"]})]})]}),e[12]=n.length,e[13]=h):h=e[13];let b;e[14]!==a?(b=()=>d(!a),e[14]=a,e[15]=b):b=e[15];const r=a?"bg-slate-200 text-slate-600 hover:bg-slate-300":"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20 hover:bg-indigo-700";let u;e[16]!==r?(u=I("h-11 rounded-xl px-6 text-xs font-black tracking-widest uppercase transition-all",r),e[16]=r,e[17]=u):u=e[17];let _;e[18]!==a?(_=a?t.jsx(Oe,{className:"mr-2 h-4 w-4"}):t.jsx($e,{className:"mr-2 h-4 w-4"}),e[18]=a,e[19]=_):_=e[19];const v=a?"Fermer":"Nouvelle Institution";let j;e[20]!==b||e[21]!==u||e[22]!==_||e[23]!==v?(j=t.jsxs(P,{onClick:b,className:u,children:[_,v]}),e[20]=b,e[21]=u,e[22]=_,e[23]=v,e[24]=j):j=e[24];let z;e[25]!==j||e[26]!==h?(z=t.jsxs("div",{className:"flex items-center justify-between rounded-[1.5rem] border border-slate-100 bg-slate-100/50 p-4",children:[h,j]}),e[25]=j,e[26]=h,e[27]=z):z=e[27];let E;e[28]!==o||e[29]!==l||e[30]!==a?(E=a&&t.jsx(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:t.jsxs("div",{className:"relative rounded-[2rem] bg-slate-900 p-8 text-white shadow-2xl",children:[t.jsx("div",{className:"pointer-events-none absolute top-0 right-0 h-64 w-64 bg-indigo-500/10 blur-[100px]"}),t.jsxs("h5",{className:"mb-8 flex items-center gap-3 text-xl font-black tracking-tight",children:[t.jsx(_e,{className:"h-6 w-6 text-indigo-400"}),"Configurer un nouveau partenaire"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(de,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Nom de l'institution"}),t.jsx(oe,{placeholder:"ex: Bank of Africa",value:l.name,onChange:w=>L({...l,name:w.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(de,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Type de service"}),t.jsxs(Ke,{value:l.type,onValueChange:w=>L({...l,type:w}),children:[t.jsx(Qe,{className:"h-12 rounded-xl border-white/10 bg-white/5 font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500",children:t.jsx(Ge,{})}),t.jsxs(Je,{className:"border-slate-800 bg-slate-900 text-white",children:[t.jsx(Ue,{value:"bank",className:"focus:bg-slate-800",children:"Banque Classique"}),t.jsx(Ue,{value:"mobile_money",className:"focus:bg-slate-800",children:"Mobile Money"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(de,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Code Identifiant"}),t.jsx(oe,{placeholder:"ex: BOA-CD",value:l.code,onChange:w=>L({...l,code:w.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 font-mono font-black text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),t.jsxs("div",{className:"mt-10 flex justify-end gap-3",children:[t.jsx(P,{variant:"ghost",onClick:()=>d(!1),className:"h-12 rounded-xl px-8 text-xs font-black tracking-widest text-slate-400 uppercase hover:bg-white/5 hover:text-white",children:"Annuler"}),t.jsx(P,{onClick:()=>o.mutate(l),disabled:o.isPending||!l.name||!l.code,className:"h-12 rounded-xl bg-white px-10 text-xs font-black tracking-widest text-slate-900 uppercase transition-all hover:bg-slate-100",children:o.isPending?t.jsx(Se,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(We,{className:"mr-2 h-4 w-4"}),"Enregistrer Partenaire"]})})]})]})}),e[28]=o,e[29]=l,e[30]=a,e[31]=E):E=e[31];let D;e[32]!==E?(D=t.jsx(Be,{children:E}),e[32]=E,e[33]=D):D=e[33];let F;if(e[34]!==x||e[35]!==n||e[36]!==m){let w;e[38]!==x||e[39]!==m?(w=p=>t.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group relative overflow-hidden rounded-[2rem] border-2 border-slate-50 bg-white p-6 shadow-xl shadow-slate-200/50 transition-all duration-300 hover:border-indigo-100",children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("div",{className:I("flex h-14 w-14 items-center justify-center rounded-2xl shadow-lg transition-transform group-hover:rotate-6",p.type==="bank"?"bg-slate-900 text-white shadow-slate-900/10":"bg-emerald-500 text-white shadow-emerald-500/10"),children:p.type==="bank"?t.jsx(Le,{className:"h-7 w-7"}):t.jsx(tt,{className:"h-7 w-7"})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>m.mutate({id:p.id,is_active:!p.is_active}),className:I("h-10 w-10 rounded-xl transition-all",p.is_active?"bg-emerald-50 text-emerald-500":"bg-slate-50 text-slate-300"),children:t.jsx(Ze,{className:"h-5 w-5"})}),t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>x.mutate(p.id),className:"h-10 w-10 rounded-xl text-slate-300 opacity-0 transition-all group-hover:opacity-100 hover:bg-rose-50 hover:text-rose-500",children:t.jsx(et,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"text-lg font-black tracking-tight text-slate-900",children:p.name}),!p.is_active&&t.jsx("span",{className:"rounded-full bg-slate-100 px-2 py-0.5 text-[8px] font-black tracking-widest text-slate-400 uppercase",children:"Inactif"})]}),t.jsxs("div",{className:"mt-1 flex items-center gap-3",children:[t.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:p.code}),t.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-200"}),t.jsx("span",{className:"text-[10px] font-bold text-indigo-500 uppercase",children:p.type==="bank"?"Banque":"Mobile Money"})]})]}),t.jsx("div",{className:I("absolute -right-6 -bottom-6 h-24 w-24 rounded-full opacity-[0.03] transition-transform group-hover:scale-150",p.type==="bank"?"bg-slate-900":"bg-emerald-500")})]},p.id),e[38]=x,e[39]=m,e[40]=w):w=e[40],F=n.map(w),e[34]=x,e[35]=n,e[36]=m,e[37]=F}else F=e[37];let U;e[41]!==n.length||e[42]!==g?(U=n.length===0&&!g&&t.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center rounded-[3rem] border-2 border-dashed border-slate-200 bg-slate-50/50 py-20",children:[t.jsx(_e,{className:"mb-4 h-16 w-16 text-slate-200"}),t.jsx("p",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:"Aucune institution configurée"})]}),e[41]=n.length,e[42]=g,e[43]=U):U=e[43];let A;e[44]!==F||e[45]!==U?(A=t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 xl:grid-cols-3",children:[F,U]}),e[44]=F,e[45]=U,e[46]=A):A=e[46];let $;e[47]!==g?($=g&&t.jsx("div",{className:"flex justify-center p-20",children:t.jsx(Ye,{className:"h-10 w-10 animate-spin text-indigo-600"})}),e[47]=g,e[48]=$):$=e[48];let q;return e[49]!==z||e[50]!==D||e[51]!==A||e[52]!==$?(q=t.jsxs("div",{className:"space-y-8",children:[z,D,A,$]}),e[49]=z,e[50]=D,e[51]=A,e[52]=$,e[53]=q):q=e[53],q}function Nt(e){const{id:s,is_active:a}=e;return B.entities.Institution.update(s,{is_active:a})}function kt(e){return B.entities.Institution.delete(e)}function _t(){return G.error("Erreur lors de l'ajout de l'institution")}function St(e){return B.entities.Institution.create(e)}function Ct(){return B.entities.Institution.list()}const Pe=[{id:"USD_CDF",label:"USD → CDF",from:"USD",to:"CDF"},{id:"EUR_CDF",label:"EUR → CDF",from:"EUR",to:"CDF"},{id:"EUR_USD",label:"EUR → USD",from:"EUR",to:"USD"},{id:"CDF_USD",label:"CDF → USD",from:"CDF",to:"USD"}];function Dt(){const e=pe.c(56),s=qe();let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={currency_pair:"",buy_rate:"",sell_rate:""},e[0]=a):a=e[0];const[d,c]=he.useState(a),[l,L]=he.useState(!1);let y;e[1]===Symbol.for("react.memo_cache_sentinel")?(y={queryKey:["rates"],queryFn:qt},e[1]=y):y=e[1];const{data:i,isLoading:g}=ke(y);let M;e[2]!==i?(M=i===void 0?[]:i,e[2]=i,e[3]=M):M=e[3];const n=M;let N;e[4]!==s?(N={mutationFn:$t,onSuccess:()=>{s.invalidateQueries({queryKey:["rates"]}),G.success("Taux mis à jour")}},e[4]=s,e[5]=N):N=e[5];const o=xe(N);let k;e[6]!==s?(k={mutationFn:Ut,onSuccess:()=>{s.invalidateQueries({queryKey:["rates"]}),c({currency_pair:"",buy_rate:"",sell_rate:""}),L(!1),G.success("Nouveau taux de change configuré")},onError:Mt},e[6]=s,e[7]=k):k=e[7];const x=xe(k);let f;e[8]!==s?(f={mutationFn:At,onSuccess:()=>{s.invalidateQueries({queryKey:["rates"]}),G.success("Configuration supprimée")}},e[8]=s,e[9]=f):f=e[9];const m=xe(f);let S;e[10]!==o?(S=(T,R,V)=>{V&&o.mutate({id:T.id,data:{[R]:parseFloat(V)}})},e[10]=o,e[11]=S):S=e[11];const C=S;let h,b;e[12]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-indigo-600 shadow-lg shadow-indigo-600/20",children:t.jsx(Te,{className:"h-5 w-5 text-white"})}),b=t.jsx("h4",{className:"text-sm font-black tracking-tight text-slate-800 uppercase",children:"Marché des Devises"}),e[12]=h,e[13]=b):(h=e[12],b=e[13]);let r;e[14]!==n.length?(r=t.jsxs("div",{className:"ml-2 flex items-center gap-3",children:[h,t.jsxs("div",{children:[b,t.jsxs("p",{className:"text-[10px] font-bold tracking-widest text-slate-400 uppercase",children:[n.length," Paires Actives"]})]})]}),e[14]=n.length,e[15]=r):r=e[15];let u;e[16]!==l?(u=()=>L(!l),e[16]=l,e[17]=u):u=e[17];const _=l?"bg-slate-200 text-slate-600 hover:bg-slate-300":"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20 hover:bg-indigo-700";let v;e[18]!==_?(v=I("h-11 rounded-xl px-6 text-xs font-black tracking-widest uppercase transition-all",_),e[18]=_,e[19]=v):v=e[19];let j;e[20]!==l?(j=l?t.jsx(Oe,{className:"mr-2 h-4 w-4"}):t.jsx($e,{className:"mr-2 h-4 w-4"}),e[20]=l,e[21]=j):j=e[21];const z=l?"Fermer":"Ajouter une Paire";let E;e[22]!==u||e[23]!==v||e[24]!==j||e[25]!==z?(E=t.jsxs(P,{onClick:u,className:v,children:[j,z]}),e[22]=u,e[23]=v,e[24]=j,e[25]=z,e[26]=E):E=e[26];let D;e[27]!==r||e[28]!==E?(D=t.jsxs("div",{className:"flex items-center justify-between rounded-[1.5rem] border border-slate-100 bg-slate-100/50 p-4",children:[r,E]}),e[27]=r,e[28]=E,e[29]=D):D=e[29];let F;e[30]!==x||e[31]!==d||e[32]!==l?(F=l&&t.jsx(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:t.jsxs("div",{className:"relative rounded-[2rem] bg-slate-900 p-8 text-white shadow-2xl",children:[t.jsx("div",{className:"pointer-events-none absolute top-0 right-0 h-64 w-64 bg-indigo-500/10 blur-[100px]"}),t.jsxs("h5",{className:"mb-8 flex items-center gap-3 text-xl font-black tracking-tight",children:[t.jsx($e,{className:"h-6 w-6 text-indigo-400"}),"Nouvelle Configuration"]}),t.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(de,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Paire de devises"}),t.jsxs(Ke,{value:d.currency_pair,onValueChange:T=>c({...d,currency_pair:T}),children:[t.jsx(Qe,{className:"h-12 rounded-xl border-white/10 bg-white/5 font-bold text-white outline-none focus:ring-2 focus:ring-indigo-500",children:t.jsx(Ge,{placeholder:"Choisir une paire"})}),t.jsx(Je,{className:"border-slate-800 bg-slate-900 text-white",children:Pe.map(Ft)})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(de,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Taux d'Achat (Buy)"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ee,{className:"absolute top-1/2 left-4 h-4 w-4 -translate-y-1/2 text-emerald-400"}),t.jsx(oe,{type:"number",placeholder:"0.00",value:d.buy_rate,onChange:T=>c({...d,buy_rate:T.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 pl-11 font-mono font-black text-white"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(de,{className:"ml-1 text-[10px] font-black tracking-widest text-slate-400 uppercase",children:"Taux de Vente (Sell)"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ne,{className:"absolute top-1/2 left-4 h-4 w-4 -translate-y-1/2 text-blue-400"}),t.jsx(oe,{type:"number",placeholder:"0.00",value:d.sell_rate,onChange:T=>c({...d,sell_rate:T.target.value}),className:"h-12 rounded-xl border-white/10 bg-white/5 pl-11 font-mono font-black text-white"})]})]})]}),t.jsxs("div",{className:"mt-10 flex justify-end gap-3",children:[t.jsx(P,{variant:"ghost",onClick:()=>L(!1),className:"h-12 rounded-xl px-8 text-xs font-black tracking-widest text-slate-400 uppercase hover:bg-white/5 hover:text-white",children:"Annuler"}),t.jsx(P,{onClick:()=>x.mutate(d),disabled:x.isPending||!d.currency_pair,className:"h-12 rounded-xl bg-white px-10 text-xs font-black tracking-widest text-slate-900 uppercase transition-all hover:bg-slate-100",children:x.isPending?t.jsx(Se,{className:"h-4 w-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(We,{className:"mr-2 h-4 w-4"}),"Activer le Taux"]})})]})]})}),e[30]=x,e[31]=d,e[32]=l,e[33]=F):F=e[33];let U;e[34]!==F?(U=t.jsx(Be,{children:F}),e[34]=F,e[35]=U):U=e[35];let A;if(e[36]!==m||e[37]!==C||e[38]!==n){let T;e[40]!==m||e[41]!==C?(T=R=>{const V=Pe.find(Q=>Q.id===R.currency_pair);return t.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group rounded-[2rem] border-2 border-slate-50 bg-white p-8 shadow-xl shadow-slate-200/50 transition-all duration-300 hover:border-indigo-100",children:[t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-slate-900 shadow-lg shadow-slate-900/10 transition-transform group-hover:rotate-6",children:t.jsx("span",{className:"text-sm font-black text-white",children:V?.from||R.currency_pair.split("_")[0]})}),t.jsx(Ne,{className:"h-4 w-4 text-slate-300"}),t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl border border-indigo-100 bg-indigo-50",children:t.jsx("span",{className:"text-sm font-black text-indigo-600",children:V?.to||R.currency_pair.split("_")[1]})})]}),t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>m.mutate(R.id),className:"h-10 w-10 rounded-xl text-slate-300 opacity-0 transition-all group-hover:opacity-100 hover:bg-rose-50 hover:text-rose-500",children:t.jsx(et,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsx("span",{className:"text-[9px] font-black tracking-widest text-slate-400 uppercase",children:"Achat (Buy)"}),t.jsx(Ee,{className:"h-3 w-3 text-emerald-500"})]}),t.jsx("div",{className:"relative",children:t.jsx(oe,{type:"number",value:R.buy_rate,onChange:Q=>C(R,"buy_rate",Q.target.value),className:"h-14 rounded-2xl border-transparent bg-slate-50 font-mono text-xl font-black text-slate-900 focus:border-indigo-500 focus:bg-white"})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between px-1",children:[t.jsx("span",{className:"text-[9px] font-black tracking-widest text-slate-400 uppercase",children:"Vente (Sell)"}),t.jsx(Ne,{className:"h-3 w-3 text-blue-500"})]}),t.jsx("div",{className:"relative",children:t.jsx(oe,{type:"number",value:R.sell_rate,onChange:Q=>C(R,"sell_rate",Q.target.value),className:"h-14 rounded-2xl border-transparent bg-slate-50 font-mono text-xl font-black text-slate-900 focus:border-indigo-500 focus:bg-white"})})]})]})]},R.id)},e[40]=m,e[41]=C,e[42]=T):T=e[42],A=n.map(T),e[36]=m,e[37]=C,e[38]=n,e[39]=A}else A=e[39];let $;e[43]!==g||e[44]!==n.length?($=n.length===0&&!g&&t.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center rounded-[3rem] border-2 border-dashed border-slate-200 bg-slate-50/50 py-20",children:[t.jsx(Te,{className:"mb-4 h-16 w-16 text-slate-200"}),t.jsx("p",{className:"text-xs font-black tracking-[0.2em] text-slate-400 uppercase",children:"Aucun taux configuré"})]}),e[43]=g,e[44]=n.length,e[45]=$):$=e[45];let q;e[46]!==A||e[47]!==$?(q=t.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-2",children:[A,$]}),e[46]=A,e[47]=$,e[48]=q):q=e[48];let w;e[49]!==g?(w=g&&t.jsx("div",{className:"flex justify-center p-20",children:t.jsx(Ye,{className:"h-10 w-10 animate-spin text-indigo-600"})}),e[49]=g,e[50]=w):w=e[50];let p;return e[51]!==D||e[52]!==U||e[53]!==q||e[54]!==w?(p=t.jsxs("div",{className:"space-y-8",children:[D,U,q,w]}),e[51]=D,e[52]=U,e[53]=q,e[54]=w,e[55]=p):p=e[55],p}function Ft(e){return t.jsx(Ue,{value:e.id,className:"hover:bg-slate-800 focus:bg-slate-800",children:e.label},e.id)}async function At(e){await B.entities.ExchangeRate.delete(e)}function Mt(){return G.error("Erreur lors de la création du taux")}async function Ut(e){await B.entities.ExchangeRate.create({...e,buy_rate:parseFloat(e.buy_rate),sell_rate:parseFloat(e.sell_rate),is_active:!0})}async function $t(e){const{id:s,data:a}=e;await B.entities.ExchangeRate.update(s,a)}function qt(){return B.entities.ExchangeRate.filter({is_active:!0})}const Ve={blue:{bg:"bg-blue-50",icon:"bg-blue-600 text-white shadow-blue-200",text:"text-blue-600",border:"border-blue-100",accent:"bg-blue-600/5",glow:"shadow-blue-500/10"},emerald:{bg:"bg-emerald-50",icon:"bg-emerald-600 text-white shadow-emerald-200",text:"text-emerald-600",border:"border-emerald-100",accent:"bg-emerald-600/5",glow:"shadow-emerald-500/10"},amber:{bg:"bg-amber-50",icon:"bg-amber-500 text-white shadow-amber-200",text:"text-amber-600",border:"border-amber-100",accent:"bg-amber-600/5",glow:"shadow-amber-500/10"},indigo:{bg:"bg-indigo-50",icon:"bg-indigo-600 text-white shadow-indigo-200",text:"text-indigo-600",border:"border-indigo-100",accent:"bg-indigo-600/5",glow:"shadow-indigo-500/10"},purple:{bg:"bg-purple-50",icon:"bg-purple-600 text-white shadow-purple-200",text:"text-purple-600",border:"border-purple-100",accent:"bg-purple-600/5",glow:"shadow-purple-500/10"},rose:{bg:"bg-rose-50",icon:"bg-rose-600 text-white shadow-rose-200",text:"text-rose-600",border:"border-rose-100",accent:"bg-rose-600/5",glow:"shadow-rose-500/10"}};function ye(e){const s=pe.c(43),{title:a,value:d,subtitle:c,icon:l,color:L,trend:y}=e,i=Ve[L]||Ve.blue;let g,M;s[0]===Symbol.for("react.memo_cache_sentinel")?(g={y:-5,scale:1.02},M={type:"spring",stiffness:400,damping:25},s[0]=g,s[1]=M):(g=s[0],M=s[1]);let n;s[2]!==i.glow?(n=I("group relative overflow-hidden rounded-[2.5rem] border border-white bg-white/70 p-8 shadow-xl backdrop-blur-xl transition-all",i.glow),s[2]=i.glow,s[3]=n):n=s[3];let N;s[4]!==i.bg?(N=I("absolute -top-12 -right-12 h-32 w-32 rounded-full opacity-20 blur-3xl",i.bg),s[4]=i.bg,s[5]=N):N=s[5];let o;s[6]!==N?(o=t.jsx("div",{className:N}),s[6]=N,s[7]=o):o=s[7];let k;s[8]!==i.icon?(k=I("flex h-14 w-14 items-center justify-center rounded-2xl shadow-lg transition-transform duration-500 group-hover:scale-110",i.icon),s[8]=i.icon,s[9]=k):k=s[9];let x;s[10]!==l?(x=t.jsx(l,{className:"h-8 w-8"}),s[10]=l,s[11]=x):x=s[11];let f;s[12]!==k||s[13]!==x?(f=t.jsx("div",{className:k,children:x}),s[12]=k,s[13]=x,s[14]=f):f=s[14];let m;s[15]!==y?(m=y&&t.jsxs("div",{className:I("flex items-center gap-1 rounded-full px-3 py-1 text-[10px] font-black tracking-widest uppercase",y.positive?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"),children:[y.positive?"↑":"↓"," ",y.value]}),s[15]=y,s[16]=m):m=s[16];let S;s[17]!==f||s[18]!==m?(S=t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[f,m]}),s[17]=f,s[18]=m,s[19]=S):S=s[19];let C;s[20]!==a?(C=t.jsx("p",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:a}),s[20]=a,s[21]=C):C=s[21];let h;s[22]!==d?(h=t.jsx("h2",{className:"text-3xl leading-tight font-black tracking-tight text-slate-900",children:d}),s[22]=d,s[23]=h):h=s[23];let b;s[24]!==i.text||s[25]!==c?(b=c&&t.jsxs("p",{className:"mt-2 flex items-center gap-1.5 text-[11px] font-bold tracking-wide text-slate-400 uppercase",children:[t.jsx("span",{className:I("h-1.5 w-1.5 rounded-full",i.text.replace("text","bg"))}),c]}),s[24]=i.text,s[25]=c,s[26]=b):b=s[26];let r;s[27]!==C||s[28]!==h||s[29]!==b?(r=t.jsxs("div",{className:"space-y-1",children:[C,h,b]}),s[27]=C,s[28]=h,s[29]=b,s[30]=r):r=s[30];let u;s[31]!==S||s[32]!==r?(u=t.jsxs("div",{className:"relative z-10 flex h-full flex-col",children:[S,r]}),s[31]=S,s[32]=r,s[33]=u):u=s[33];let _;s[34]!==i.text?(_=I("absolute bottom-0 left-0 h-1.5 w-full opacity-30",i.text.replace("text","bg")),s[34]=i.text,s[35]=_):_=s[35];let v;s[36]!==_?(v=t.jsx("div",{className:_}),s[36]=_,s[37]=v):v=s[37];let j;return s[38]!==u||s[39]!==v||s[40]!==n||s[41]!==o?(j=t.jsxs(ue.div,{whileHover:g,transition:M,className:n,children:[o,u,v]}),s[38]=u,s[39]=v,s[40]=n,s[41]=o,s[42]=j):j=s[42],j}function He(e){const s=pe.c(6),{transactions:a}=e;if(a.length===0){let L;return s[0]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-[2rem] border-2 border-dashed border-slate-200 bg-slate-50/50 p-20",children:[t.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl border border-slate-100 bg-white shadow-sm",children:t.jsx(Xe,{className:"h-8 w-8 text-slate-300"})}),t.jsx("p",{className:"text-xs font-black tracking-widest text-slate-400 uppercase",children:"Aucune transaction trouvée"})]}),s[0]=L):L=s[0],L}let d;s[1]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx("thead",{children:t.jsxs("tr",{className:"text-[10px] font-black tracking-[0.2em] text-slate-400 uppercase",children:[t.jsx("th",{className:"px-6 py-4 font-black",children:"Transaction / Client"}),t.jsx("th",{className:"px-6 py-4 text-center font-black",children:"Type"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Montant Entrée"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Montant Sortie"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Commission"}),t.jsx("th",{className:"px-6 py-4 text-right font-black",children:"Date / Heure"})]})}),s[1]=d):d=s[1];let c;s[2]!==a?(c=a.map(Rt),s[2]=a,s[3]=c):c=s[3];let l;return s[4]!==c?(l=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full border-separate border-spacing-y-3 text-left",children:[d,t.jsx("tbody",{children:c})]})}),s[4]=c,s[5]=l):l=s[5],l}function Rt(e){return t.jsxs("tr",{className:"group rounded-2xl border border-slate-100 bg-white transition-all duration-300 hover:bg-slate-50",children:[t.jsx("td",{className:"rounded-l-2xl border-y border-l border-slate-100 px-6 py-5 group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-slate-900 shadow-lg shadow-slate-900/10 transition-transform group-hover:scale-110",children:t.jsx(lt,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{className:"flex min-w-0 flex-col",children:[t.jsx("span",{className:"truncate text-sm font-black text-slate-900",children:e.client_name||"Utilisateur"}),t.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold tracking-tight text-slate-400 uppercase",children:[t.jsx(Xe,{className:"h-2.5 w-2.5"})," ID-",e.id.toString().slice(-4).toUpperCase()]})]})]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-center group-hover:border-indigo-100",children:t.jsxs("div",{className:I("inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-[10px] font-black tracking-widest uppercase",e.operation_type==="change"?"bg-indigo-50 text-indigo-600":"bg-amber-50 text-amber-600"),children:[e.operation_type==="change"?t.jsx(mt,{className:"h-3 w-3"}):t.jsx(dt,{className:"h-3 w-3"}),e.operation_type]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-black text-slate-900",children:e.amount_from?.toLocaleString()}),t.jsx("span",{className:"text-[10px] font-black tracking-tighter text-slate-400 uppercase",children:e.currency_from})]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-black text-emerald-600",children:e.amount_to?.toLocaleString()}),t.jsx("span",{className:"text-[10px] font-black tracking-tighter text-emerald-600 uppercase opacity-60",children:e.currency_to})]})}),t.jsx("td",{className:"border-y border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("span",{className:"rounded-lg bg-slate-900 px-3 py-1 font-mono text-xs font-black text-white shadow-lg shadow-slate-900/10",children:["$",parseFloat(e.commission).toLocaleString()]})}),t.jsx("td",{className:"rounded-r-2xl border-y border-r border-slate-100 px-6 py-5 text-right group-hover:border-indigo-100",children:t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-black text-slate-700",children:me(e.created_date).format("DD/MM/YYYY")}),t.jsxs("span",{className:"flex items-center justify-end gap-1 text-[10px] font-bold text-slate-400",children:[t.jsx(it,{className:"h-2.5 w-2.5"})," ",me(e.created_date).format("HH:mm")]})]})})]},e.id)}function ts(){const e=pe.c(96),s=qe(),[a,d]=he.useState("overview");let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c={queryKey:["all-clients"],queryFn:Ht,refetchInterval:3e4},e[0]=c):c=e[0];const{data:l,isLoading:L}=ke(c);let y;e[1]!==l?(y=l===void 0?[]:l,e[1]=l,e[2]=y):y=e[2];const i=y;let g;e[3]===Symbol.for("react.memo_cache_sentinel")?(g={queryKey:["all-transactions"],queryFn:Vt,refetchInterval:3e4},e[3]=g):g=e[3];const{data:M,isLoading:n}=ke(g);let N;e[4]!==M?(N=M===void 0?[]:M,e[4]=M,e[5]=N):N=e[5];const o=N;let k,x,f,m;if(e[6]!==i||e[7]!==o){const H=me().startOf("day");x=i.filter(Ae=>me(Ae.created_date).isSameOrAfter(H));const Fe=o.filter(Ae=>me(Ae.created_date).isSameOrAfter(H));m=Fe.filter(Pt).reduce(zt,0),f=Fe.filter(It).reduce(Tt,0),k=Fe.reduce(Et,0),e[6]=i,e[7]=o,e[8]=k,e[9]=x,e[10]=f,e[11]=m}else k=e[8],x=e[9],f=e[10],m=e[11];const S=k,C=x.length;let h;e[12]!==i?(h=i.filter(Lt),e[12]=i,e[13]=h):h=e[13];let b;e[14]!==h.length||e[15]!==x.length||e[16]!==S||e[17]!==f||e[18]!==m?(b={todayClients:C,waiting:h.length,volumeUSD:m,volumeCDF:f,commissions:S},e[14]=h.length,e[15]=x.length,e[16]=S,e[17]=f,e[18]=m,e[19]=b):b=e[19];const r=b;let u;e[20]!==s?(u=()=>{s.invalidateQueries({queryKey:["all-clients"]}),s.invalidateQueries({queryKey:["all-transactions"]}),G.success("Tableau de bord actualisé")},e[20]=s,e[21]=u):u=e[21];const _=u;let v;e[22]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("div",{className:"group flex h-14 w-14 rotate-3 cursor-pointer items-center justify-center rounded-2xl bg-indigo-600 shadow-lg shadow-indigo-500/30 transition-transform hover:rotate-0",children:t.jsx(Ze,{className:"h-8 w-8 text-white"})}),e[22]=v):v=e[22];let j;e[23]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h1",{className:"text-3xl leading-none font-black tracking-tight text-slate-900",children:"Console Manager"}),t.jsx("span",{className:"rounded-full bg-emerald-100 px-2 py-0.5 text-[10px] font-black tracking-widest text-emerald-600 uppercase",children:"Live API"})]}),e[23]=j):j=e[23];let z;e[24]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsxs("div",{className:"flex items-center gap-5",children:[v,t.jsxs("div",{children:[j,t.jsxs("p",{className:"mt-2 flex items-center gap-2 text-[11px] font-black tracking-[0.2em] text-slate-400 uppercase",children:[t.jsx(Me,{className:"h-3 w-3 text-indigo-500"}),"Supervision & Reporting Financier"]})]})]}),e[24]=z):z=e[24];const E=(L||n)&&"animate-spin";let D;e[25]!==E?(D=I("h-5 w-5",E),e[25]=E,e[26]=D):D=e[26];let F;e[27]!==D?(F=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl border border-slate-100 bg-white text-slate-400 shadow-sm",children:t.jsx(Se,{className:D})}),e[27]=D,e[28]=F):F=e[28];let U;e[29]===Symbol.for("react.memo_cache_sentinel")?(U=t.jsxs("div",{children:[t.jsx("div",{className:"text-[10px] font-black tracking-wider text-slate-400 uppercase",children:"Dernier Sync"}),t.jsx("div",{className:"text-xs font-bold text-slate-600",children:"A l'instant"})]}),e[29]=U):U=e[29];let A;e[30]!==F?(A=t.jsxs("div",{className:"hidden items-center gap-3 rounded-2xl border border-slate-200 bg-slate-50 p-1.5 pr-5 xl:flex",children:[F,U]}),e[30]=F,e[31]=A):A=e[31];let $;e[32]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx(Se,{className:"mr-2 h-4 w-4"}),e[32]=$):$=e[32];let q;e[33]!==_?(q=t.jsxs(P,{variant:"outline",onClick:_,className:"h-12 rounded-2xl border-slate-200 bg-white px-6 text-xs font-black tracking-widest uppercase shadow-sm transition-all hover:border-indigo-500 hover:text-indigo-600",children:[$,"Actualiser"]}),e[33]=_,e[34]=q):q=e[34];let w;e[35]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsxs(P,{className:"h-12 rounded-2xl bg-slate-900 px-6 text-xs font-black tracking-widest text-white uppercase shadow-xl shadow-slate-900/10 transition-all hover:bg-black active:scale-95",children:[t.jsx(pt,{className:"mr-2 h-4 w-4 text-emerald-400"}),"Exporter Rapport"]}),e[35]=w):w=e[35];let p;e[36]!==A||e[37]!==q?(p=t.jsxs("header",{className:"z-20 flex h-24 flex-shrink-0 items-center justify-between border-b border-slate-200 bg-white px-10 shadow-[0_1px_3px_rgba(0,0,0,0.02)]",children:[z,t.jsxs("div",{className:"flex items-center gap-4",children:[A,q,w]})]}),e[36]=A,e[37]=q,e[38]=p):p=e[38];const T=`${r.waiting} en attente`;let R;e[39]!==r.todayClients||e[40]!==T?(R=t.jsx(ye,{title:"Clients Aujourd'hui",value:r.todayClients,subtitle:T,icon:Ie,color:"blue"}),e[39]=r.todayClients,e[40]=T,e[41]=R):R=e[41];let V;e[42]!==r.volumeUSD?(V=r.volumeUSD.toLocaleString(),e[42]=r.volumeUSD,e[43]=V):V=e[43];const Q=`$ ${V}`;let J;e[44]!==Q?(J=t.jsx(ye,{title:"Volume USD",value:Q,icon:Ne,color:"emerald"}),e[44]=Q,e[45]=J):J=e[45];let ge;e[46]!==r.volumeCDF?(ge=r.volumeCDF.toLocaleString(),e[46]=r.volumeCDF,e[47]=ge):ge=e[47];const Ce=`${ge} FC`;let O;e[48]!==Ce?(O=t.jsx(ye,{title:"Volume CDF",value:Ce,icon:_e,color:"amber"}),e[48]=Ce,e[49]=O):O=e[49];let fe;e[50]!==r.commissions?(fe=r.commissions.toLocaleString(),e[50]=r.commissions,e[51]=fe):fe=e[51];const De=`$ ${fe}`;let Y;e[52]!==De?(Y=t.jsx(ye,{title:"Commissions Estimées",value:De,icon:ze,color:"indigo"}),e[52]=De,e[53]=Y):Y=e[53];let X;e[54]!==R||e[55]!==J||e[56]!==O||e[57]!==Y?(X=t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[R,J,O,Y]}),e[54]=R,e[55]=J,e[56]=O,e[57]=Y,e[58]=X):X=e[58];let be;e[59]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx("h3",{className:"mb-6 px-2 text-[11px] font-black tracking-[0.2em] text-slate-400 uppercase",children:"Navigation"}),e[59]=be):be=e[59];let je;e[60]===Symbol.for("react.memo_cache_sentinel")?(je=[{id:"overview",label:"Vue d'ensemble",icon:Re},{id:"transactions",label:"Flux Transactions",icon:rt},{id:"rates",label:"Gestion Taux",icon:jt},{id:"users",label:"Utilisateurs",icon:Ie},{id:"institutions",label:"Banques & Partenaires",icon:_e},{id:"logs",label:"Journal Activité",icon:Me}],e[60]=je):je=e[60];let W;e[61]!==a?(W=t.jsxs("div",{className:"rounded-[2rem] border border-white bg-white/50 p-6 shadow-sm backdrop-blur-xl",children:[be,t.jsx("nav",{className:"space-y-2",children:je.map(H=>t.jsxs("button",{onClick:()=>d(H.id),className:I("flex w-full items-center justify-between rounded-2xl border p-4 text-sm font-bold transition-all duration-300",a===H.id?"border-indigo-600 bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"border-slate-100 bg-white/40 text-slate-500 hover:border-slate-200 hover:bg-white"),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(H.icon,{className:I("h-5 w-5",a===H.id?"text-white":"text-slate-400")}),H.label]}),t.jsx(st,{className:I("h-4 w-4 transition-transform",a===H.id?"translate-x-1":"opacity-0")})]},H.id))})]}),e[61]=a,e[62]=W):W=e[62];let ve;e[63]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsxs("div",{className:"group relative overflow-hidden rounded-[2rem] bg-slate-900 p-8 text-white shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 h-32 w-32 translate-x-1/2 -translate-y-1/2 bg-indigo-500/20 blur-[80px]"}),t.jsx("h4",{className:"relative z-10 mb-2 text-xl font-black",children:"Besoin d'aide ?"}),t.jsx("p",{className:"relative z-10 mb-6 text-xs font-medium text-slate-400",children:"Consultez la documentation technique du bureau de change."}),t.jsx(P,{className:"relative z-10 w-full rounded-xl bg-white text-[10px] font-black tracking-widest text-slate-900 uppercase hover:bg-slate-100",children:"Guide Manager"})]}),e[63]=ve):ve=e[63];let Z;e[64]!==W?(Z=t.jsxs("div",{className:"col-span-12 space-y-4 lg:col-span-3",children:[W,ve]}),e[64]=W,e[65]=Z):Z=e[65];let ee;e[66]!==a||e[67]!==o?(ee=a==="overview"&&t.jsxs("div",{className:"animate-in space-y-8 duration-500 fade-in slide-in-from-bottom-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-black tracking-tight text-slate-800",children:"Performances du Jour"}),t.jsx("p",{className:"text-sm font-medium text-slate-400",children:"Aperçu rapide des flux financiers et des clients."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("span",{className:"rounded-xl border border-indigo-100 bg-indigo-50 px-4 py-2 text-xs font-black tracking-wider text-indigo-600 uppercase",children:"Hebdomadaire"}),t.jsx("span",{className:"cursor-pointer rounded-xl border border-slate-100 bg-white px-4 py-2 text-xs font-black tracking-wider text-slate-400 uppercase hover:bg-slate-50",children:"Mensuel"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[t.jsxs("div",{className:"flex h-64 flex-col items-center justify-center rounded-3xl border border-slate-100 bg-slate-50 p-8 opacity-50",children:[t.jsx(ze,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("p",{className:"text-xs font-black tracking-[0.2em] text-slate-400 uppercase",children:"Graphique des Flux (Soon)"})]}),t.jsxs("div",{className:"flex h-64 flex-col items-center justify-center rounded-3xl border border-slate-100 bg-slate-50 p-8 opacity-50",children:[t.jsx(Re,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("p",{className:"text-xs font-black tracking-[0.2em] text-slate-400 uppercase",children:"Volume par Guichet (Soon)"})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[t.jsx("h4",{className:"text-lg font-black tracking-tight text-slate-800",children:"Activités Récentes"}),t.jsx(P,{variant:"ghost",className:"font-bold text-indigo-600 hover:bg-indigo-50",children:"Voir tout"})]}),t.jsx(He,{transactions:o.slice(0,5)})]})]}),e[66]=a,e[67]=o,e[68]=ee):ee=e[68];let te;e[69]!==a||e[70]!==o?(te=a==="transactions"&&t.jsxs("div",{className:"animate-in space-y-6 duration-300 fade-in",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsx("h3",{className:"text-2xl font-black tracking-tight text-slate-800",children:"Journal Complet"}),t.jsxs("div",{className:"relative w-72",children:[t.jsx(at,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-slate-400"}),t.jsx("input",{placeholder:"Filtrer...",className:"h-10 w-full rounded-xl border-slate-200 pr-4 pl-10 text-sm focus:ring-indigo-500"})]})]}),t.jsx(He,{transactions:o})]}),e[69]=a,e[70]=o,e[71]=te):te=e[71];let se;e[72]!==a?(se=a==="rates"&&t.jsx("div",{className:"animate-in duration-300 fade-in",children:t.jsx(Dt,{})}),e[72]=a,e[73]=se):se=e[73];let ae;e[74]!==a?(ae=a==="institutions"&&t.jsx("div",{className:"animate-in duration-300 fade-in",children:t.jsx(yt,{})}),e[74]=a,e[75]=ae):ae=e[75];let le;e[76]!==a?(le=a==="users"&&t.jsx("div",{className:"animate-in duration-300 fade-in",children:t.jsx(UserManagement,{})}),e[76]=a,e[77]=le):le=e[77];let ie;e[78]!==a?(ie=a==="logs"&&t.jsxs("div",{className:"flex h-96 animate-in flex-col items-center justify-center space-y-4 opacity-40 duration-300 zoom-in-95",children:[t.jsx(Me,{className:"h-20 w-20 text-slate-200"}),t.jsx("p",{className:"text-xs font-black tracking-[0.3em] text-slate-400 uppercase",children:"Journal d'audit Manager bientôt disponible"})]}),e[78]=a,e[79]=ie):ie=e[79];let re;e[80]!==ee||e[81]!==te||e[82]!==se||e[83]!==ae||e[84]!==le||e[85]!==ie?(re=t.jsx("div",{className:"col-span-12 lg:col-span-9",children:t.jsx("div",{className:"min-h-[600px] overflow-hidden rounded-[2.5rem] border border-white bg-white/80 shadow-xl shadow-slate-200/50 backdrop-blur-xl",children:t.jsxs("div",{className:"p-10",children:[ee,te,se,ae,le,ie]})})}),e[80]=ee,e[81]=te,e[82]=se,e[83]=ae,e[84]=le,e[85]=ie,e[86]=re):re=e[86];let ne;e[87]!==Z||e[88]!==re?(ne=t.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[Z,re]}),e[87]=Z,e[88]=re,e[89]=ne):ne=e[89];let ce;e[90]!==X||e[91]!==ne?(ce=t.jsx("main",{className:"flex-1 overflow-y-auto bg-[url('/grid.svg')] bg-[length:40px_40px] px-10 py-10",children:t.jsxs("div",{className:"w-full max-w-none space-y-10",children:[X,ne]})}),e[90]=X,e[91]=ne,e[92]=ce):ce=e[92];let we;return e[93]!==p||e[94]!==ce?(we=t.jsx(nt,{currentPageName:"Administration",children:t.jsxs("div",{className:"flex h-[calc(100vh-64px)] flex-col overflow-hidden bg-[#f8fafc]",children:[p,ce]})}),e[93]=p,e[94]=ce,e[95]=we):we=e[95],we}function Lt(e){return e.status==="waiting"}function Et(e,s){return e+(parseFloat(s.commission)||0)}function Tt(e,s){return e+(s.amount_from||0)}function It(e){return e.currency_from==="CDF"}function zt(e,s){return e+(s.amount_from||0)}function Pt(e){return e.currency_from==="USD"}function Vt(){return B.entities.Transaction.list("-created_date",500)}function Ht(){return B.entities.Client.list("-created_date",500)}export{ts as default};

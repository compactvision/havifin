import{c as vi,a as yi,u as Ni,r as h,j as t,L as oi,H as _i}from"./app-DfVEQ2Jl.js";import{u as We,b as m,M as wi}from"./base44Client-B9xVS0TF.js";import{B as Zs}from"./badge-DPmvw1-s.js";import{B as o,t as d}from"./index-Cp6nHwXV.js";import{c as Ye,d as Ze,D as et,a as tt}from"./index-CqhivdR4.js";import{I as k,L as g}from"./label-C8lY9vse.js";import{S as $l,c as Rl,a as Bl,b as Xl,d as Ge}from"./select-C8S73Dzd.js";import{N as di,S as ei}from"./skeleton-BM_claNt.js";import{S as mi,A as Jl}from"./app-main-CYzwZkPW.js";import{c as ti,m as N,b as ui}from"./createLucideIcon-Bn3wTAHH.js";import{u as v}from"./check-4s6hy00p.js";import{A as Si}from"./arrow-left-CkFc3ZsN.js";import{T as Wl}from"./trash-2-DFE5RF5z.js";import{P as Ve}from"./plus-C2boNFbP.js";import{U as Ci}from"./users-Ba1Nnk9m.js";/* empty css            */const ki=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Yl=ti("Image",ki);const Ai=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Zl=ti("UserCheck",Ai);const qi=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Pi=ti("UserX",qi);function ja(l){const e=vi.c(349),{id:_}=l,{auth:y}=yi().props,r=parseInt(_),i=Ni(),[el,Ue]=h.useState(!1);h.useState(null);const[tl,sl]=h.useState(!1),[w,si]=h.useState(null);let st;e[0]===Symbol.for("react.memo_cache_sentinel")?(st={counter_number:1,name:""},e[0]=st):st=e[0];const[u,ll]=h.useState(st);let lt;e[1]===Symbol.for("react.memo_cache_sentinel")?(lt={queryKey:["shops"],queryFn:m.entities.Shop.list},e[1]=lt):lt=e[1];const{data:il,isLoading:xi}=We(lt);let it;e[2]!==il||e[3]!==r?(it=il?.find(s=>s.id===r),e[2]=il,e[3]=r,e[4]=it):it=e[4];const b=it;let A,q;e[5]!==r?(A=["counters",r],q=()=>m.entities.Counter.list(r),e[5]=r,e[6]=A,e[7]=q):(A=e[6],q=e[7]);const al=!!r;let at;e[8]!==A||e[9]!==q||e[10]!==al?(at={queryKey:A,queryFn:q,enabled:al},e[8]=A,e[9]=q,e[10]=al,e[11]=at):at=e[11];const{data:x,isLoading:rl}=We(at);let rt;e[12]===Symbol.for("react.memo_cache_sentinel")?(rt={queryKey:["users"],queryFn:m.entities.User.list},e[12]=rt):rt=e[12];const{data:hi}=We(rt),li=hi?.filter(s=>s.role==="cashier"&&s.shops?.some(a=>a.id===r));let P;e[13]!==r?(P=s=>m.entities.Counter.create(r,s),e[13]=r,e[14]=P):P=e[14];let I;e[15]!==i||e[16]!==r?(I=()=>{i.invalidateQueries({queryKey:["counters",r]}),d.success("Guichet créé avec succès"),Ue(!1),ll({counter_number:1,name:""})},e[15]=i,e[16]=r,e[17]=I):I=e[17];let nt;e[18]!==I||e[19]!==P?(nt={mutationFn:P,onSuccess:I,onError:sa},e[18]=I,e[19]=P,e[20]=nt):nt=e[20];const S=v(nt);let ct;e[21]!==i||e[22]!==r?(ct={mutationFn:ta,onSuccess:()=>{i.invalidateQueries({queryKey:["counters",r]}),d.success("Guichet mis à jour avec succès"),sl(!1),si(null)},onError:ea},e[21]=i,e[22]=r,e[23]=ct):ct=e[23];const nl=v(ct);let ot;e[24]!==i||e[25]!==r?(ot={mutationFn:Zi,onSuccess:()=>{i.invalidateQueries({queryKey:["counters",r]}),d.success("Guichet supprimé avec succès")},onError:Yi},e[24]=i,e[25]=r,e[26]=ot):ot=e[26];const cl=v(ot);let dt;e[27]!==u||e[28]!==S?(dt=s=>{s.preventDefault(),S.mutate(u)},e[27]=u,e[28]=S,e[29]=dt):dt=e[29];const ol=dt,[dl,mt]=h.useState(!1);let ut;e[30]===Symbol.for("react.memo_cache_sentinel")?(ut={name:"",email:"",password:"",counter_id:""},e[30]=ut):ut=e[30];const[n,Qe]=h.useState(ut);let M;e[31]!==r?(M=async s=>{const a=await m.entities.User.create({name:s.name,email:s.email,password:s.password,role:"cashier",is_active:!0,shop_ids:[r]});return s.counter_id&&await m.entities.Counter.update(parseInt(s.counter_id),{cashier_id:a.id}),a},e[31]=r,e[32]=M):M=e[32];let F;e[33]!==i||e[34]!==r?(F=()=>{i.invalidateQueries({queryKey:["users"]}),i.invalidateQueries({queryKey:["counters",r]}),d.success("Caissier créé avec succès"),mt(!1),Qe({name:"",email:"",password:"",counter_id:""})},e[33]=i,e[34]=r,e[35]=F):F=e[35];let xt;e[36]!==M||e[37]!==F?(xt={mutationFn:M,onSuccess:F,onError:Wi},e[36]=M,e[37]=F,e[38]=xt):xt=e[38];const C=v(xt);let ht;e[39]!==n||e[40]!==C?(ht=s=>{s.preventDefault(),C.mutate(n)},e[39]=n,e[40]=C,e[41]=ht):ht=e[41];const ml=ht;let ft;e[42]!==w||e[43]!==nl?(ft=s=>{w&&nl.mutate({id:w.id,data:{cashier_id:s}})},e[42]=w,e[43]=nl,e[44]=ft):ft=e[44];const ul=ft,[xl,He]=h.useState(!1);let pt;e[45]===Symbol.for("react.memo_cache_sentinel")?(pt={title:"",type:"image",image_url:"",display_order:1},e[45]=pt):pt=e[45];const[c,hl]=h.useState(pt),[,ii]=h.useState(null),[f,ai]=h.useState(""),[,ri]=h.useState(null),[p,ni]=h.useState("");let gt;e[46]===Symbol.for("react.memo_cache_sentinel")?(gt={queryKey:["advertisements"],queryFn:m.entities.Advertisement.list},e[46]=gt):gt=e[46];const{data:bt}=We(gt);let jt;e[47]!==bt?(jt=bt===void 0?[]:bt,e[47]=bt,e[48]=jt):jt=e[48];const Oe=jt;let vt;e[49]===Symbol.for("react.memo_cache_sentinel")?(vt=s=>{const a=s.target.files?.[0];if(a){ri(a);const Je=URL.createObjectURL(a);ni(Je)}},e[49]=vt):vt=e[49];const fi=vt;let yt;e[50]!==i?(yt={mutationFn:Ji,onSuccess:()=>{i.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité mise à jour")},onError:Xi},e[50]=i,e[51]=yt):yt=e[51];const fl=v(yt);let Nt;e[52]!==i?(Nt={mutationFn:Bi,onSuccess:()=>{i.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité supprimée")},onError:Ri},e[52]=i,e[53]=Nt):Nt=e[53];const pl=v(Nt);let _t;e[54]===Symbol.for("react.memo_cache_sentinel")?(_t=s=>{const a=s.target.files?.[0];if(a){ii(a);const Je=new FileReader;Je.onloadend=()=>{ai(Je.result)},Je.readAsDataURL(a)}},e[54]=_t):_t=e[54];const pi=_t,[gl,$e]=h.useState(!1);let wt;e[55]===Symbol.for("react.memo_cache_sentinel")?(wt={content:"",display_order:1},e[55]=wt):wt=e[55];const[j,ci]=h.useState(wt);let St;e[56]===Symbol.for("react.memo_cache_sentinel")?(St={queryKey:["news"],queryFn:m.entities.News.list},e[56]=St):St=e[56];const{data:Ct}=We(St);let kt;e[57]!==Ct?(kt=Ct===void 0?[]:Ct,e[57]=Ct,e[58]=kt):kt=e[58];const Re=kt;let At;e[59]!==i?(At={mutationFn:$i,onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),d.success("Information ajoutée au défilé"),$e(!1),ci({content:"",display_order:1})},onError:Oi},e[59]=i,e[60]=At):At=e[60];const Be=v(At);let qt;e[61]!==i?(qt={mutationFn:Hi,onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),d.success("Information mise à jour")},onError:Qi},e[61]=i,e[62]=qt):qt=e[62];const bl=v(qt);let Pt;e[63]!==i?(Pt={mutationFn:Ui,onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),d.success("Information supprimée")},onError:Gi},e[63]=i,e[64]=Pt):Pt=e[64];const jl=v(Pt);let It;e[65]!==Be||e[66]!==j?(It=s=>{s.preventDefault(),Be.mutate(j)},e[65]=Be,e[66]=j,e[67]=It):It=e[67];const vl=It;let Mt;e[68]!==bl?(Mt=s=>{bl.mutate({id:s.id,data:{is_active:!s.is_active}})},e[68]=bl,e[69]=Mt):Mt=e[69];const yl=Mt;let Ft;e[70]!==jl?(Ft=s=>{confirm("Supprimer cette information du défilé ?")&&jl.mutate(s.id)},e[70]=jl,e[71]=Ft):Ft=e[71];const Nl=Ft;let E;e[72]!==f||e[73]!==p?(E=async s=>{const a=s.type==="video"?p:f;return m.entities.Advertisement.create({title:s.title,type:s.type,image_url:s.image_url||a,display_order:s.display_order,is_active:!0})},e[72]=f,e[73]=p,e[74]=E):E=e[74];let D;e[75]!==i?(D=()=>{i.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité créée avec succès"),He(!1),hl({title:"",type:"image",image_url:"",display_order:1}),ii(null),ai(""),ri(null),ni("")},e[75]=i,e[76]=D):D=e[76];let Et;e[77]!==E||e[78]!==D?(Et={mutationFn:E,onSuccess:D,onError:Vi},e[77]=E,e[78]=D,e[79]=Et):Et=e[79];const Xe=v(Et);let Dt;e[80]!==c||e[81]!==Xe?(Dt=s=>{s.preventDefault(),Xe.mutate(c)},e[80]=c,e[81]=Xe,e[82]=Dt):Dt=e[82];const _l=Dt;let zt;e[83]!==fl?(zt=s=>{fl.mutate({id:s.id,data:{is_active:!s.is_active}})},e[83]=fl,e[84]=zt):zt=e[84];const wl=zt;let Kt;e[85]!==pl?(Kt=s=>{confirm(`Supprimer la publicité "${s.title}" ?`)&&pl.mutate(s.id)},e[85]=pl,e[86]=Kt):Kt=e[86];const Sl=Kt;let Lt;e[87]!==cl?(Lt=s=>{confirm(`Êtes-vous sûr de vouloir supprimer le guichet "${s.name}" ?`)&&cl.mutate(s.id)},e[87]=cl,e[88]=Lt):Lt=e[88];const Cl=Lt;if(xi&&!b){let s;e[89]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx("div",{className:"mb-10 grid grid-cols-1 gap-6 md:grid-cols-3",children:[1,2,3].map(Ti)}),e[89]=s):s=e[89];let a;return e[90]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(Jl,{currentPageName:"Manager",children:t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/30 px-6 py-8 md:px-10",children:[s,t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[1,2,3,4,5,6].map(Li)})]})}),e[90]=a):a=e[90],a}if(!b){let s;e[91]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx("h2",{className:"mb-4 text-2xl font-black text-slate-900",children:"Boutique introuvable"}),e[91]=s):s=e[91];let a;return e[92]===Symbol.for("react.memo_cache_sentinel")?(a=t.jsx(Jl,{currentPageName:"Manager",children:t.jsxs("div",{className:"flex h-screen flex-col items-center justify-center",children:[s,t.jsx(oi,{href:"/manager/shops",children:t.jsx(o,{children:"Retour aux boutiques"})})]})}),e[92]=a):a=e[92],a}let Tt;e[93]!==x?(Tt=x?.filter(Ki)||[],e[93]=x,e[94]=Tt):Tt=e[94];const kl=Tt;let Vt;e[95]!==x?(Vt=x?.filter(zi)||[],e[95]=x,e[96]=Vt):Vt=e[96];const Al=Vt,ql=`Gestion - ${b.name}`;let Gt;e[97]!==ql?(Gt=t.jsx(_i,{title:ql}),e[97]=ql,e[98]=Gt):Gt=e[98];let Ut;e[99]===Symbol.for("react.memo_cache_sentinel")?(Ut={x:-4},e[99]=Ut):Ut=e[99];let Qt,Ht;e[100]===Symbol.for("react.memo_cache_sentinel")?(Qt=t.jsx(oi,{href:"/manager/shops",children:t.jsx(N.div,{whileHover:Ut,children:t.jsx(o,{variant:"ghost",size:"icon",className:"h-12 w-12 rounded-2xl border border-white/40 bg-white/50 shadow-sm backdrop-blur-md hover:bg-white/80",children:t.jsx(Si,{className:"h-5 w-5 text-indigo-600"})})})}),Ht=t.jsx("div",{className:"h-10 w-[1px] bg-indigo-100"}),e[100]=Qt,e[101]=Ht):(Qt=e[100],Ht=e[101]);let Ot;e[102]===Symbol.for("react.memo_cache_sentinel")?(Ot={scale:1.02},e[102]=Ot):Ot=e[102];let $t;e[103]===Symbol.for("react.memo_cache_sentinel")?($t=t.jsxs("div",{className:"flex items-center gap-4",children:[Qt,Ht,t.jsx(N.div,{whileHover:Ot,className:"relative flex h-16 w-38 items-center justify-center p-2",children:t.jsx("img",{src:"/logo-color.png",alt:"Havifin",className:"h-full w-full object-contain"})})]}),e[103]=$t):$t=e[103];let z;e[104]!==b.id?(z=()=>window.open(`/display?shop_id=${b.id}`,"_blank"),e[104]=b.id,e[105]=z):z=e[105];let Rt;e[106]===Symbol.for("react.memo_cache_sentinel")?(Rt=t.jsx(wi,{className:"mr-2 h-4 w-4"}),e[106]=Rt):Rt=e[106];let K;e[107]!==z?(K=t.jsxs(o,{onClick:z,variant:"outline",className:"h-12 rounded-2xl border border-purple-100 bg-purple-50/50 px-6 font-bold text-purple-600 hover:bg-purple-100/50",children:[Rt,"Lancer l'écran TV"]}),e[107]=z,e[108]=K):K=e[108];let Bt;e[109]===Symbol.for("react.memo_cache_sentinel")?(Bt=()=>mt(!0),e[109]=Bt):Bt=e[109];let Xt;e[110]===Symbol.for("react.memo_cache_sentinel")?(Xt=t.jsxs(o,{onClick:Bt,className:"h-12 rounded-2xl border border-indigo-100 bg-indigo-50/50 px-6 font-bold text-indigo-600 hover:bg-indigo-100/50",children:[t.jsx(Zl,{className:"mr-2 h-4 w-4"}),"Nouveau Caissier"]}),e[110]=Xt):Xt=e[110];let Jt;e[111]===Symbol.for("react.memo_cache_sentinel")?(Jt=()=>Ue(!0),e[111]=Jt):Jt=e[111];const Pl=(x?.length||0)>=b.counter_count;let Wt;e[112]===Symbol.for("react.memo_cache_sentinel")?(Wt=t.jsx(Ve,{className:"mr-2 h-4 w-4"}),e[112]=Wt):Wt=e[112];let L;e[113]!==Pl?(L=t.jsxs(o,{onClick:Jt,disabled:Pl,className:"h-12 rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/20 hover:shadow-xl active:scale-95",children:[Wt,"Nouveau Guichet"]}),e[113]=Pl,e[114]=L):L=e[114];let T;e[115]!==K||e[116]!==L?(T=t.jsxs("div",{className:"flex gap-3",children:[K,Xt,L]}),e[115]=K,e[116]=L,e[117]=T):T=e[117];let V;e[118]!==y.user.name?(V=t.jsx("div",{className:"text-sm leading-none font-black text-slate-900",children:y.user.name}),e[118]=y.user.name,e[119]=V):V=e[119];const Il=y.user.shop?`• ${y.user.shop}`:"";let G;e[120]!==y.user.role||e[121]!==Il?(G=t.jsxs("div",{className:"mt-1 text-[9px] font-black tracking-widest text-slate-400 uppercase",children:[y.user.role," ",Il]}),e[120]=y.user.role,e[121]=Il,e[122]=G):G=e[122];let U;e[123]!==V||e[124]!==G?(U=t.jsx("div",{className:"flex items-center gap-4 border-l border-slate-200/50 pl-6",children:t.jsxs("div",{className:"flex flex-col items-end text-right",children:[V,G]})}),e[123]=V,e[124]=G,e[125]=U):U=e[125];let Yt;e[126]!==T||e[127]!==U?(Yt=t.jsxs("header",{className:"sticky top-0 z-50 mb-10 flex h-24 w-full flex-col gap-6 border-b border-white/20 bg-white/70 px-6 py-4 shadow-sm backdrop-blur-xl md:flex-row md:items-center md:justify-between md:px-10",children:[$t,t.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[T,U]})]}),e[126]=T,e[127]=U,e[128]=Yt):Yt=e[128];let Zt,es;e[129]===Symbol.for("react.memo_cache_sentinel")?(Zt={opacity:0,y:20},es={opacity:1,y:0},e[129]=Zt,e[130]=es):(Zt=e[129],es=e[130]);let ts,ss;e[131]===Symbol.for("react.memo_cache_sentinel")?(ts=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-indigo-100",children:t.jsx(mi,{className:"h-6 w-6 text-indigo-600"})}),ss=t.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Guichets Actifs"}),e[131]=ts,e[132]=ss):(ts=e[131],ss=e[132]);let ls;e[133]!==kl.length||e[134]!==b.counter_count?(ls=t.jsx(N.div,{initial:Zt,animate:es,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[ts,t.jsxs("div",{children:[ss,t.jsxs("p",{className:"text-2xl font-black text-slate-900",children:[kl.length," /"," ",b.counter_count]})]})]})}),e[133]=kl.length,e[134]=b.counter_count,e[135]=ls):ls=e[135];let is,as,rs;e[136]===Symbol.for("react.memo_cache_sentinel")?(is={opacity:0,y:20},as={opacity:1,y:0},rs={delay:.1},e[136]=is,e[137]=as,e[138]=rs):(is=e[136],as=e[137],rs=e[138]);let ns,cs;e[139]===Symbol.for("react.memo_cache_sentinel")?(ns=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-100",children:t.jsx(Zl,{className:"h-6 w-6 text-emerald-600"})}),cs=t.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Guichets Assignés"}),e[139]=ns,e[140]=cs):(ns=e[139],cs=e[140]);let os;e[141]!==Al.length?(os=t.jsx(N.div,{initial:is,animate:as,transition:rs,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[ns,t.jsxs("div",{children:[cs,t.jsx("p",{className:"text-2xl font-black text-slate-900",children:Al.length})]})]})}),e[141]=Al.length,e[142]=os):os=e[142];let ds,ms,us;e[143]===Symbol.for("react.memo_cache_sentinel")?(ds={opacity:0,y:20},ms={opacity:1,y:0},us={delay:.2},e[143]=ds,e[144]=ms,e[145]=us):(ds=e[143],ms=e[144],us=e[145]);let xs,hs;e[146]===Symbol.for("react.memo_cache_sentinel")?(xs=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-purple-100",children:t.jsx(Ci,{className:"h-6 w-6 text-purple-600"})}),hs=t.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Caissiers Disponibles"}),e[146]=xs,e[147]=hs):(xs=e[146],hs=e[147]);let fs;e[148]===Symbol.for("react.memo_cache_sentinel")?(fs=t.jsx("h2",{className:"mb-6 text-2xl font-black text-slate-900",children:"Configuration des Guichets"}),e[148]=fs):fs=e[148];let ps;e[149]!==x||e[150]!==Cl||e[151]!==rl?(ps=t.jsxs("div",{children:[fs,rl?t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(Di)}):x&&x.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:x.map((s,a)=>t.jsxs(N.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:a*.05},className:"group relative overflow-hidden rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[t.jsx("div",{children:t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 text-lg font-black text-white",children:s.counter_number}),t.jsx("h3",{className:"text-xl font-black text-slate-900",children:s.name})]})}),t.jsx(o,{variant:"ghost",size:"icon",onClick:()=>Cl(s),className:"h-8 w-8 text-slate-400 hover:text-red-600",children:t.jsx(Wl,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"mb-4",children:s.cashier?t.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-emerald-50 p-3",children:[t.jsx(Zl,{className:"h-5 w-5 text-emerald-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs font-bold text-emerald-600 uppercase",children:"Caissier Assigné"}),t.jsx("p",{className:"font-bold text-slate-900",children:s.cashier.name})]})]}):t.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-slate-50 p-3",children:[t.jsx(Pi,{className:"h-5 w-5 text-slate-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Non Assigné"}),t.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Aucun caissier"})]})]})}),t.jsx(o,{onClick:()=>{si(s),sl(!0)},variant:"outline",className:"w-full rounded-xl border-slate-200 font-bold hover:border-indigo-500 hover:bg-indigo-50 hover:text-indigo-600",children:s.cashier?"Changer le caissier":"Assigner un caissier"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx(Zs,{className:`rounded-full px-2 py-1 text-xs font-black uppercase ${s.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:s.is_active?"Actif":"Inactif"})})]},s.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-16 text-center",children:[t.jsx(mi,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("h3",{className:"mb-2 text-xl font-black text-slate-900",children:"Aucun guichet configuré"}),t.jsx("p",{className:"mb-6 text-slate-600",children:"Créez votre premier guichet pour commencer"}),t.jsxs(o,{onClick:()=>Ue(!0),className:"rounded-xl bg-indigo-600 font-bold",children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Créer un guichet"]})]})]}),e[149]=x,e[150]=Cl,e[151]=rl,e[152]=ps):ps=e[152];let gs;e[153]===Symbol.for("react.memo_cache_sentinel")?(gs=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Publicités"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Gérez les publicités affichées sur l'écran TV"})]}),e[153]=gs):gs=e[153];let bs;e[154]===Symbol.for("react.memo_cache_sentinel")?(bs=()=>He(!0),e[154]=bs):bs=e[154];let js;e[155]===Symbol.for("react.memo_cache_sentinel")?(js=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[gs,t.jsxs(o,{onClick:bs,className:"h-12 rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/30 hover:shadow-xl",children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Nouvelle Publicité"]})]}),e[155]=js):js=e[155];let Q;e[156]!==Oe||e[157]!==Sl||e[158]!==wl?(Q=Oe&&Oe.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:Oe.map((s,a)=>t.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.05},className:"group relative overflow-hidden rounded-3xl border border-slate-200/60 bg-white shadow-sm transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-indigo-100 to-purple-100",children:[s.image_url?s.type==="video"?t.jsx("video",{src:s.image_url,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",muted:!0,loop:!0,preload:"metadata",onMouseOver:Ei,onMouseOut:Fi}):t.jsx("img",{src:s.image_url,alt:s.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy"}):t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(Yl,{className:"h-16 w-16 text-indigo-300"})}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx(Zs,{className:ui("rounded-full px-3 py-1 text-xs font-black uppercase",s.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"),children:s.is_active?"Actif":"Inactif"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-black text-slate-900",children:s.title}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(o,{onClick:()=>wl(s),variant:"outline",size:"sm",className:"flex-1 rounded-xl font-bold",children:s.is_active?"Désactiver":"Activer"}),t.jsx(o,{onClick:()=>Sl(s),variant:"ghost",size:"sm",className:"rounded-xl text-red-600 hover:bg-red-50 hover:text-red-700",children:t.jsx(Wl,{className:"h-4 w-4"})})]})]})]},s.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-16 text-center",children:[t.jsx(Yl,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("h3",{className:"mb-2 text-xl font-black text-slate-900",children:"Aucune publicité"}),t.jsx("p",{className:"mb-6 text-slate-600",children:"Créez votre première publicité pour l'écran TV"}),t.jsxs(o,{onClick:()=>He(!0),className:"rounded-xl bg-indigo-600 font-bold",children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Créer une publicité"]})]}),e[156]=Oe,e[157]=Sl,e[158]=wl,e[159]=Q):Q=e[159];let vs;e[160]===Symbol.for("react.memo_cache_sentinel")?(vs=t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Défilé d'Informations (Ticker)"}),t.jsx(Zs,{className:"bg-indigo-100 text-[10px] font-black tracking-widest text-indigo-600 uppercase",children:"Nouveau"})]}),t.jsx("p",{className:"text-sm text-slate-500",children:"Gérez les messages qui défilent en bas de l'écran TV"})]}),e[160]=vs):vs=e[160];let ys;e[161]===Symbol.for("react.memo_cache_sentinel")?(ys=()=>$e(!0),e[161]=ys):ys=e[161];let Ns;e[162]===Symbol.for("react.memo_cache_sentinel")?(Ns=t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[vs,t.jsxs(o,{onClick:ys,className:"h-12 rounded-2xl bg-indigo-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/30 hover:shadow-xl",children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Ajouter une info"]})]}),e[162]=Ns):Ns=e[162];let H;e[163]!==Re||e[164]!==Nl||e[165]!==yl?(H=t.jsxs("div",{className:"mt-20 mb-20",children:[Ns,Re&&Re.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:Re.map((s,a)=>t.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a*.05},className:"group relative flex flex-col justify-between rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition-all hover:shadow-md",children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsxs("span",{className:"text-[10px] font-black tracking-widest text-slate-400 uppercase",children:["Message #",a+1]}),t.jsx(Zs,{className:ui("rounded-full px-2 py-0.5 text-[9px] font-black uppercase",s.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"),children:s.is_active?"Visible":"Masqué"})]}),t.jsx("p",{className:"line-clamp-3 text-sm font-bold text-slate-700",children:s.content})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(o,{onClick:()=>yl(s),variant:"outline",size:"sm",className:"flex-1 rounded-xl text-xs font-black",children:s.is_active?"Masquer":"Afficher"}),t.jsx(o,{onClick:()=>Nl(s),variant:"ghost",size:"sm",className:"h-9 w-9 rounded-xl p-0 text-red-500 hover:bg-red-50",children:t.jsx(Wl,{className:"h-4 w-4"})})]})]},s.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-12 text-center",children:[t.jsx(di,{className:"mb-4 h-12 w-12 text-slate-300"}),t.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Aucun message défilant"}),t.jsx("p",{className:"mb-6 text-sm text-slate-500",children:"Ajoutez des informations ou des promotions qui défileront en bas de l'écran."}),t.jsxs(o,{onClick:()=>$e(!0),className:"rounded-xl bg-indigo-600 px-6 font-bold",children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Créer le premier message"]})]})]}),e[163]=Re,e[164]=Nl,e[165]=yl,e[166]=H):H=e[166];let _s;e[167]!==Q||e[168]!==H?(_s=t.jsxs("div",{className:"mt-16",children:[js,Q,H]}),e[167]=Q,e[168]=H,e[169]=_s):_s=e[169];let ws;e[170]===Symbol.for("react.memo_cache_sentinel")?(ws=t.jsx(et,{children:t.jsx(tt,{className:"text-2xl font-black",children:"Nouvelle Publicité"})}),e[170]=ws):ws=e[170];let Ss;e[171]===Symbol.for("react.memo_cache_sentinel")?(Ss=t.jsx(g,{children:"Titre de la publicité"}),e[171]=Ss):Ss=e[171];let O;e[172]!==c?(O=s=>hl({...c,title:s.target.value}),e[172]=c,e[173]=O):O=e[173];let $;e[174]!==c.title||e[175]!==O?($=t.jsxs("div",{className:"space-y-2",children:[Ss,t.jsx(k,{value:c.title,onChange:O,placeholder:"ex: Promotion Spéciale",className:"rounded-xl",required:!0})]}),e[174]=c.title,e[175]=O,e[176]=$):$=e[176];let Cs;e[177]===Symbol.for("react.memo_cache_sentinel")?(Cs=t.jsx(g,{children:"Type de contenu"}),e[177]=Cs):Cs=e[177];let R;e[178]!==c?(R=s=>hl({...c,type:s}),e[178]=c,e[179]=R):R=e[179];let ks;e[180]===Symbol.for("react.memo_cache_sentinel")?(ks=t.jsx(Bl,{className:"rounded-xl",children:t.jsx(Xl,{placeholder:"Choisir le type"})}),e[180]=ks):ks=e[180];let As;e[181]===Symbol.for("react.memo_cache_sentinel")?(As=t.jsxs(Rl,{className:"rounded-xl",children:[t.jsx(Ge,{value:"image",children:"Image"}),t.jsx(Ge,{value:"video",children:"Vidéo"})]}),e[181]=As):As=e[181];let B;e[182]!==c.type||e[183]!==R?(B=t.jsxs("div",{className:"space-y-2",children:[Cs,t.jsxs($l,{value:c.type,onValueChange:R,children:[ks,As]})]}),e[182]=c.type,e[183]=R,e[184]=B):B=e[184];let X;e[185]!==$||e[186]!==B?(X=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[$,B]}),e[185]=$,e[186]=B,e[187]=X):X=e[187];const Ml=c.type==="image"?"Image":"Vidéo";let J;e[188]!==Ml?(J=t.jsx(g,{children:Ml}),e[188]=Ml,e[189]=J):J=e[189];const Fl=c.type==="image"?"image/*":"video/*",El=c.type==="image"?pi:fi;let W;e[190]!==Fl||e[191]!==El?(W=t.jsx(k,{type:"file",accept:Fl,onChange:El,className:"rounded-xl"}),e[190]=Fl,e[191]=El,e[192]=W):W=e[192];let Y;e[193]!==c.type||e[194]!==f?(Y=c.type==="image"&&f&&t.jsx("div",{className:"relative overflow-hidden rounded-2xl border-2 border-dashed border-indigo-200 bg-indigo-50 p-4",children:t.jsx("img",{src:f,alt:"Preview",className:"h-48 w-full rounded-xl object-cover"})}),e[193]=c.type,e[194]=f,e[195]=Y):Y=e[195];let Z;e[196]!==c.type||e[197]!==p?(Z=c.type==="video"&&p&&t.jsx("div",{className:"relative overflow-hidden rounded-2xl border-2 border-dashed border-indigo-200 bg-indigo-50 p-4",children:t.jsx("video",{src:p,className:"h-48 w-full rounded-xl object-cover",controls:!0})}),e[196]=c.type,e[197]=p,e[198]=Z):Z=e[198];let ee;e[199]!==f||e[200]!==p?(ee=!f&&!p&&t.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Yl,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Aucun fichier sélectionné"})]})}),e[199]=f,e[200]=p,e[201]=ee):ee=e[201];let te;e[202]!==W||e[203]!==Y||e[204]!==Z||e[205]!==ee?(te=t.jsxs("div",{className:"space-y-4",children:[W,Y,Z,ee]}),e[202]=W,e[203]=Y,e[204]=Z,e[205]=ee,e[206]=te):te=e[206];let se;e[207]!==J||e[208]!==te?(se=t.jsxs("div",{className:"space-y-2",children:[J,te]}),e[207]=J,e[208]=te,e[209]=se):se=e[209];let qs;e[210]===Symbol.for("react.memo_cache_sentinel")?(qs=t.jsx(o,{type:"button",variant:"outline",onClick:()=>He(!1),className:"rounded-xl",children:"Annuler"}),e[210]=qs):qs=e[210];const Dl=Xe.isPending||!f&&!p,zl=Xe.isPending?"Création...":"Créer la publicité";let le;e[211]!==Dl||e[212]!==zl?(le=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[qs,t.jsx(o,{type:"submit",className:"rounded-xl bg-purple-600",disabled:Dl,children:zl})]}),e[211]=Dl,e[212]=zl,e[213]=le):le=e[213];let ie;e[214]!==_l||e[215]!==X||e[216]!==se||e[217]!==le?(ie=t.jsxs(Ye,{className:"rounded-3xl sm:max-w-[600px]",children:[ws,t.jsxs("form",{onSubmit:_l,className:"space-y-6",children:[X,se,le]})]}),e[214]=_l,e[215]=X,e[216]=se,e[217]=le,e[218]=ie):ie=e[218];let Ps;e[219]!==xl||e[220]!==ie?(Ps=t.jsx(Ze,{open:xl,onOpenChange:He,children:ie}),e[219]=xl,e[220]=ie,e[221]=Ps):Ps=e[221];let Is;e[222]===Symbol.for("react.memo_cache_sentinel")?(Is=t.jsx(et,{children:t.jsx(tt,{className:"text-2xl font-black",children:"Ajouter une Information"})}),e[222]=Is):Is=e[222];let Ms;e[223]===Symbol.for("react.memo_cache_sentinel")?(Ms=t.jsx(g,{children:"Message à faire défiler"}),e[223]=Ms):Ms=e[223];let ae;e[224]!==j?(ae=s=>ci({...j,content:s.target.value}),e[224]=j,e[225]=ae):ae=e[225];let re;e[226]!==j.content||e[227]!==ae?(re=t.jsx("textarea",{value:j.content,onChange:ae,placeholder:"ex: Bienvenue chez Havifin ! Profitez de nos taux exceptionnels aujourd'hui.",className:"min-h-[120px] w-full rounded-2xl border border-slate-200 p-4 text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",required:!0}),e[226]=j.content,e[227]=ae,e[228]=re):re=e[228];let Fs;e[229]===Symbol.for("react.memo_cache_sentinel")?(Fs=t.jsx("div",{className:"absolute top-4 right-4 text-slate-300",children:t.jsx(di,{className:"h-5 w-5"})}),e[229]=Fs):Fs=e[229];let ne;e[230]!==re?(ne=t.jsxs("div",{className:"relative",children:[re,Fs]}),e[230]=re,e[231]=ne):ne=e[231];let Es;e[232]===Symbol.for("react.memo_cache_sentinel")?(Es=t.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Ce message apparaîtra dans la barre défilante en bas de l'écran TV."}),e[232]=Es):Es=e[232];let ce;e[233]!==ne?(ce=t.jsxs("div",{className:"space-y-2",children:[Ms,ne,Es]}),e[233]=ne,e[234]=ce):ce=e[234];let Ds;e[235]===Symbol.for("react.memo_cache_sentinel")?(Ds=t.jsx(o,{type:"button",variant:"outline",onClick:()=>$e(!1),className:"rounded-xl",children:"Annuler"}),e[235]=Ds):Ds=e[235];const Kl=Be.isPending||!j.content,Ll=Be.isPending?"Ajout...":"Ajouter au défilé";let oe;e[236]!==Kl||e[237]!==Ll?(oe=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Ds,t.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:Kl,children:Ll})]}),e[236]=Kl,e[237]=Ll,e[238]=oe):oe=e[238];let de;e[239]!==vl||e[240]!==ce||e[241]!==oe?(de=t.jsxs(Ye,{className:"rounded-3xl sm:max-w-[500px]",children:[Is,t.jsxs("form",{onSubmit:vl,className:"space-y-6",children:[ce,oe]})]}),e[239]=vl,e[240]=ce,e[241]=oe,e[242]=de):de=e[242];let zs;e[243]!==gl||e[244]!==de?(zs=t.jsx(Ze,{open:gl,onOpenChange:$e,children:de}),e[243]=gl,e[244]=de,e[245]=zs):zs=e[245];let Ks;e[246]===Symbol.for("react.memo_cache_sentinel")?(Ks=t.jsx(et,{children:t.jsx(tt,{className:"text-2xl font-black",children:"Nouveau Caissier"})}),e[246]=Ks):Ks=e[246];let Ls;e[247]===Symbol.for("react.memo_cache_sentinel")?(Ls=t.jsx(g,{children:"Nom complet"}),e[247]=Ls):Ls=e[247];let me;e[248]!==n?(me=s=>Qe({...n,name:s.target.value}),e[248]=n,e[249]=me):me=e[249];let ue;e[250]!==n.name||e[251]!==me?(ue=t.jsxs("div",{className:"space-y-2",children:[Ls,t.jsx(k,{value:n.name,onChange:me,placeholder:"ex: Jean Dupont",className:"rounded-xl",required:!0})]}),e[250]=n.name,e[251]=me,e[252]=ue):ue=e[252];let Ts;e[253]===Symbol.for("react.memo_cache_sentinel")?(Ts=t.jsx(g,{children:"Email"}),e[253]=Ts):Ts=e[253];let xe;e[254]!==n?(xe=s=>Qe({...n,email:s.target.value}),e[254]=n,e[255]=xe):xe=e[255];let he;e[256]!==n.email||e[257]!==xe?(he=t.jsxs("div",{className:"space-y-2",children:[Ts,t.jsx(k,{type:"email",value:n.email,onChange:xe,placeholder:"jean.dupont@example.com",className:"rounded-xl",required:!0})]}),e[256]=n.email,e[257]=xe,e[258]=he):he=e[258];let Vs;e[259]===Symbol.for("react.memo_cache_sentinel")?(Vs=t.jsx(g,{children:"Mot de passe"}),e[259]=Vs):Vs=e[259];let fe;e[260]!==n?(fe=s=>Qe({...n,password:s.target.value}),e[260]=n,e[261]=fe):fe=e[261];let pe;e[262]!==n.password||e[263]!==fe?(pe=t.jsxs("div",{className:"space-y-2",children:[Vs,t.jsx(k,{type:"password",value:n.password,onChange:fe,className:"rounded-xl",required:!0})]}),e[262]=n.password,e[263]=fe,e[264]=pe):pe=e[264];let Gs;e[265]===Symbol.for("react.memo_cache_sentinel")?(Gs=t.jsx(g,{children:"Assigner à un guichet (optionnel)"}),e[265]=Gs):Gs=e[265];let ge;e[266]!==n?(ge=s=>Qe({...n,counter_id:s==="none"?"":s}),e[266]=n,e[267]=ge):ge=e[267];let Us;e[268]===Symbol.for("react.memo_cache_sentinel")?(Us=t.jsx(Bl,{className:"rounded-xl",children:t.jsx(Xl,{placeholder:"Choisir un guichet (optionnel)"})}),e[268]=Us):Us=e[268];let Qs;e[269]===Symbol.for("react.memo_cache_sentinel")?(Qs=t.jsx(Ge,{value:"none",children:"Ne pas assigner pour le moment"}),e[269]=Qs):Qs=e[269];let be;e[270]!==x?(be=x?.map(Mi),e[270]=x,e[271]=be):be=e[271];let je;e[272]!==be?(je=t.jsxs(Rl,{children:[Qs,be]}),e[272]=be,e[273]=je):je=e[273];let ve;e[274]!==n.counter_id||e[275]!==ge||e[276]!==je?(ve=t.jsxs($l,{value:n.counter_id,onValueChange:ge,children:[Us,je]}),e[274]=n.counter_id,e[275]=ge,e[276]=je,e[277]=ve):ve=e[277];let Hs;e[278]===Symbol.for("react.memo_cache_sentinel")?(Hs=t.jsx("p",{className:"text-xs text-slate-500",children:"Seuls les guichets libres peuvent être sélectionnés."}),e[278]=Hs):Hs=e[278];let ye;e[279]!==ve?(ye=t.jsxs("div",{className:"space-y-2",children:[Gs,ve,Hs]}),e[279]=ve,e[280]=ye):ye=e[280];let Os;e[281]===Symbol.for("react.memo_cache_sentinel")?(Os=t.jsx(o,{type:"button",variant:"outline",onClick:()=>mt(!1),className:"rounded-xl",children:"Annuler"}),e[281]=Os):Os=e[281];const Tl=C.isPending?"Création...":"Créer le caissier";let Ne;e[282]!==C.isPending||e[283]!==Tl?(Ne=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Os,t.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:C.isPending,children:Tl})]}),e[282]=C.isPending,e[283]=Tl,e[284]=Ne):Ne=e[284];let _e;e[285]!==ml||e[286]!==ue||e[287]!==he||e[288]!==pe||e[289]!==ye||e[290]!==Ne?(_e=t.jsxs(Ye,{className:"rounded-3xl",children:[Ks,t.jsxs("form",{onSubmit:ml,className:"space-y-4",children:[ue,he,pe,ye,Ne]})]}),e[285]=ml,e[286]=ue,e[287]=he,e[288]=pe,e[289]=ye,e[290]=Ne,e[291]=_e):_e=e[291];let $s;e[292]!==dl||e[293]!==_e?($s=t.jsx(Ze,{open:dl,onOpenChange:mt,children:_e}),e[292]=dl,e[293]=_e,e[294]=$s):$s=e[294];let Rs;e[295]===Symbol.for("react.memo_cache_sentinel")?(Rs=t.jsx(et,{children:t.jsx(tt,{className:"text-2xl font-black",children:"Nouveau Guichet"})}),e[295]=Rs):Rs=e[295];let Bs;e[296]===Symbol.for("react.memo_cache_sentinel")?(Bs=t.jsx(g,{children:"Numéro du Guichet"}),e[296]=Bs):Bs=e[296];let we;e[297]!==u?(we=s=>ll({...u,counter_number:parseInt(s.target.value)}),e[297]=u,e[298]=we):we=e[298];let Se;e[299]!==u.counter_number||e[300]!==we?(Se=t.jsxs("div",{className:"space-y-2",children:[Bs,t.jsx(k,{type:"number",min:"1",value:u.counter_number,onChange:we,className:"rounded-xl",required:!0})]}),e[299]=u.counter_number,e[300]=we,e[301]=Se):Se=e[301];let Xs;e[302]===Symbol.for("react.memo_cache_sentinel")?(Xs=t.jsx(g,{children:"Nom du Guichet"}),e[302]=Xs):Xs=e[302];let Ce;e[303]!==u?(Ce=s=>ll({...u,name:s.target.value}),e[303]=u,e[304]=Ce):Ce=e[304];let ke;e[305]!==u.name||e[306]!==Ce?(ke=t.jsxs("div",{className:"space-y-2",children:[Xs,t.jsx(k,{value:u.name,onChange:Ce,placeholder:"ex: Guichet Principal",className:"rounded-xl",required:!0})]}),e[305]=u.name,e[306]=Ce,e[307]=ke):ke=e[307];let Js;e[308]===Symbol.for("react.memo_cache_sentinel")?(Js=t.jsx(o,{type:"button",variant:"outline",onClick:()=>Ue(!1),className:"rounded-xl",children:"Annuler"}),e[308]=Js):Js=e[308];const Vl=S.isPending?"Création...":"Créer";let Ae;e[309]!==S.isPending||e[310]!==Vl?(Ae=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Js,t.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:S.isPending,children:Vl})]}),e[309]=S.isPending,e[310]=Vl,e[311]=Ae):Ae=e[311];let qe;e[312]!==ol||e[313]!==Se||e[314]!==ke||e[315]!==Ae?(qe=t.jsxs(Ye,{className:"rounded-3xl",children:[Rs,t.jsxs("form",{onSubmit:ol,className:"space-y-4",children:[Se,ke,Ae]})]}),e[312]=ol,e[313]=Se,e[314]=ke,e[315]=Ae,e[316]=qe):qe=e[316];let Ws;e[317]!==el||e[318]!==qe?(Ws=t.jsx(Ze,{open:el,onOpenChange:Ue,children:qe}),e[317]=el,e[318]=qe,e[319]=Ws):Ws=e[319];const Gl=Ze,Ul=Ye,gi="rounded-3xl";let Pe;e[320]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx(et,{children:t.jsx(tt,{className:"text-2xl font-black",children:"Assigner un Caissier"})}),e[320]=Pe):Pe=e[320];const bi="space-y-4",ji="space-y-2";let Ie;e[321]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(g,{children:"Sélectionner un caissier"}),e[321]=Ie):Ie=e[321];const Ql=$l;let Me;e[322]!==w?.cashier_id?(Me=w?.cashier_id?.toString()||"",e[322]=w?.cashier_id,e[323]=Me):Me=e[323];let Fe;e[324]!==ul?(Fe=s=>ul(s&&s!=="unassign"?parseInt(s):null),e[324]=ul,e[325]=Fe):Fe=e[325];let Ee;e[326]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(Bl,{className:"rounded-xl",children:t.jsx(Xl,{placeholder:"Choisir un caissier"})}),e[326]=Ee):Ee=e[326];const Hl=Rl;let De;e[327]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(Ge,{value:"unassign",children:"Aucun (désassigner)"}),e[327]=De):De=e[327];const Ol=li?.map(Ii);let ze;e[328]!==Hl||e[329]!==De||e[330]!==Ol?(ze=t.jsxs(Hl,{children:[De,Ol]}),e[328]=Hl,e[329]=De,e[330]=Ol,e[331]=ze):ze=e[331];let Ke;e[332]!==Ql||e[333]!==Me||e[334]!==Fe||e[335]!==Ee||e[336]!==ze?(Ke=t.jsxs(Ql,{value:Me,onValueChange:Fe,children:[Ee,ze]}),e[332]=Ql,e[333]=Me,e[334]=Fe,e[335]=Ee,e[336]=ze,e[337]=Ke):Ke=e[337];let Le;e[338]!==Ie||e[339]!==Ke?(Le=t.jsx("div",{className:bi,children:t.jsxs("div",{className:ji,children:[Ie,Ke]})}),e[338]=Ie,e[339]=Ke,e[340]=Le):Le=e[340];let Te;e[341]!==Ul||e[342]!==Pe||e[343]!==Le?(Te=t.jsxs(Ul,{className:gi,children:[Pe,Le]}),e[341]=Ul,e[342]=Pe,e[343]=Le,e[344]=Te):Te=e[344];let Ys;return e[345]!==Gl||e[346]!==tl||e[347]!==Te?(Ys=t.jsx(Gl,{open:tl,onOpenChange:sl,children:Te}),e[345]=Gl,e[346]=tl,e[347]=Te,e[348]=Ys):Ys=e[348],t.jsxs(Jl,{currentPageName:"Manager",children:[Gt,t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/30 px-6 py-8 md:px-10",children:[Yt,t.jsxs("div",{className:"mb-10 grid grid-cols-1 gap-6 md:grid-cols-3",children:[ls,os,t.jsx(N.div,{initial:ds,animate:ms,transition:us,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[xs,t.jsxs("div",{children:[hs,t.jsx("p",{className:"text-2xl font-black text-slate-900",children:li?.length||0})]})]})})]}),ps,_s,Ps,zs,$s,Ws,Ys]})]})}function Ii(l){return t.jsx(Ge,{value:l.id.toString(),children:l.name},l.id)}function Mi(l){return t.jsxs(Ge,{value:l.id.toString(),disabled:!!l.cashier_id,className:l.cashier_id?"text-slate-400":"",children:[l.counter_number," -"," ",l.name,l.cashier_id?" (Occupé)":" (Libre)"]},l.id)}function Fi(l){return l.target.pause()}function Ei(l){return l.target.play()}function Di(l){return t.jsx(ei,{className:"h-64 rounded-3xl"},l)}function zi(l){return l.cashier_id}function Ki(l){return l.is_active}function Li(l){return t.jsx(ei,{className:"h-48 rounded-3xl"},l)}function Ti(l){return t.jsx(ei,{className:"h-32 rounded-3xl"},l)}function Vi(l){d.error(l.response?.data?.message||"Erreur lors de la création de la publicité")}function Gi(){d.error("Erreur lors de la suppression")}function Ui(l){return m.entities.News.delete(l)}function Qi(){d.error("Erreur lors de la mise à jour")}function Hi(l){const{id:e,data:_}=l;return m.entities.News.update(e,_)}function Oi(){d.error("Erreur lors de la création de l'information")}function $i(l){return m.entities.News.create(l)}function Ri(){d.error("Erreur lors de la suppression")}function Bi(l){return m.entities.Advertisement.delete(l)}function Xi(){d.error("Erreur lors de la mise à jour")}function Ji(l){const{id:e,data:_}=l;return m.entities.Advertisement.update(e,_)}function Wi(l){d.error(l.response?.data?.message||"Erreur lors de la création du caissier")}function Yi(){d.error("Erreur lors de la suppression du guichet")}function Zi(l){return m.entities.Counter.delete(l)}function ea(){d.error("Erreur lors de la mise à jour du guichet")}function ta(l){const{id:e,data:_}=l;return m.entities.Counter.update(e,_)}function sa(l){d.error(l.response?.data?.message||"Erreur lors de la création du guichet")}export{ja as default};

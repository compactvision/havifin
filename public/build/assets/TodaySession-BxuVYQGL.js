import{c as Z,b as ee,j as s,H as U,L as I}from"./app-XPqbswjP.js";import{b as se}from"./base44Client-D_8p-kpS.js";import{B as te}from"./badge-BZemhbWI.js";import{B as J}from"./index-OjgNDduT.js";import{A as K,S as W,L as le}from"./app-main-p7Td2XQe.js";import{u as ae}from"./users-3glLT9eq.js";import{h as Q}from"./moment-B-YVwB4U.js";import{B as ie}from"./banknote-DZHlm-di.js";import{L as re}from"./lock-open-42mnpy67.js";import{C as ne}from"./clock-hY7Azrf4.js";import{D as ce}from"./dollar-sign-I5Xuqhtm.js";import{A as oe}from"./arrow-right-BHLruwHy.js";/* empty css            */import"./axios-G5n3UMvP.js";import"./createLucideIcon-CscEagRl.js";function Ce(){const e=Z.c(69),{auth:T}=ee().props;let S;e[0]===Symbol.for("react.memo_cache_sentinel")?(S={queryKey:["cash-session-current"],queryFn:de,retry:!1},e[0]=S):S=e[0];const{data:t,isLoading:X}=ae(S);if(X){let l;return e[1]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(K,{currentPageName:"Cashier",children:s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-indigo-600 border-t-transparent"}),s.jsx("p",{className:"font-bold text-slate-500",children:"Chargement de votre session..."})]})})}),e[1]=l):l=e[1],l}if(!t){let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(U,{title:"Aucune Session"}),e[2]=l):l=e[2];let R,V,Y;e[3]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx("div",{className:"mb-6 rounded-full bg-indigo-100 p-6 text-indigo-600",children:s.jsx(W,{className:"h-12 w-12"})}),V=s.jsx("h1",{className:"mb-2 text-2xl font-black text-slate-900",children:"Aucune session active"}),Y=s.jsx("p",{className:"mb-8 max-w-md text-slate-500",children:"Vous n'avez pas de session de caisse ouverte pour le moment. Veuillez demander √† un manager de vous ouvrir une caisse."}),e[3]=R,e[4]=V,e[5]=Y):(R=e[3],V=e[4],Y=e[5]);let z;return e[6]===Symbol.for("react.memo_cache_sentinel")?(z=s.jsxs(K,{currentPageName:"Cashier",children:[l,s.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center bg-slate-50 p-4 text-center",children:[R,V,Y,s.jsx(I,{href:"/logout",method:"post",as:"button",children:s.jsxs(J,{variant:"outline",className:"gap-2",children:[s.jsx(le,{className:"h-4 w-4"}),"Se d√©connecter"]})})]})]}),e[6]=z):z=e[6],z}let k;e[7]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(U,{title:"Ma Session"}),e[7]=k):k=e[7];let a;e[8]!==T.user.name?(a=s.jsxs("h1",{className:"text-3xl font-black text-slate-900",children:["Bonjour, ",T.user.name," üëã"]}),e[8]=T.user.name,e[9]=a):a=e[9];let C;e[10]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx("p",{className:"mt-1 text-slate-500",children:"Voici le r√©sum√© de votre session d'aujourd'hui."}),e[10]=C):C=e[10];let i;e[11]!==a?(i=s.jsxs("div",{children:[a,C]}),e[11]=a,e[12]=i):i=e[12];let A;e[13]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:"Date"}),e[13]=A):A=e[13];let r,B;e[14]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsxs("div",{className:"flex flex-col items-end",children:[A,s.jsx("span",{className:"font-black text-slate-900",children:Q().format("DD/MM/YYYY")})]}),B=s.jsx("div",{className:"h-8 w-[1px] bg-slate-200"}),e[14]=r,e[15]=B):(r=e[14],B=e[15]);const q=`h-2 w-2 rounded-full ${t.status==="open"?"bg-green-500":"bg-red-500"}`;let n;e[16]!==q?(n=s.jsx("span",{className:q}),e[16]=q,e[17]=n):n=e[17];const F=t.status==="open"?"En ligne":"Hors ligne";let c;e[18]!==F?(c=s.jsx("span",{className:"font-bold text-slate-700",children:F}),e[18]=F,e[19]=c):c=e[19];let o;e[20]!==c||e[21]!==n?(o=s.jsx("div",{className:"rounded-xl bg-white px-4 py-2 shadow-sm ring-1 ring-slate-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[n,c]})}),e[20]=c,e[21]=n,e[22]=o):o=e[22];let m;e[23]!==o||e[24]!==r?(m=s.jsxs("div",{className:"flex items-center gap-3",children:[r,B,o]}),e[23]=o,e[24]=r,e[25]=m):m=e[25];let d;e[26]!==m||e[27]!==i?(d=s.jsxs("header",{className:"mb-10 flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[i,m]}),e[26]=m,e[27]=i,e[28]=d):d=e[28];let L;e[29]===Symbol.for("react.memo_cache_sentinel")?(L=s.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:s.jsx(W,{className:"h-64 w-64 rotate-12"})}),e[29]=L):L=e[29];let D;e[30]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-indigo-600 text-white shadow-lg shadow-indigo-500/30",children:s.jsx(ie,{className:"h-8 w-8"})}),e[30]=D):D=e[30];let x;e[31]!==t.id?(x=s.jsxs("h2",{className:"text-2xl font-black text-slate-900",children:["Session #",t.id]}),e[31]=t.id,e[32]=x):x=e[32];const $=t.register?.name,G=t.register?.shop?.name;let f;e[33]!==$||e[34]!==G?(f=s.jsxs("p",{className:"font-medium text-slate-500",children:[$," ‚Ä¢"," ",G]}),e[33]=$,e[34]=G,e[35]=f):f=e[35];let h;e[36]!==x||e[37]!==f?(h=s.jsxs("div",{className:"flex items-center gap-4",children:[D,s.jsxs("div",{children:[x,f]})]}),e[36]=x,e[37]=f,e[38]=h):h=e[38];let E;e[39]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs(te,{className:"bg-green-100 px-4 py-2 text-sm font-black text-green-700 hover:bg-green-100",children:[s.jsx(re,{className:"mr-2 h-4 w-4"}),"OUVERTE"]}),e[39]=E):E=e[39];let p;e[40]!==h?(p=s.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[h,E]}),e[40]=h,e[41]=p):p=e[41];let H;e[42]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsxs("div",{className:"mb-2 flex items-center gap-2 text-slate-400",children:[s.jsx(ne,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-bold uppercase",children:"Ouverture"})]}),e[42]=H):H=e[42];let u;e[43]!==t.opened_at?(u=Q(t.opened_at).format("HH:mm"),e[43]=t.opened_at,e[44]=u):u=e[44];let j;e[45]!==u?(j=s.jsx("p",{className:"text-xl font-black text-slate-900",children:u}),e[45]=u,e[46]=j):j=e[46];let g;e[47]!==t.opened_at?(g=Q(t.opened_at).fromNow(),e[47]=t.opened_at,e[48]=g):g=e[48];let b;e[49]!==g?(b=s.jsx("p",{className:"text-xs text-slate-500",children:g}),e[49]=g,e[50]=b):b=e[50];let N;e[51]!==j||e[52]!==b?(N=s.jsxs("div",{className:"rounded-2xl bg-slate-50 p-4",children:[H,j,b]}),e[51]=j,e[52]=b,e[53]=N):N=e[53];let M;e[54]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsxs("div",{className:"mb-2 flex items-center gap-2 text-slate-400",children:[s.jsx(ce,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-bold uppercase",children:"Fonds de caisse initial"})]}),e[54]=M):M=e[54];let v;e[55]!==t.amounts?(v=t.amounts?.map(me),e[55]=t.amounts,e[56]=v):v=e[56];let _;e[57]!==v?(_=s.jsxs("div",{className:"col-span-2 rounded-2xl bg-slate-50 p-4",children:[M,s.jsx("div",{className:"flex flex-wrap gap-4",children:v})]}),e[57]=v,e[58]=_):_=e[58];let w;e[59]!==N||e[60]!==_?(w=s.jsxs("div",{className:"mb-10 grid grid-cols-1 gap-6 md:grid-cols-3",children:[N,_]}),e[59]=N,e[60]=_,e[61]=w):w=e[61];let O;e[62]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx("div",{className:"flex justify-end",children:s.jsx(I,{href:"/cashier",className:"w-full md:w-auto",children:s.jsxs(J,{className:"h-14 w-full rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 px-8 text-lg font-bold text-white shadow-xl shadow-indigo-500/30 transition-all hover:scale-105 hover:shadow-indigo-500/50 active:scale-95 md:w-auto",children:["Acc√©der au Guichet (Transacter)",s.jsx(oe,{className:"ml-2 h-5 w-5"})]})})}),e[62]=O):O=e[62];let y;e[63]!==p||e[64]!==w?(y=s.jsx("div",{className:"mx-auto max-w-4xl",children:s.jsxs("div",{className:"relative overflow-hidden rounded-[32px] bg-white p-8 shadow-xl ring-1 shadow-indigo-100 ring-slate-100",children:[L,s.jsxs("div",{className:"relative z-10",children:[p,w,O]})]})}),e[63]=p,e[64]=w,e[65]=y):y=e[65];let P;return e[66]!==d||e[67]!==y?(P=s.jsxs(K,{currentPageName:"Cashier",children:[k,s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50/30 px-6 py-8 md:px-10",children:[d,y]})]}),e[66]=d,e[67]=y,e[68]=P):P=e[68],P}function me(e){return s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsx("span",{className:"text-xl font-black text-slate-900",children:e.opening_amount}),s.jsx("span",{className:"text-xs font-bold text-slate-500",children:e.currency})]},e.currency)}function de(){return se.entities.CashSession.current()}export{Ce as default};

import{c as Ci,b as ki,u as Ai,r as h,j as s,L as fi,H as qi}from"./app-pbanxzkV.js";import{b as m}from"./base44Client-79Pkw9ID.js";import{B as tl}from"./badge-CRwmEF2P.js";import{B as o,t as d}from"./index-TiLAn61d.js";import{a as Ze,D as es,b as ss,c as ts}from"./dialog-DcVD7lGJ.js";import{I as k,L as g}from"./label-Dzmu9PQf.js";import{S as Zl,c as ei,a as si,b as ti,d as Qe}from"./select-0LJ1QN5h.js";import{S as is}from"./skeleton-DEY2Nd8B.js";import{S as pi,A as li}from"./app-main-q-9un8_Z.js";import{c as ni,m as N,a as gi}from"./createLucideIcon-Ds7Ig1I2.js";import{u as ls,M as Pi,U as Ii}from"./users-DA9SA4A4.js";import{u as v}from"./useMutation-C748SIgB.js";import{A as Mi}from"./arrow-left-TFHqvlCV.js";import{T as ii}from"./trash-2-BtDlikzZ.js";import{P as Ue}from"./plus-BSed6RQx.js";import{N as bi}from"./newspaper-C40Q-DkU.js";/* empty css            */import"./axios-Y0uNCsH3.js";import"./index-NnemM8oa.js";import"./check-BFPVaMJ8.js";const Fi=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ai=ni("Image",Fi);const Ei=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],ri=ni("UserCheck",Ei);const Li=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Di=ni("UserX",Li);function Ia(l){const e=Ci.c(359),{id:_}=l,{auth:y}=ki().props,i=parseInt(_),a=Ai(),[ll,He]=h.useState(!1);h.useState(null);const[il,al]=h.useState(!1),[w,ci]=h.useState(null);let as;e[0]===Symbol.for("react.memo_cache_sentinel")?(as={counter_number:1,name:""},e[0]=as):as=e[0];const[u,rl]=h.useState(as);let rs;e[1]===Symbol.for("react.memo_cache_sentinel")?(rs={queryKey:["shops"],queryFn:m.entities.Shop.list},e[1]=rs):rs=e[1];const{data:nl,isLoading:ji}=ls(rs);let ns;e[2]!==nl||e[3]!==i?(ns=nl?.find(t=>t.id===i),e[2]=nl,e[3]=i,e[4]=ns):ns=e[4];const b=ns;let A,q;e[5]!==i?(A=["counters",i],q=()=>m.entities.Counter.list(i),e[5]=i,e[6]=A,e[7]=q):(A=e[6],q=e[7]);const cl=!!i;let cs;e[8]!==A||e[9]!==q||e[10]!==cl?(cs={queryKey:A,queryFn:q,enabled:cl},e[8]=A,e[9]=q,e[10]=cl,e[11]=cs):cs=e[11];const{data:x,isLoading:ol}=ls(cs);let os;e[12]===Symbol.for("react.memo_cache_sentinel")?(os={queryKey:["users"],queryFn:m.entities.User.list},e[12]=os):os=e[12];const{data:vi}=ls(os),oi=vi?.filter(t=>t.role==="cashier"&&t.shops?.some(r=>r.id===i));let P;e[13]!==i?(P=t=>m.entities.Counter.create(i,t),e[13]=i,e[14]=P):P=e[14];let I;e[15]!==a||e[16]!==i?(I=()=>{a.invalidateQueries({queryKey:["counters",i]}),d.success("Guichet créé avec succès"),He(!1),rl({counter_number:1,name:""})},e[15]=a,e[16]=i,e[17]=I):I=e[17];let ds;e[18]!==I||e[19]!==P?(ds={mutationFn:P,onSuccess:I,onError:da},e[18]=I,e[19]=P,e[20]=ds):ds=e[20];const S=v(ds);let ms;e[21]!==a||e[22]!==i?(ms={mutationFn:oa,onSuccess:()=>{a.invalidateQueries({queryKey:["counters",i]}),d.success("Guichet mis à jour avec succès"),al(!1),ci(null)},onError:ca},e[21]=a,e[22]=i,e[23]=ms):ms=e[23];const dl=v(ms);let us;e[24]!==a||e[25]!==i?(us={mutationFn:na,onSuccess:()=>{a.invalidateQueries({queryKey:["counters",i]}),d.success("Guichet supprimé avec succès")},onError:ra},e[24]=a,e[25]=i,e[26]=us):us=e[26];const ml=v(us);let xs;e[27]!==u||e[28]!==S?(xs=t=>{t.preventDefault(),S.mutate(u)},e[27]=u,e[28]=S,e[29]=xs):xs=e[29];const ul=xs,[xl,hs]=h.useState(!1);let fs;e[30]===Symbol.for("react.memo_cache_sentinel")?(fs={name:"",email:"",password:"",counter_id:""},e[30]=fs):fs=e[30];const[n,Oe]=h.useState(fs);let M;e[31]!==i?(M=async t=>{const r=await m.entities.User.create({name:t.name,email:t.email,password:t.password,role:"cashier",is_active:!0,shop_ids:[i]});return t.counter_id&&await m.entities.Counter.update(parseInt(t.counter_id),{cashier_id:r.id}),r},e[31]=i,e[32]=M):M=e[32];let F;e[33]!==a||e[34]!==i?(F=()=>{a.invalidateQueries({queryKey:["users"]}),a.invalidateQueries({queryKey:["counters",i]}),d.success("Caissier créé avec succès"),hs(!1),Oe({name:"",email:"",password:"",counter_id:""})},e[33]=a,e[34]=i,e[35]=F):F=e[35];let ps;e[36]!==M||e[37]!==F?(ps={mutationFn:M,onSuccess:F,onError:aa},e[36]=M,e[37]=F,e[38]=ps):ps=e[38];const C=v(ps);let gs;e[39]!==n||e[40]!==C?(gs=t=>{t.preventDefault(),C.mutate(n)},e[39]=n,e[40]=C,e[41]=gs):gs=e[41];const hl=gs;let bs;e[42]!==w||e[43]!==dl?(bs=t=>{w&&dl.mutate({id:w.id,data:{cashier_id:t}})},e[42]=w,e[43]=dl,e[44]=bs):bs=e[44];const fl=bs,[pl,$e]=h.useState(!1);let js;e[45]===Symbol.for("react.memo_cache_sentinel")?(js={title:"",type:"image",image_url:"",display_order:1},e[45]=js):js=e[45];const[c,gl]=h.useState(js),[,di]=h.useState(null),[f,mi]=h.useState(""),[,ui]=h.useState(null),[p,xi]=h.useState("");let E;e[46]!==i?(E=["advertisements",i],e[46]=i,e[47]=E):E=e[47];const bl=!!i;let vs;e[48]!==E||e[49]!==bl?(vs={queryKey:E,queryFn:m.entities.Advertisement.list,enabled:bl},e[48]=E,e[49]=bl,e[50]=vs):vs=e[50];const{data:ys,isLoading:jl}=ls(vs);let Ns;e[51]!==ys?(Ns=ys===void 0?[]:ys,e[51]=ys,e[52]=Ns):Ns=e[52];const Re=Ns;let _s;e[53]===Symbol.for("react.memo_cache_sentinel")?(_s=t=>{const r=t.target.files?.[0];if(r){ui(r);const Ye=URL.createObjectURL(r);xi(Ye)}},e[53]=_s):_s=e[53];const yi=_s;let ws;e[54]!==a?(ws={mutationFn:ia,onSuccess:()=>{a.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité mise à jour")},onError:la},e[54]=a,e[55]=ws):ws=e[55];const vl=v(ws);let Ss;e[56]!==a?(Ss={mutationFn:ta,onSuccess:()=>{a.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité supprimée")},onError:sa},e[56]=a,e[57]=Ss):Ss=e[57];const yl=v(Ss);let Cs;e[58]===Symbol.for("react.memo_cache_sentinel")?(Cs=t=>{const r=t.target.files?.[0];if(r){di(r);const Ye=new FileReader;Ye.onloadend=()=>{mi(Ye.result)},Ye.readAsDataURL(r)}},e[58]=Cs):Cs=e[58];const Ni=Cs,[Nl,Be]=h.useState(!1);let ks;e[59]===Symbol.for("react.memo_cache_sentinel")?(ks={content:"",display_order:1},e[59]=ks):ks=e[59];const[j,hi]=h.useState(ks);let L;e[60]!==i?(L=["news",i],e[60]=i,e[61]=L):L=e[61];const _l=!!i;let As;e[62]!==L||e[63]!==_l?(As={queryKey:L,queryFn:m.entities.News.list,enabled:_l},e[62]=L,e[63]=_l,e[64]=As):As=e[64];const{data:qs,isLoading:wl}=ls(As);let Ps;e[65]!==qs?(Ps=qs===void 0?[]:qs,e[65]=qs,e[66]=Ps):Ps=e[66];const Xe=Ps;let Is;e[67]!==a?(Is={mutationFn:ea,onSuccess:()=>{a.invalidateQueries({queryKey:["news"]}),d.success("Information ajoutée au défilé"),Be(!1),hi({content:"",display_order:1})},onError:Zi},e[67]=a,e[68]=Is):Is=e[68];const Je=v(Is);let Ms;e[69]!==a?(Ms={mutationFn:Yi,onSuccess:()=>{a.invalidateQueries({queryKey:["news"]}),d.success("Information mise à jour")},onError:Wi},e[69]=a,e[70]=Ms):Ms=e[70];const Sl=v(Ms);let Fs;e[71]!==a?(Fs={mutationFn:Ji,onSuccess:()=>{a.invalidateQueries({queryKey:["news"]}),d.success("Information supprimée")},onError:Xi},e[71]=a,e[72]=Fs):Fs=e[72];const Cl=v(Fs);let Es;e[73]!==Je||e[74]!==j?(Es=t=>{t.preventDefault(),Je.mutate(j)},e[73]=Je,e[74]=j,e[75]=Es):Es=e[75];const kl=Es;let Ls;e[76]!==Sl?(Ls=t=>{Sl.mutate({id:t.id,data:{is_active:!t.is_active}})},e[76]=Sl,e[77]=Ls):Ls=e[77];const Al=Ls;let Ds;e[78]!==Cl?(Ds=t=>{confirm("Supprimer cette information du défilé ?")&&Cl.mutate(t.id)},e[78]=Cl,e[79]=Ds):Ds=e[79];const ql=Ds;let D;e[80]!==f||e[81]!==p?(D=async t=>{const r=t.type==="video"?p:f;return m.entities.Advertisement.create({title:t.title,type:t.type,image_url:t.image_url||r,display_order:t.display_order,is_active:!0})},e[80]=f,e[81]=p,e[82]=D):D=e[82];let z;e[83]!==a?(z=()=>{a.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité créée avec succès"),$e(!1),gl({title:"",type:"image",image_url:"",display_order:1}),di(null),mi(""),ui(null),xi("")},e[83]=a,e[84]=z):z=e[84];let zs;e[85]!==D||e[86]!==z?(zs={mutationFn:D,onSuccess:z,onError:Bi},e[85]=D,e[86]=z,e[87]=zs):zs=e[87];const We=v(zs);let Ks;e[88]!==c||e[89]!==We?(Ks=t=>{t.preventDefault(),We.mutate(c)},e[88]=c,e[89]=We,e[90]=Ks):Ks=e[90];const Pl=Ks;let Ts;e[91]!==vl?(Ts=t=>{vl.mutate({id:t.id,data:{is_active:!t.is_active}})},e[91]=vl,e[92]=Ts):Ts=e[92];const Il=Ts;let Vs;e[93]!==yl?(Vs=t=>{confirm(`Supprimer la publicité "${t.title}" ?`)&&yl.mutate(t.id)},e[93]=yl,e[94]=Vs):Vs=e[94];const Ml=Vs;let Gs;e[95]!==ml?(Gs=t=>{confirm(`Êtes-vous sûr de vouloir supprimer le guichet "${t.name}" ?`)&&ml.mutate(t.id)},e[95]=ml,e[96]=Gs):Gs=e[96];const Fl=Gs;if(ji&&!b){let t;e[97]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"mb-10 grid grid-cols-1 gap-6 md:grid-cols-3",children:[1,2,3].map(Ri)}),e[97]=t):t=e[97];let r;return e[98]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(li,{currentPageName:"Manager",children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/30 px-6 py-8 md:px-10",children:[t,s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[1,2,3,4,5,6].map($i)})]})}),e[98]=r):r=e[98],r}if(!b){let t;e[99]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("h2",{className:"mb-4 text-2xl font-black text-slate-900",children:"Boutique introuvable"}),e[99]=t):t=e[99];let r;return e[100]===Symbol.for("react.memo_cache_sentinel")?(r=s.jsx(li,{currentPageName:"Manager",children:s.jsxs("div",{className:"flex h-screen flex-col items-center justify-center",children:[t,s.jsx(fi,{href:"/manager/shops",children:s.jsx(o,{children:"Retour aux boutiques"})})]})}),e[100]=r):r=e[100],r}let Us;e[101]!==x?(Us=x?.filter(Oi)||[],e[101]=x,e[102]=Us):Us=e[102];const El=Us;let Qs;e[103]!==x?(Qs=x?.filter(Hi)||[],e[103]=x,e[104]=Qs):Qs=e[104];const Ll=Qs,Dl=`Gestion - ${b.name}`;let Hs;e[105]!==Dl?(Hs=s.jsx(qi,{title:Dl}),e[105]=Dl,e[106]=Hs):Hs=e[106];let Os;e[107]===Symbol.for("react.memo_cache_sentinel")?(Os={x:-4},e[107]=Os):Os=e[107];let $s,Rs;e[108]===Symbol.for("react.memo_cache_sentinel")?($s=s.jsx(fi,{href:"/manager/shops",children:s.jsx(N.div,{whileHover:Os,children:s.jsx(o,{variant:"ghost",size:"icon",className:"h-12 w-12 rounded-2xl border border-white/40 bg-white/50 shadow-sm backdrop-blur-md hover:bg-white/80",children:s.jsx(Mi,{className:"h-5 w-5 text-indigo-600"})})})}),Rs=s.jsx("div",{className:"h-10 w-[1px] bg-indigo-100"}),e[108]=$s,e[109]=Rs):($s=e[108],Rs=e[109]);let Bs;e[110]===Symbol.for("react.memo_cache_sentinel")?(Bs={scale:1.02},e[110]=Bs):Bs=e[110];let Xs;e[111]===Symbol.for("react.memo_cache_sentinel")?(Xs=s.jsxs("div",{className:"flex items-center gap-4",children:[$s,Rs,s.jsx(N.div,{whileHover:Bs,className:"relative flex h-16 w-38 items-center justify-center p-2",children:s.jsx("img",{src:"/logo-color.png",alt:"Havifin",className:"h-full w-full object-contain"})})]}),e[111]=Xs):Xs=e[111];let K;e[112]!==b.id?(K=()=>window.open(`/display?shop_id=${b.id}`,"_blank"),e[112]=b.id,e[113]=K):K=e[113];let Js;e[114]===Symbol.for("react.memo_cache_sentinel")?(Js=s.jsx(Pi,{className:"mr-2 h-4 w-4"}),e[114]=Js):Js=e[114];let T;e[115]!==K?(T=s.jsxs(o,{onClick:K,variant:"outline",className:"h-12 rounded-2xl border border-purple-100 bg-purple-50/50 px-6 font-bold text-purple-600 hover:bg-purple-100/50",children:[Js,"Lancer l'écran TV"]}),e[115]=K,e[116]=T):T=e[116];let Ws;e[117]===Symbol.for("react.memo_cache_sentinel")?(Ws=()=>hs(!0),e[117]=Ws):Ws=e[117];let Ys;e[118]===Symbol.for("react.memo_cache_sentinel")?(Ys=s.jsxs(o,{onClick:Ws,className:"h-12 rounded-2xl border border-indigo-100 bg-indigo-50/50 px-6 font-bold text-indigo-600 hover:bg-indigo-100/50",children:[s.jsx(ri,{className:"mr-2 h-4 w-4"}),"Nouveau Caissier"]}),e[118]=Ys):Ys=e[118];let Zs;e[119]===Symbol.for("react.memo_cache_sentinel")?(Zs=()=>He(!0),e[119]=Zs):Zs=e[119];const zl=(x?.length||0)>=b.counter_count;let et;e[120]===Symbol.for("react.memo_cache_sentinel")?(et=s.jsx(Ue,{className:"mr-2 h-4 w-4"}),e[120]=et):et=e[120];let V;e[121]!==zl?(V=s.jsxs(o,{onClick:Zs,disabled:zl,className:"h-12 rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/20 hover:shadow-xl active:scale-95",children:[et,"Nouveau Guichet"]}),e[121]=zl,e[122]=V):V=e[122];let G;e[123]!==T||e[124]!==V?(G=s.jsxs("div",{className:"flex gap-3",children:[T,Ys,V]}),e[123]=T,e[124]=V,e[125]=G):G=e[125];let U;e[126]!==y.user.name?(U=s.jsx("div",{className:"text-sm leading-none font-black text-slate-900",children:y.user.name}),e[126]=y.user.name,e[127]=U):U=e[127];const Kl=y.user.shop?`• ${y.user.shop}`:"";let Q;e[128]!==y.user.role||e[129]!==Kl?(Q=s.jsxs("div",{className:"mt-1 text-[9px] font-black tracking-widest text-slate-400 uppercase",children:[y.user.role," ",Kl]}),e[128]=y.user.role,e[129]=Kl,e[130]=Q):Q=e[130];let H;e[131]!==U||e[132]!==Q?(H=s.jsx("div",{className:"flex items-center gap-4 border-l border-slate-200/50 pl-6",children:s.jsxs("div",{className:"flex flex-col items-end text-right",children:[U,Q]})}),e[131]=U,e[132]=Q,e[133]=H):H=e[133];let st;e[134]!==G||e[135]!==H?(st=s.jsxs("header",{className:"sticky top-0 z-50 mb-10 flex h-24 w-full flex-col gap-6 border-b border-white/20 bg-white/70 px-6 py-4 shadow-sm backdrop-blur-xl md:flex-row md:items-center md:justify-between md:px-10",children:[Xs,s.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[G,H]})]}),e[134]=G,e[135]=H,e[136]=st):st=e[136];let tt,lt;e[137]===Symbol.for("react.memo_cache_sentinel")?(tt={opacity:0,y:20},lt={opacity:1,y:0},e[137]=tt,e[138]=lt):(tt=e[137],lt=e[138]);let it,at;e[139]===Symbol.for("react.memo_cache_sentinel")?(it=s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-indigo-100",children:s.jsx(pi,{className:"h-6 w-6 text-indigo-600"})}),at=s.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Guichets Actifs"}),e[139]=it,e[140]=at):(it=e[139],at=e[140]);let rt;e[141]!==El.length||e[142]!==b.counter_count?(rt=s.jsx(N.div,{initial:tt,animate:lt,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[it,s.jsxs("div",{children:[at,s.jsxs("p",{className:"text-2xl font-black text-slate-900",children:[El.length," /"," ",b.counter_count]})]})]})}),e[141]=El.length,e[142]=b.counter_count,e[143]=rt):rt=e[143];let nt,ct,ot;e[144]===Symbol.for("react.memo_cache_sentinel")?(nt={opacity:0,y:20},ct={opacity:1,y:0},ot={delay:.1},e[144]=nt,e[145]=ct,e[146]=ot):(nt=e[144],ct=e[145],ot=e[146]);let dt,mt;e[147]===Symbol.for("react.memo_cache_sentinel")?(dt=s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-100",children:s.jsx(ri,{className:"h-6 w-6 text-emerald-600"})}),mt=s.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Guichets Assignés"}),e[147]=dt,e[148]=mt):(dt=e[147],mt=e[148]);let ut;e[149]!==Ll.length?(ut=s.jsx(N.div,{initial:nt,animate:ct,transition:ot,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[dt,s.jsxs("div",{children:[mt,s.jsx("p",{className:"text-2xl font-black text-slate-900",children:Ll.length})]})]})}),e[149]=Ll.length,e[150]=ut):ut=e[150];let xt,ht,ft;e[151]===Symbol.for("react.memo_cache_sentinel")?(xt={opacity:0,y:20},ht={opacity:1,y:0},ft={delay:.2},e[151]=xt,e[152]=ht,e[153]=ft):(xt=e[151],ht=e[152],ft=e[153]);let pt,gt;e[154]===Symbol.for("react.memo_cache_sentinel")?(pt=s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-purple-100",children:s.jsx(Ii,{className:"h-6 w-6 text-purple-600"})}),gt=s.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Caissiers Disponibles"}),e[154]=pt,e[155]=gt):(pt=e[154],gt=e[155]);let bt;e[156]===Symbol.for("react.memo_cache_sentinel")?(bt=s.jsx("h2",{className:"mb-6 text-2xl font-black text-slate-900",children:"Configuration des Guichets"}),e[156]=bt):bt=e[156];let jt;e[157]!==x||e[158]!==Fl||e[159]!==ol?(jt=s.jsxs("div",{children:[bt,ol?s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(Qi)}):x&&x.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:x.map((t,r)=>s.jsxs(N.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:r*.05},className:"group relative overflow-hidden rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm transition-all hover:shadow-lg",children:[s.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[s.jsx("div",{children:s.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 text-lg font-black text-white",children:t.counter_number}),s.jsx("h3",{className:"text-xl font-black text-slate-900",children:t.name})]})}),s.jsx(o,{variant:"ghost",size:"icon",onClick:()=>Fl(t),className:"h-8 w-8 text-slate-400 hover:text-red-600",children:s.jsx(ii,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"mb-4",children:t.cashier?s.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-emerald-50 p-3",children:[s.jsx(ri,{className:"h-5 w-5 text-emerald-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-bold text-emerald-600 uppercase",children:"Caissier Assigné"}),s.jsx("p",{className:"font-bold text-slate-900",children:t.cashier.name})]})]}):s.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-slate-50 p-3",children:[s.jsx(Di,{className:"h-5 w-5 text-slate-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Non Assigné"}),s.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Aucun caissier"})]})]})}),s.jsx(o,{onClick:()=>{ci(t),al(!0)},variant:"outline",className:"w-full rounded-xl border-slate-200 font-bold hover:border-indigo-500 hover:bg-indigo-50 hover:text-indigo-600",children:t.cashier?"Changer le caissier":"Assigner un caissier"}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(tl,{className:`rounded-full px-2 py-1 text-xs font-black uppercase ${t.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:t.is_active?"Actif":"Inactif"})})]},t.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-16 text-center",children:[s.jsx(pi,{className:"mb-4 h-16 w-16 text-slate-300"}),s.jsx("h3",{className:"mb-2 text-xl font-black text-slate-900",children:"Aucun guichet configuré"}),s.jsx("p",{className:"mb-6 text-slate-600",children:"Créez votre premier guichet pour commencer"}),s.jsxs(o,{onClick:()=>He(!0),className:"rounded-xl bg-indigo-600 font-bold",children:[s.jsx(Ue,{className:"mr-2 h-4 w-4"}),"Créer un guichet"]})]})]}),e[157]=x,e[158]=Fl,e[159]=ol,e[160]=jt):jt=e[160];let vt;e[161]===Symbol.for("react.memo_cache_sentinel")?(vt=s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Publicités"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Gérez les publicités affichées sur l'écran TV"})]}),e[161]=vt):vt=e[161];let yt;e[162]===Symbol.for("react.memo_cache_sentinel")?(yt=()=>$e(!0),e[162]=yt):yt=e[162];let Nt;e[163]===Symbol.for("react.memo_cache_sentinel")?(Nt=s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[vt,s.jsxs(o,{onClick:yt,className:"h-12 rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/30 hover:shadow-xl",children:[s.jsx(Ue,{className:"mr-2 h-4 w-4"}),"Nouvelle Publicité"]})]}),e[163]=Nt):Nt=e[163];let O;e[164]!==Re||e[165]!==Ml||e[166]!==jl||e[167]!==Il?(O=jl?s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(Ui)}):Re&&Re.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:Re.map((t,r)=>s.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.05},className:"group relative overflow-hidden rounded-3xl border border-slate-200/60 bg-white shadow-sm transition-all hover:shadow-lg",children:[s.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-indigo-100 to-purple-100",children:[t.image_url?t.type==="video"?s.jsx("video",{src:t.image_url,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",muted:!0,loop:!0,preload:"metadata",onMouseOver:Gi,onMouseOut:Vi}):s.jsx("img",{src:t.image_url,alt:t.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",loading:"lazy"}):s.jsx("div",{className:"flex h-full items-center justify-center",children:s.jsx(ai,{className:"h-16 w-16 text-indigo-300"})}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(tl,{className:gi("rounded-full px-3 py-1 text-xs font-black uppercase",t.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"),children:t.is_active?"Actif":"Inactif"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"mb-4 text-xl font-black text-slate-900",children:t.title}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(o,{onClick:()=>Il(t),variant:"outline",size:"sm",className:"flex-1 rounded-xl font-bold",children:t.is_active?"Désactiver":"Activer"}),s.jsx(o,{onClick:()=>Ml(t),variant:"ghost",size:"sm",className:"rounded-xl text-red-600 hover:bg-red-50 hover:text-red-700",children:s.jsx(ii,{className:"h-4 w-4"})})]})]})]},t.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-16 text-center",children:[s.jsx(ai,{className:"mb-4 h-16 w-16 text-slate-300"}),s.jsx("h3",{className:"mb-2 text-xl font-black text-slate-900",children:"Aucune publicité"}),s.jsx("p",{className:"mb-6 text-slate-600",children:"Créez votre première publicité pour l'écran TV"}),s.jsxs(o,{onClick:()=>$e(!0),className:"rounded-xl bg-indigo-600 font-bold",children:[s.jsx(Ue,{className:"mr-2 h-4 w-4"}),"Créer une publicité"]})]}),e[164]=Re,e[165]=Ml,e[166]=jl,e[167]=Il,e[168]=O):O=e[168];let _t;e[169]===Symbol.for("react.memo_cache_sentinel")?(_t=s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Défilé d'Informations (Ticker)"}),s.jsx(tl,{className:"bg-indigo-100 text-[10px] font-black tracking-widest text-indigo-600 uppercase",children:"Nouveau"})]}),s.jsx("p",{className:"text-sm text-slate-500",children:"Gérez les messages qui défilent en bas de l'écran TV"})]}),e[169]=_t):_t=e[169];let wt;e[170]===Symbol.for("react.memo_cache_sentinel")?(wt=()=>Be(!0),e[170]=wt):wt=e[170];let St;e[171]===Symbol.for("react.memo_cache_sentinel")?(St=s.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[_t,s.jsxs(o,{onClick:wt,className:"h-12 rounded-2xl bg-indigo-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/30 hover:shadow-xl",children:[s.jsx(Ue,{className:"mr-2 h-4 w-4"}),"Ajouter une info"]})]}),e[171]=St):St=e[171];let $;e[172]!==Xe||e[173]!==ql||e[174]!==wl||e[175]!==Al?($=s.jsxs("div",{className:"mt-20 mb-20",children:[St,wl?s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(Ti)}):Xe&&Xe.length>0?s.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:Xe.map((t,r)=>s.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:r*.05},className:"group relative flex flex-col justify-between rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition-all hover:shadow-md",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[s.jsxs("span",{className:"text-[10px] font-black tracking-widest text-slate-400 uppercase",children:["Message #",r+1]}),s.jsx(tl,{className:gi("rounded-full px-2 py-0.5 text-[9px] font-black uppercase",t.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"),children:t.is_active?"Visible":"Masqué"})]}),s.jsx("p",{className:"line-clamp-3 text-sm font-bold text-slate-700",children:t.content})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(o,{onClick:()=>Al(t),variant:"outline",size:"sm",className:"flex-1 rounded-xl text-xs font-black",children:t.is_active?"Masquer":"Afficher"}),s.jsx(o,{onClick:()=>ql(t),variant:"ghost",size:"sm",className:"h-9 w-9 rounded-xl p-0 text-red-500 hover:bg-red-50",children:s.jsx(ii,{className:"h-4 w-4"})})]})]},t.id))}):s.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-12 text-center",children:[s.jsx(bi,{className:"mb-4 h-12 w-12 text-slate-300"}),s.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Aucun message défilant"}),s.jsx("p",{className:"mb-6 text-sm text-slate-500",children:"Ajoutez des informations ou des promotions qui défileront en bas de l'écran."}),s.jsxs(o,{onClick:()=>Be(!0),className:"rounded-xl bg-indigo-600 px-6 font-bold",children:[s.jsx(Ue,{className:"mr-2 h-4 w-4"}),"Créer le premier message"]})]})]}),e[172]=Xe,e[173]=ql,e[174]=wl,e[175]=Al,e[176]=$):$=e[176];let Ct;e[177]!==O||e[178]!==$?(Ct=s.jsxs("div",{className:"mt-16",children:[Nt,O,$]}),e[177]=O,e[178]=$,e[179]=Ct):Ct=e[179];let kt;e[180]===Symbol.for("react.memo_cache_sentinel")?(kt=s.jsx(ss,{children:s.jsx(ts,{className:"text-2xl font-black",children:"Nouvelle Publicité"})}),e[180]=kt):kt=e[180];let At;e[181]===Symbol.for("react.memo_cache_sentinel")?(At=s.jsx(g,{children:"Titre de la publicité"}),e[181]=At):At=e[181];let R;e[182]!==c?(R=t=>gl({...c,title:t.target.value}),e[182]=c,e[183]=R):R=e[183];let B;e[184]!==c.title||e[185]!==R?(B=s.jsxs("div",{className:"space-y-2",children:[At,s.jsx(k,{value:c.title,onChange:R,placeholder:"ex: Promotion Spéciale",className:"rounded-xl",required:!0})]}),e[184]=c.title,e[185]=R,e[186]=B):B=e[186];let qt;e[187]===Symbol.for("react.memo_cache_sentinel")?(qt=s.jsx(g,{children:"Type de contenu"}),e[187]=qt):qt=e[187];let X;e[188]!==c?(X=t=>gl({...c,type:t}),e[188]=c,e[189]=X):X=e[189];let Pt;e[190]===Symbol.for("react.memo_cache_sentinel")?(Pt=s.jsx(si,{className:"rounded-xl",children:s.jsx(ti,{placeholder:"Choisir le type"})}),e[190]=Pt):Pt=e[190];let It;e[191]===Symbol.for("react.memo_cache_sentinel")?(It=s.jsxs(ei,{className:"rounded-xl",children:[s.jsx(Qe,{value:"image",children:"Image"}),s.jsx(Qe,{value:"video",children:"Vidéo"})]}),e[191]=It):It=e[191];let J;e[192]!==c.type||e[193]!==X?(J=s.jsxs("div",{className:"space-y-2",children:[qt,s.jsxs(Zl,{value:c.type,onValueChange:X,children:[Pt,It]})]}),e[192]=c.type,e[193]=X,e[194]=J):J=e[194];let W;e[195]!==B||e[196]!==J?(W=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[B,J]}),e[195]=B,e[196]=J,e[197]=W):W=e[197];const Tl=c.type==="image"?"Image":"Vidéo";let Y;e[198]!==Tl?(Y=s.jsx(g,{children:Tl}),e[198]=Tl,e[199]=Y):Y=e[199];const Vl=c.type==="image"?"image/*":"video/*",Gl=c.type==="image"?Ni:yi;let Z;e[200]!==Vl||e[201]!==Gl?(Z=s.jsx(k,{type:"file",accept:Vl,onChange:Gl,className:"rounded-xl"}),e[200]=Vl,e[201]=Gl,e[202]=Z):Z=e[202];let ee;e[203]!==c.type||e[204]!==f?(ee=c.type==="image"&&f&&s.jsx("div",{className:"relative overflow-hidden rounded-2xl border-2 border-dashed border-indigo-200 bg-indigo-50 p-4",children:s.jsx("img",{src:f,alt:"Preview",className:"h-48 w-full rounded-xl object-cover"})}),e[203]=c.type,e[204]=f,e[205]=ee):ee=e[205];let se;e[206]!==c.type||e[207]!==p?(se=c.type==="video"&&p&&s.jsx("div",{className:"relative overflow-hidden rounded-2xl border-2 border-dashed border-indigo-200 bg-indigo-50 p-4",children:s.jsx("video",{src:p,className:"h-48 w-full rounded-xl object-cover",controls:!0})}),e[206]=c.type,e[207]=p,e[208]=se):se=e[208];let te;e[209]!==f||e[210]!==p?(te=!f&&!p&&s.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ai,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Aucun fichier sélectionné"})]})}),e[209]=f,e[210]=p,e[211]=te):te=e[211];let le;e[212]!==Z||e[213]!==ee||e[214]!==se||e[215]!==te?(le=s.jsxs("div",{className:"space-y-4",children:[Z,ee,se,te]}),e[212]=Z,e[213]=ee,e[214]=se,e[215]=te,e[216]=le):le=e[216];let ie;e[217]!==Y||e[218]!==le?(ie=s.jsxs("div",{className:"space-y-2",children:[Y,le]}),e[217]=Y,e[218]=le,e[219]=ie):ie=e[219];let Mt;e[220]===Symbol.for("react.memo_cache_sentinel")?(Mt=s.jsx(o,{type:"button",variant:"outline",onClick:()=>$e(!1),className:"rounded-xl",children:"Annuler"}),e[220]=Mt):Mt=e[220];const Ul=We.isPending||!f&&!p,Ql=We.isPending?"Création...":"Créer la publicité";let ae;e[221]!==Ul||e[222]!==Ql?(ae=s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Mt,s.jsx(o,{type:"submit",className:"rounded-xl bg-purple-600",disabled:Ul,children:Ql})]}),e[221]=Ul,e[222]=Ql,e[223]=ae):ae=e[223];let re;e[224]!==Pl||e[225]!==W||e[226]!==ie||e[227]!==ae?(re=s.jsxs(Ze,{className:"rounded-3xl sm:max-w-[600px]",children:[kt,s.jsxs("form",{onSubmit:Pl,className:"space-y-6",children:[W,ie,ae]})]}),e[224]=Pl,e[225]=W,e[226]=ie,e[227]=ae,e[228]=re):re=e[228];let Ft;e[229]!==pl||e[230]!==re?(Ft=s.jsx(es,{open:pl,onOpenChange:$e,children:re}),e[229]=pl,e[230]=re,e[231]=Ft):Ft=e[231];let Et;e[232]===Symbol.for("react.memo_cache_sentinel")?(Et=s.jsx(ss,{children:s.jsx(ts,{className:"text-2xl font-black",children:"Ajouter une Information"})}),e[232]=Et):Et=e[232];let Lt;e[233]===Symbol.for("react.memo_cache_sentinel")?(Lt=s.jsx(g,{children:"Message à faire défiler"}),e[233]=Lt):Lt=e[233];let ne;e[234]!==j?(ne=t=>hi({...j,content:t.target.value}),e[234]=j,e[235]=ne):ne=e[235];let ce;e[236]!==j.content||e[237]!==ne?(ce=s.jsx("textarea",{value:j.content,onChange:ne,placeholder:"ex: Bienvenue chez Havifin ! Profitez de nos taux exceptionnels aujourd'hui.",className:"min-h-[120px] w-full rounded-2xl border border-slate-200 p-4 text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",required:!0}),e[236]=j.content,e[237]=ne,e[238]=ce):ce=e[238];let Dt;e[239]===Symbol.for("react.memo_cache_sentinel")?(Dt=s.jsx("div",{className:"absolute top-4 right-4 text-slate-300",children:s.jsx(bi,{className:"h-5 w-5"})}),e[239]=Dt):Dt=e[239];let oe;e[240]!==ce?(oe=s.jsxs("div",{className:"relative",children:[ce,Dt]}),e[240]=ce,e[241]=oe):oe=e[241];let zt;e[242]===Symbol.for("react.memo_cache_sentinel")?(zt=s.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Ce message apparaîtra dans la barre défilante en bas de l'écran TV."}),e[242]=zt):zt=e[242];let de;e[243]!==oe?(de=s.jsxs("div",{className:"space-y-2",children:[Lt,oe,zt]}),e[243]=oe,e[244]=de):de=e[244];let Kt;e[245]===Symbol.for("react.memo_cache_sentinel")?(Kt=s.jsx(o,{type:"button",variant:"outline",onClick:()=>Be(!1),className:"rounded-xl",children:"Annuler"}),e[245]=Kt):Kt=e[245];const Hl=Je.isPending||!j.content,Ol=Je.isPending?"Ajout...":"Ajouter au défilé";let me;e[246]!==Hl||e[247]!==Ol?(me=s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Kt,s.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:Hl,children:Ol})]}),e[246]=Hl,e[247]=Ol,e[248]=me):me=e[248];let ue;e[249]!==kl||e[250]!==de||e[251]!==me?(ue=s.jsxs(Ze,{className:"rounded-3xl sm:max-w-[500px]",children:[Et,s.jsxs("form",{onSubmit:kl,className:"space-y-6",children:[de,me]})]}),e[249]=kl,e[250]=de,e[251]=me,e[252]=ue):ue=e[252];let Tt;e[253]!==Nl||e[254]!==ue?(Tt=s.jsx(es,{open:Nl,onOpenChange:Be,children:ue}),e[253]=Nl,e[254]=ue,e[255]=Tt):Tt=e[255];let Vt;e[256]===Symbol.for("react.memo_cache_sentinel")?(Vt=s.jsx(ss,{children:s.jsx(ts,{className:"text-2xl font-black",children:"Nouveau Caissier"})}),e[256]=Vt):Vt=e[256];let Gt;e[257]===Symbol.for("react.memo_cache_sentinel")?(Gt=s.jsx(g,{children:"Nom complet"}),e[257]=Gt):Gt=e[257];let xe;e[258]!==n?(xe=t=>Oe({...n,name:t.target.value}),e[258]=n,e[259]=xe):xe=e[259];let he;e[260]!==n.name||e[261]!==xe?(he=s.jsxs("div",{className:"space-y-2",children:[Gt,s.jsx(k,{value:n.name,onChange:xe,placeholder:"ex: Jean Dupont",className:"rounded-xl",required:!0})]}),e[260]=n.name,e[261]=xe,e[262]=he):he=e[262];let Ut;e[263]===Symbol.for("react.memo_cache_sentinel")?(Ut=s.jsx(g,{children:"Email"}),e[263]=Ut):Ut=e[263];let fe;e[264]!==n?(fe=t=>Oe({...n,email:t.target.value}),e[264]=n,e[265]=fe):fe=e[265];let pe;e[266]!==n.email||e[267]!==fe?(pe=s.jsxs("div",{className:"space-y-2",children:[Ut,s.jsx(k,{type:"email",value:n.email,onChange:fe,placeholder:"jean.dupont@example.com",className:"rounded-xl",required:!0})]}),e[266]=n.email,e[267]=fe,e[268]=pe):pe=e[268];let Qt;e[269]===Symbol.for("react.memo_cache_sentinel")?(Qt=s.jsx(g,{children:"Mot de passe"}),e[269]=Qt):Qt=e[269];let ge;e[270]!==n?(ge=t=>Oe({...n,password:t.target.value}),e[270]=n,e[271]=ge):ge=e[271];let be;e[272]!==n.password||e[273]!==ge?(be=s.jsxs("div",{className:"space-y-2",children:[Qt,s.jsx(k,{type:"password",value:n.password,onChange:ge,className:"rounded-xl",required:!0})]}),e[272]=n.password,e[273]=ge,e[274]=be):be=e[274];let Ht;e[275]===Symbol.for("react.memo_cache_sentinel")?(Ht=s.jsx(g,{children:"Assigner à un guichet (optionnel)"}),e[275]=Ht):Ht=e[275];let je;e[276]!==n?(je=t=>Oe({...n,counter_id:t==="none"?"":t}),e[276]=n,e[277]=je):je=e[277];let Ot;e[278]===Symbol.for("react.memo_cache_sentinel")?(Ot=s.jsx(si,{className:"rounded-xl",children:s.jsx(ti,{placeholder:"Choisir un guichet (optionnel)"})}),e[278]=Ot):Ot=e[278];let $t;e[279]===Symbol.for("react.memo_cache_sentinel")?($t=s.jsx(Qe,{value:"none",children:"Ne pas assigner pour le moment"}),e[279]=$t):$t=e[279];let ve;e[280]!==x?(ve=x?.map(Ki),e[280]=x,e[281]=ve):ve=e[281];let ye;e[282]!==ve?(ye=s.jsxs(ei,{children:[$t,ve]}),e[282]=ve,e[283]=ye):ye=e[283];let Ne;e[284]!==n.counter_id||e[285]!==je||e[286]!==ye?(Ne=s.jsxs(Zl,{value:n.counter_id,onValueChange:je,children:[Ot,ye]}),e[284]=n.counter_id,e[285]=je,e[286]=ye,e[287]=Ne):Ne=e[287];let Rt;e[288]===Symbol.for("react.memo_cache_sentinel")?(Rt=s.jsx("p",{className:"text-xs text-slate-500",children:"Seuls les guichets libres peuvent être sélectionnés."}),e[288]=Rt):Rt=e[288];let _e;e[289]!==Ne?(_e=s.jsxs("div",{className:"space-y-2",children:[Ht,Ne,Rt]}),e[289]=Ne,e[290]=_e):_e=e[290];let Bt;e[291]===Symbol.for("react.memo_cache_sentinel")?(Bt=s.jsx(o,{type:"button",variant:"outline",onClick:()=>hs(!1),className:"rounded-xl",children:"Annuler"}),e[291]=Bt):Bt=e[291];const $l=C.isPending?"Création...":"Créer le caissier";let we;e[292]!==C.isPending||e[293]!==$l?(we=s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Bt,s.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:C.isPending,children:$l})]}),e[292]=C.isPending,e[293]=$l,e[294]=we):we=e[294];let Se;e[295]!==hl||e[296]!==he||e[297]!==pe||e[298]!==be||e[299]!==_e||e[300]!==we?(Se=s.jsxs(Ze,{className:"rounded-3xl",children:[Vt,s.jsxs("form",{onSubmit:hl,className:"space-y-4",children:[he,pe,be,_e,we]})]}),e[295]=hl,e[296]=he,e[297]=pe,e[298]=be,e[299]=_e,e[300]=we,e[301]=Se):Se=e[301];let Xt;e[302]!==xl||e[303]!==Se?(Xt=s.jsx(es,{open:xl,onOpenChange:hs,children:Se}),e[302]=xl,e[303]=Se,e[304]=Xt):Xt=e[304];let Jt;e[305]===Symbol.for("react.memo_cache_sentinel")?(Jt=s.jsx(ss,{children:s.jsx(ts,{className:"text-2xl font-black",children:"Nouveau Guichet"})}),e[305]=Jt):Jt=e[305];let Wt;e[306]===Symbol.for("react.memo_cache_sentinel")?(Wt=s.jsx(g,{children:"Numéro du Guichet"}),e[306]=Wt):Wt=e[306];let Ce;e[307]!==u?(Ce=t=>rl({...u,counter_number:parseInt(t.target.value)}),e[307]=u,e[308]=Ce):Ce=e[308];let ke;e[309]!==u.counter_number||e[310]!==Ce?(ke=s.jsxs("div",{className:"space-y-2",children:[Wt,s.jsx(k,{type:"number",min:"1",value:u.counter_number,onChange:Ce,className:"rounded-xl",required:!0})]}),e[309]=u.counter_number,e[310]=Ce,e[311]=ke):ke=e[311];let Yt;e[312]===Symbol.for("react.memo_cache_sentinel")?(Yt=s.jsx(g,{children:"Nom du Guichet"}),e[312]=Yt):Yt=e[312];let Ae;e[313]!==u?(Ae=t=>rl({...u,name:t.target.value}),e[313]=u,e[314]=Ae):Ae=e[314];let qe;e[315]!==u.name||e[316]!==Ae?(qe=s.jsxs("div",{className:"space-y-2",children:[Yt,s.jsx(k,{value:u.name,onChange:Ae,placeholder:"ex: Guichet Principal",className:"rounded-xl",required:!0})]}),e[315]=u.name,e[316]=Ae,e[317]=qe):qe=e[317];let Zt;e[318]===Symbol.for("react.memo_cache_sentinel")?(Zt=s.jsx(o,{type:"button",variant:"outline",onClick:()=>He(!1),className:"rounded-xl",children:"Annuler"}),e[318]=Zt):Zt=e[318];const Rl=S.isPending?"Création...":"Créer";let Pe;e[319]!==S.isPending||e[320]!==Rl?(Pe=s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Zt,s.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:S.isPending,children:Rl})]}),e[319]=S.isPending,e[320]=Rl,e[321]=Pe):Pe=e[321];let Ie;e[322]!==ul||e[323]!==ke||e[324]!==qe||e[325]!==Pe?(Ie=s.jsxs(Ze,{className:"rounded-3xl",children:[Jt,s.jsxs("form",{onSubmit:ul,className:"space-y-4",children:[ke,qe,Pe]})]}),e[322]=ul,e[323]=ke,e[324]=qe,e[325]=Pe,e[326]=Ie):Ie=e[326];let el;e[327]!==ll||e[328]!==Ie?(el=s.jsx(es,{open:ll,onOpenChange:He,children:Ie}),e[327]=ll,e[328]=Ie,e[329]=el):el=e[329];const Bl=es,Xl=Ze,_i="rounded-3xl";let Me;e[330]===Symbol.for("react.memo_cache_sentinel")?(Me=s.jsx(ss,{children:s.jsx(ts,{className:"text-2xl font-black",children:"Assigner un Caissier"})}),e[330]=Me):Me=e[330];const wi="space-y-4",Si="space-y-2";let Fe;e[331]===Symbol.for("react.memo_cache_sentinel")?(Fe=s.jsx(g,{children:"Sélectionner un caissier"}),e[331]=Fe):Fe=e[331];const Jl=Zl;let Ee;e[332]!==w?.cashier_id?(Ee=w?.cashier_id?.toString()||"",e[332]=w?.cashier_id,e[333]=Ee):Ee=e[333];let Le;e[334]!==fl?(Le=t=>fl(t&&t!=="unassign"?parseInt(t):null),e[334]=fl,e[335]=Le):Le=e[335];let De;e[336]===Symbol.for("react.memo_cache_sentinel")?(De=s.jsx(si,{className:"rounded-xl",children:s.jsx(ti,{placeholder:"Choisir un caissier"})}),e[336]=De):De=e[336];const Wl=ei;let ze;e[337]===Symbol.for("react.memo_cache_sentinel")?(ze=s.jsx(Qe,{value:"unassign",children:"Aucun (désassigner)"}),e[337]=ze):ze=e[337];const Yl=oi?.map(zi);let Ke;e[338]!==Wl||e[339]!==ze||e[340]!==Yl?(Ke=s.jsxs(Wl,{children:[ze,Yl]}),e[338]=Wl,e[339]=ze,e[340]=Yl,e[341]=Ke):Ke=e[341];let Te;e[342]!==Jl||e[343]!==Ee||e[344]!==Le||e[345]!==De||e[346]!==Ke?(Te=s.jsxs(Jl,{value:Ee,onValueChange:Le,children:[De,Ke]}),e[342]=Jl,e[343]=Ee,e[344]=Le,e[345]=De,e[346]=Ke,e[347]=Te):Te=e[347];let Ve;e[348]!==Fe||e[349]!==Te?(Ve=s.jsx("div",{className:wi,children:s.jsxs("div",{className:Si,children:[Fe,Te]})}),e[348]=Fe,e[349]=Te,e[350]=Ve):Ve=e[350];let Ge;e[351]!==Xl||e[352]!==Me||e[353]!==Ve?(Ge=s.jsxs(Xl,{className:_i,children:[Me,Ve]}),e[351]=Xl,e[352]=Me,e[353]=Ve,e[354]=Ge):Ge=e[354];let sl;return e[355]!==Bl||e[356]!==il||e[357]!==Ge?(sl=s.jsx(Bl,{open:il,onOpenChange:al,children:Ge}),e[355]=Bl,e[356]=il,e[357]=Ge,e[358]=sl):sl=e[358],s.jsxs(li,{currentPageName:"Manager",children:[Hs,s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/30 px-6 py-8 md:px-10",children:[st,s.jsxs("div",{className:"mb-10 grid grid-cols-1 gap-6 md:grid-cols-3",children:[rt,ut,s.jsx(N.div,{initial:xt,animate:ht,transition:ft,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:s.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[pt,s.jsxs("div",{children:[gt,s.jsx("p",{className:"text-2xl font-black text-slate-900",children:oi?.length||0})]})]})})]}),jt,Ct,Ft,Tt,Xt,el,sl]})]})}function zi(l){return s.jsx(Qe,{value:l.id.toString(),children:l.name},l.id)}function Ki(l){return s.jsxs(Qe,{value:l.id.toString(),disabled:!!l.cashier_id,className:l.cashier_id?"text-slate-400":"",children:[l.counter_number," -"," ",l.name,l.cashier_id?" (Occupé)":" (Libre)"]},l.id)}function Ti(l){return s.jsx(is,{className:"h-32 rounded-2xl"},l)}function Vi(l){return l.target.pause()}function Gi(l){return l.target.play()}function Ui(l){return s.jsx(is,{className:"h-48 rounded-3xl"},l)}function Qi(l){return s.jsx(is,{className:"h-64 rounded-3xl"},l)}function Hi(l){return l.cashier_id}function Oi(l){return l.is_active}function $i(l){return s.jsx(is,{className:"h-48 rounded-3xl"},l)}function Ri(l){return s.jsx(is,{className:"h-32 rounded-3xl"},l)}function Bi(l){d.error(l.response?.data?.message||"Erreur lors de la création de la publicité")}function Xi(){d.error("Erreur lors de la suppression")}function Ji(l){return m.entities.News.delete(l)}function Wi(){d.error("Erreur lors de la mise à jour")}function Yi(l){const{id:e,data:_}=l;return m.entities.News.update(e,_)}function Zi(){d.error("Erreur lors de la création de l'information")}function ea(l){return m.entities.News.create(l)}function sa(){d.error("Erreur lors de la suppression")}function ta(l){return m.entities.Advertisement.delete(l)}function la(){d.error("Erreur lors de la mise à jour")}function ia(l){const{id:e,data:_}=l;return m.entities.Advertisement.update(e,_)}function aa(l){d.error(l.response?.data?.message||"Erreur lors de la création du caissier")}function ra(){d.error("Erreur lors de la suppression du guichet")}function na(l){return m.entities.Counter.delete(l)}function ca(){d.error("Erreur lors de la mise à jour du guichet")}function oa(l){const{id:e,data:_}=l;return m.entities.Counter.update(e,_)}function da(l){d.error(l.response?.data?.message||"Erreur lors de la création du guichet")}export{Ia as default};

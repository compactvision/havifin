import{r as i,j as e}from"./app-DkFnKQqu.js";import{B as b,t as n}from"./index-DgHTDt3N.js";import{L as x,I as p}from"./label-_YbXeZt4.js";import{c as f,m as g,a as w}from"./createLucideIcon-CI6QMrH4.js";import{M as v}from"./mail-DQp18WlG.js";import{C as h}from"./circle-alert-C92WPWAJ.js";import{L as y}from"./lock-Ba5T-6sM.js";/* empty css            */const j=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],N=f("LogIn",j);function F(){const[a,d]=i.useState({email:"",password:""}),[t,c]=i.useState(!1),[o,m]=i.useState({}),u=async r=>{r.preventDefault(),c(!0),m({});try{const l=(await w.post("/api/auth/login",a)).data;n.success("Connexion réussie!"),l.role==="super-admin"?window.location.href="/admin/shops":l.role==="manager"?window.location.href="/manager":l.role==="cashier"?window.location.href="/cashier":(l.role,window.location.href="/clientform")}catch(s){console.error("Login error:",s),s.response?.data?.errors?m(s.response.data.errors):s.response?.data?.message?n.error(s.response.data.message):n.error("Une erreur est survenue lors de la connexion")}finally{c(!1)}};return e.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 z-0",children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/images/background1.png)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/40 via-slate-900/20 to-slate-900/40"})]}),e.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center px-4 py-6",children:e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[e.jsx("div",{className:"mb-6 text-center",children:e.jsxs("div",{className:"group relative mx-auto mb-8 inline-block",children:[e.jsx("div",{className:"absolute -inset-12 rounded-full bg-gradient-to-tr from-cyan-400/30 via-purple-500/30 to-pink-500/30 opacity-60 blur-3xl transition-all duration-700 group-hover:scale-110 group-hover:opacity-100"}),e.jsx("div",{className:"relative flex h-48 w-48 items-center justify-center rounded-[40px] border border-white/30 bg-white/70 p-6 shadow-2xl shadow-purple-500/20 backdrop-blur-2xl transition-all duration-500 group-hover:scale-110 group-hover:rotate-3 group-hover:border-white/50 group-hover:bg-white/20",children:e.jsx("img",{src:"/logo-color.png",alt:"Havifin",className:"h-full w-full object-contain drop-shadow-2xl"})})]})}),e.jsxs("div",{className:"rounded-[32px] border border-white/20 bg-white/60 p-6 shadow-2xl shadow-purple-500/20 backdrop-blur-2xl",children:[e.jsx("p",{className:"bg-gradient-to-r from-cyan-300 via-blue-300 to-purple-300 bg-clip-text text-transparent",children:"Connexion"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{className:"ml-2 font-bold text-slate-800",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute top-1/2 left-4 h-5 w-5 -translate-y-1/2 text-slate-500"}),e.jsx(p,{type:"email",value:a.email,onChange:r=>d({...a,email:r.target.value}),placeholder:"admin@havifin.com",className:"h-14 rounded-2xl border-2 border-white/30 bg-white/10 pl-12 text-slate-900 shadow-xl backdrop-blur-xl placeholder:text-slate-500 focus:border-cyan-500/50 focus:bg-white/40 focus:ring-4 focus:ring-cyan-500/20",disabled:t})]}),o.email&&e.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-red-500/30 bg-red-500/10 px-3 py-2 text-sm text-red-300",children:[e.jsx(h,{className:"h-4 w-4"}),o.email]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{className:"ml-2 font-bold text-slate-800",children:"Mot de passe"}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute top-1/2 left-4 h-5 w-5 -translate-y-1/2 text-slate-500"}),e.jsx(p,{type:"password",value:a.password,onChange:r=>d({...a,password:r.target.value}),placeholder:"••••••••",className:"h-14 rounded-2xl border-2 border-white/30 bg-white/10 pl-12 text-slate-900 shadow-xl backdrop-blur-xl placeholder:text-slate-500 focus:border-cyan-500/50 focus:bg-white/40 focus:ring-4 focus:ring-cyan-500/20",disabled:t})]}),o.password&&e.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-red-500/30 bg-red-500/10 px-3 py-2 text-sm text-red-300",children:[e.jsx(h,{className:"h-4 w-4"}),o.password]})]}),e.jsx(b,{type:"submit",disabled:t,className:"h-14 w-full rounded-2xl border border-white/30 bg-gradient-to-r from-cyan-500 via-blue-600 to-purple-600 text-lg font-bold text-white shadow-2xl shadow-cyan-500/30 backdrop-blur-xl transition-all hover:scale-[1.02] hover:border-white/50 hover:shadow-cyan-500/50 active:scale-[0.98]",children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mr-2 h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Connexion en cours..."]}):e.jsxs(e.Fragment,{children:["Se connecter",e.jsx(N,{className:"ml-2 h-5 w-5"})]})})]}),e.jsxs("div",{className:"mt-6 rounded-xl border border-cyan-500/30 bg-cyan-500/10 p-4 text-center text-sm text-cyan-900",children:[e.jsx("p",{className:"font-medium",children:"Comptes de test"}),e.jsx("p",{className:"mt-1 text-xs text-cyan-800/80",children:"SuperAdmin: superadmin@havifin.com / password"}),e.jsx("p",{className:"text-xs text-cyan-800/80",children:"Manager: admin@havifin.com / password"}),e.jsx("p",{className:"text-xs text-cyan-800/80",children:"Cashier: cashier@havifin.com / password"})]})]})]})})]})}export{F as default};

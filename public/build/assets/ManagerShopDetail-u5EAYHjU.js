import{c as fi,a as pi,u as gi,r as x,j as t,L as li,H as bi}from"./app-CA5fg9iw.js";import{u as Be,b as m}from"./base44Client-DohBR0cz.js";import{B as Xs}from"./badge-DEAZpE-7.js";import{B as o}from"./button-DaujqdMS.js";import{c as Xe,d as Ze,D as Je,a as We}from"./index-9nYCbHla.js";import{I as C,L as g}from"./label-CYTF_ibU.js";import{S as Ul,c as Ql,a as Hl,b as Ol,d as Ve}from"./select-DN6wnm1j.js";import{a as ii,A as $l}from"./app-main-CIDRNRnn.js";import{c as Zs,m as v,a as ai}from"./createLucideIcon-CQoFxF-x.js";import{u as j}from"./check-AxC_IFfF.js";import{t as d}from"./index-ird4Wgf-.js";import{A as ji}from"./arrow-left-OLNDof1z.js";import{T as Rl}from"./trash-2-1qHEFnZo.js";import{P as Ke}from"./plus-cnRODyFG.js";import{U as yi}from"./users-DYK6b8dv.js";/* empty css            */const vi=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Bl=Zs("Image",vi);const Ni=[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]],ri=Zs("Newspaper",Ni);const _i=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Xl=Zs("UserCheck",_i);const wi=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Si=Zs("UserX",wi);function ma(l){const e=fi.c(339),{id:N}=l,{auth:y}=pi().props,a=parseInt(N),i=gi(),[Js,Le]=x.useState(!1);x.useState(null);const[Ws,Ys]=x.useState(!1),[_,Zl]=x.useState(null);let Ye;e[0]===Symbol.for("react.memo_cache_sentinel")?(Ye={counter_number:1,name:""},e[0]=Ye):Ye=e[0];const[u,el]=x.useState(Ye);let et;e[1]===Symbol.for("react.memo_cache_sentinel")?(et={queryKey:["shops"],queryFn:m.entities.Shop.list},e[1]=et):et=e[1];const{data:tl,isLoading:ni}=Be(et);let tt;e[2]!==tl||e[3]!==a?(tt=tl?.find(s=>s.id===a),e[2]=tl,e[3]=a,e[4]=tt):tt=e[4];const k=tt;let A,q;e[5]!==a?(A=["counters",a],q=()=>m.entities.Counter.list(a),e[5]=a,e[6]=A,e[7]=q):(A=e[6],q=e[7]);const sl=!!a;let st;e[8]!==A||e[9]!==q||e[10]!==sl?(st={queryKey:A,queryFn:q,enabled:sl},e[8]=A,e[9]=q,e[10]=sl,e[11]=st):st=e[11];const{data:h,isLoading:ci}=Be(st);let lt;e[12]===Symbol.for("react.memo_cache_sentinel")?(lt={queryKey:["users"],queryFn:m.entities.User.list},e[12]=lt):lt=e[12];const{data:oi}=Be(lt),Jl=oi?.filter(s=>s.role==="cashier"&&s.shops?.some(n=>n.id===a));let P;e[13]!==a?(P=s=>m.entities.Counter.create(a,s),e[13]=a,e[14]=P):P=e[14];let M;e[15]!==i||e[16]!==a?(M=()=>{i.invalidateQueries({queryKey:["counters",a]}),d.success("Guichet créé avec succès"),Le(!1),el({counter_number:1,name:""})},e[15]=i,e[16]=a,e[17]=M):M=e[17];let it;e[18]!==M||e[19]!==P?(it={mutationFn:P,onSuccess:M,onError:Bi},e[18]=M,e[19]=P,e[20]=it):it=e[20];const w=j(it);let at;e[21]!==i||e[22]!==a?(at={mutationFn:Ri,onSuccess:()=>{i.invalidateQueries({queryKey:["counters",a]}),d.success("Guichet mis à jour avec succès"),Ys(!1),Zl(null)},onError:$i},e[21]=i,e[22]=a,e[23]=at):at=e[23];const ll=j(at);let rt;e[24]!==i||e[25]!==a?(rt={mutationFn:Oi,onSuccess:()=>{i.invalidateQueries({queryKey:["counters",a]}),d.success("Guichet supprimé avec succès")},onError:Hi},e[24]=i,e[25]=a,e[26]=rt):rt=e[26];const il=j(rt);let nt;e[27]!==u||e[28]!==w?(nt=s=>{s.preventDefault(),w.mutate(u)},e[27]=u,e[28]=w,e[29]=nt):nt=e[29];const al=nt,[rl,ct]=x.useState(!1);let ot;e[30]===Symbol.for("react.memo_cache_sentinel")?(ot={name:"",email:"",password:"",counter_id:""},e[30]=ot):ot=e[30];const[r,Te]=x.useState(ot);let I;e[31]!==a?(I=async s=>{const n=await m.entities.User.create({name:s.name,email:s.email,password:s.password,role:"cashier",is_active:!0,shop_ids:[a]});return s.counter_id&&await m.entities.Counter.update(parseInt(s.counter_id),{cashier_id:n.id}),n},e[31]=a,e[32]=I):I=e[32];let F;e[33]!==i||e[34]!==a?(F=()=>{i.invalidateQueries({queryKey:["users"]}),i.invalidateQueries({queryKey:["counters",a]}),d.success("Caissier créé avec succès"),ct(!1),Te({name:"",email:"",password:"",counter_id:""})},e[33]=i,e[34]=a,e[35]=F):F=e[35];let dt;e[36]!==I||e[37]!==F?(dt={mutationFn:I,onSuccess:F,onError:Qi},e[36]=I,e[37]=F,e[38]=dt):dt=e[38];const S=j(dt);let mt;e[39]!==r||e[40]!==S?(mt=s=>{s.preventDefault(),S.mutate(r)},e[39]=r,e[40]=S,e[41]=mt):mt=e[41];const nl=mt;let ut;e[42]!==_||e[43]!==ll?(ut=s=>{_&&ll.mutate({id:_.id,data:{cashier_id:s}})},e[42]=_,e[43]=ll,e[44]=ut):ut=e[44];const cl=ut,[ol,Ge]=x.useState(!1);let ht;e[45]===Symbol.for("react.memo_cache_sentinel")?(ht={title:"",type:"image",image_url:"",display_order:1},e[45]=ht):ht=e[45];const[c,dl]=x.useState(ht),[,Wl]=x.useState(null),[f,Yl]=x.useState(""),[,ei]=x.useState(null),[p,ti]=x.useState("");let xt;e[46]===Symbol.for("react.memo_cache_sentinel")?(xt={queryKey:["advertisements"],queryFn:m.entities.Advertisement.list},e[46]=xt):xt=e[46];const{data:ft}=Be(xt);let pt;e[47]!==ft?(pt=ft===void 0?[]:ft,e[47]=ft,e[48]=pt):pt=e[48];const Ue=pt;let gt;e[49]===Symbol.for("react.memo_cache_sentinel")?(gt=s=>{const n=s.target.files?.[0];if(n){ei(n);const Re=URL.createObjectURL(n);ti(Re)}},e[49]=gt):gt=e[49];const di=gt;let bt;e[50]!==i?(bt={mutationFn:Ui,onSuccess:()=>{i.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité mise à jour")},onError:Gi},e[50]=i,e[51]=bt):bt=e[51];const ml=j(bt);let jt;e[52]!==i?(jt={mutationFn:Ti,onSuccess:()=>{i.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité supprimée")},onError:Li},e[52]=i,e[53]=jt):jt=e[53];const ul=j(jt);let yt;e[54]===Symbol.for("react.memo_cache_sentinel")?(yt=s=>{const n=s.target.files?.[0];if(n){Wl(n);const Re=new FileReader;Re.onloadend=()=>{Yl(Re.result)},Re.readAsDataURL(n)}},e[54]=yt):yt=e[54];const mi=yt,[hl,Qe]=x.useState(!1);let vt;e[55]===Symbol.for("react.memo_cache_sentinel")?(vt={content:"",display_order:1},e[55]=vt):vt=e[55];const[b,si]=x.useState(vt);let Nt;e[56]===Symbol.for("react.memo_cache_sentinel")?(Nt={queryKey:["news"],queryFn:m.entities.News.list},e[56]=Nt):Nt=e[56];const{data:_t}=Be(Nt);let wt;e[57]!==_t?(wt=_t===void 0?[]:_t,e[57]=_t,e[58]=wt):wt=e[58];const He=wt;let St;e[59]!==i?(St={mutationFn:Vi,onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),d.success("Information ajoutée au défilé"),Qe(!1),si({content:"",display_order:1})},onError:Ki},e[59]=i,e[60]=St):St=e[60];const Oe=j(St);let Ct;e[61]!==i?(Ct={mutationFn:zi,onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),d.success("Information mise à jour")},onError:Di},e[61]=i,e[62]=Ct):Ct=e[62];const xl=j(Ct);let kt;e[63]!==i?(kt={mutationFn:Ei,onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),d.success("Information supprimée")},onError:Fi},e[63]=i,e[64]=kt):kt=e[64];const fl=j(kt);let At;e[65]!==Oe||e[66]!==b?(At=s=>{s.preventDefault(),Oe.mutate(b)},e[65]=Oe,e[66]=b,e[67]=At):At=e[67];const pl=At;let qt;e[68]!==xl?(qt=s=>{xl.mutate({id:s.id,data:{is_active:!s.is_active}})},e[68]=xl,e[69]=qt):qt=e[69];const gl=qt;let Pt;e[70]!==fl?(Pt=s=>{confirm("Supprimer cette information du défilé ?")&&fl.mutate(s.id)},e[70]=fl,e[71]=Pt):Pt=e[71];const bl=Pt;let E;e[72]!==f||e[73]!==p?(E=async s=>{const n=s.type==="video"?p:f;return m.entities.Advertisement.create({title:s.title,type:s.type,image_url:s.image_url||n,display_order:s.display_order,is_active:!0})},e[72]=f,e[73]=p,e[74]=E):E=e[74];let D;e[75]!==i?(D=()=>{i.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité créée avec succès"),Ge(!1),dl({title:"",type:"image",image_url:"",display_order:1}),Wl(null),Yl(""),ei(null),ti("")},e[75]=i,e[76]=D):D=e[76];let Mt;e[77]!==E||e[78]!==D?(Mt={mutationFn:E,onSuccess:D,onError:Ii},e[77]=E,e[78]=D,e[79]=Mt):Mt=e[79];const $e=j(Mt);let It;e[80]!==c||e[81]!==$e?(It=s=>{s.preventDefault(),$e.mutate(c)},e[80]=c,e[81]=$e,e[82]=It):It=e[82];const jl=It;let Ft;e[83]!==ml?(Ft=s=>{ml.mutate({id:s.id,data:{is_active:!s.is_active}})},e[83]=ml,e[84]=Ft):Ft=e[84];const yl=Ft;let Et;e[85]!==ul?(Et=s=>{confirm(`Supprimer la publicité "${s.title}" ?`)&&ul.mutate(s.id)},e[85]=ul,e[86]=Et):Et=e[86];const vl=Et;let Dt;e[87]!==il?(Dt=s=>{confirm(`Êtes-vous sûr de vouloir supprimer le guichet "${s.name}" ?`)&&il.mutate(s.id)},e[87]=il,e[88]=Dt):Dt=e[88];const Nl=Dt;if(ni||ci){let s;return e[89]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx($l,{currentPageName:"Manager",children:t.jsx("div",{className:"flex h-screen items-center justify-center",children:t.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-indigo-600 border-t-transparent"})})}),e[89]=s):s=e[89],s}if(!k){let s;e[90]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx("h2",{className:"mb-4 text-2xl font-black text-slate-900",children:"Boutique introuvable"}),e[90]=s):s=e[90];let n;return e[91]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx($l,{currentPageName:"Manager",children:t.jsxs("div",{className:"flex h-screen flex-col items-center justify-center",children:[s,t.jsx(li,{href:"/manager/shops",children:t.jsx(o,{children:"Retour aux boutiques"})})]})}),e[91]=n):n=e[91],n}let zt;e[92]!==h?(zt=h?.filter(Mi)||[],e[92]=h,e[93]=zt):zt=e[93];const _l=zt;let Kt;e[94]!==h?(Kt=h?.filter(Pi)||[],e[94]=h,e[95]=Kt):Kt=e[95];const wl=Kt,Sl=`Gestion - ${k.name}`;let Vt;e[96]!==Sl?(Vt=t.jsx(bi,{title:Sl}),e[96]=Sl,e[97]=Vt):Vt=e[97];let Lt;e[98]===Symbol.for("react.memo_cache_sentinel")?(Lt={x:-4},e[98]=Lt):Lt=e[98];let Tt,Gt;e[99]===Symbol.for("react.memo_cache_sentinel")?(Tt=t.jsx(li,{href:"/manager/shops",children:t.jsx(v.div,{whileHover:Lt,children:t.jsx(o,{variant:"ghost",size:"icon",className:"h-12 w-12 rounded-2xl border border-white/40 bg-white/50 shadow-sm backdrop-blur-md hover:bg-white/80",children:t.jsx(ji,{className:"h-5 w-5 text-indigo-600"})})})}),Gt=t.jsx("div",{className:"h-10 w-[1px] bg-indigo-100"}),e[99]=Tt,e[100]=Gt):(Tt=e[99],Gt=e[100]);let Ut;e[101]===Symbol.for("react.memo_cache_sentinel")?(Ut={scale:1.02},e[101]=Ut):Ut=e[101];let Qt;e[102]===Symbol.for("react.memo_cache_sentinel")?(Qt=t.jsxs("div",{className:"flex items-center gap-4",children:[Tt,Gt,t.jsx(v.div,{whileHover:Ut,className:"relative flex h-16 w-38 items-center justify-center p-2",children:t.jsx("img",{src:"/logo-color.png",alt:"Havifin",className:"h-full w-full object-contain"})})]}),e[102]=Qt):Qt=e[102];let Ht;e[103]===Symbol.for("react.memo_cache_sentinel")?(Ht=()=>ct(!0),e[103]=Ht):Ht=e[103];let Ot;e[104]===Symbol.for("react.memo_cache_sentinel")?(Ot=t.jsxs(o,{onClick:Ht,className:"h-12 rounded-2xl border border-indigo-100 bg-indigo-50/50 px-6 font-bold text-indigo-600 hover:bg-indigo-100/50",children:[t.jsx(Xl,{className:"mr-2 h-4 w-4"}),"Nouveau Caissier"]}),e[104]=Ot):Ot=e[104];let $t;e[105]===Symbol.for("react.memo_cache_sentinel")?($t=()=>Le(!0),e[105]=$t):$t=e[105];const Cl=(h?.length||0)>=k.counter_count;let Rt;e[106]===Symbol.for("react.memo_cache_sentinel")?(Rt=t.jsx(Ke,{className:"mr-2 h-4 w-4"}),e[106]=Rt):Rt=e[106];let z;e[107]!==Cl?(z=t.jsxs("div",{className:"flex gap-3",children:[Ot,t.jsxs(o,{onClick:$t,disabled:Cl,className:"h-12 rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/20 hover:shadow-xl active:scale-95",children:[Rt,"Nouveau Guichet"]})]}),e[107]=Cl,e[108]=z):z=e[108];let K;e[109]!==y.user.name?(K=t.jsx("div",{className:"text-sm leading-none font-black text-slate-900",children:y.user.name}),e[109]=y.user.name,e[110]=K):K=e[110];const kl=y.user.shop?`• ${y.user.shop}`:"";let V;e[111]!==y.user.role||e[112]!==kl?(V=t.jsxs("div",{className:"mt-1 text-[9px] font-black tracking-widest text-slate-400 uppercase",children:[y.user.role," ",kl]}),e[111]=y.user.role,e[112]=kl,e[113]=V):V=e[113];let L;e[114]!==K||e[115]!==V?(L=t.jsx("div",{className:"flex items-center gap-4 border-l border-slate-200/50 pl-6",children:t.jsxs("div",{className:"flex flex-col items-end text-right",children:[K,V]})}),e[114]=K,e[115]=V,e[116]=L):L=e[116];let Bt;e[117]!==z||e[118]!==L?(Bt=t.jsxs("header",{className:"sticky top-0 z-50 mb-10 flex h-24 w-full flex-col gap-6 border-b border-white/20 bg-white/70 px-6 py-4 shadow-sm backdrop-blur-xl md:flex-row md:items-center md:justify-between md:px-10",children:[Qt,t.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[z,L]})]}),e[117]=z,e[118]=L,e[119]=Bt):Bt=e[119];let Xt,Zt;e[120]===Symbol.for("react.memo_cache_sentinel")?(Xt={opacity:0,y:20},Zt={opacity:1,y:0},e[120]=Xt,e[121]=Zt):(Xt=e[120],Zt=e[121]);let Jt,Wt;e[122]===Symbol.for("react.memo_cache_sentinel")?(Jt=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-indigo-100",children:t.jsx(ii,{className:"h-6 w-6 text-indigo-600"})}),Wt=t.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Guichets Actifs"}),e[122]=Jt,e[123]=Wt):(Jt=e[122],Wt=e[123]);let Yt;e[124]!==_l.length||e[125]!==k.counter_count?(Yt=t.jsx(v.div,{initial:Xt,animate:Zt,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[Jt,t.jsxs("div",{children:[Wt,t.jsxs("p",{className:"text-2xl font-black text-slate-900",children:[_l.length," /"," ",k.counter_count]})]})]})}),e[124]=_l.length,e[125]=k.counter_count,e[126]=Yt):Yt=e[126];let es,ts,ss;e[127]===Symbol.for("react.memo_cache_sentinel")?(es={opacity:0,y:20},ts={opacity:1,y:0},ss={delay:.1},e[127]=es,e[128]=ts,e[129]=ss):(es=e[127],ts=e[128],ss=e[129]);let ls,is;e[130]===Symbol.for("react.memo_cache_sentinel")?(ls=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-100",children:t.jsx(Xl,{className:"h-6 w-6 text-emerald-600"})}),is=t.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Guichets Assignés"}),e[130]=ls,e[131]=is):(ls=e[130],is=e[131]);let as;e[132]!==wl.length?(as=t.jsx(v.div,{initial:es,animate:ts,transition:ss,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[ls,t.jsxs("div",{children:[is,t.jsx("p",{className:"text-2xl font-black text-slate-900",children:wl.length})]})]})}),e[132]=wl.length,e[133]=as):as=e[133];let rs,ns,cs;e[134]===Symbol.for("react.memo_cache_sentinel")?(rs={opacity:0,y:20},ns={opacity:1,y:0},cs={delay:.2},e[134]=rs,e[135]=ns,e[136]=cs):(rs=e[134],ns=e[135],cs=e[136]);let os,ds;e[137]===Symbol.for("react.memo_cache_sentinel")?(os=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-purple-100",children:t.jsx(yi,{className:"h-6 w-6 text-purple-600"})}),ds=t.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Caissiers Disponibles"}),e[137]=os,e[138]=ds):(os=e[137],ds=e[138]);let ms;e[139]===Symbol.for("react.memo_cache_sentinel")?(ms=t.jsx("h2",{className:"mb-6 text-2xl font-black text-slate-900",children:"Configuration des Guichets"}),e[139]=ms):ms=e[139];let us;e[140]!==h||e[141]!==Nl?(us=t.jsxs("div",{children:[ms,h&&h.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:h.map((s,n)=>t.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:n*.05},className:"group relative overflow-hidden rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[t.jsx("div",{children:t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 text-lg font-black text-white",children:s.counter_number}),t.jsx("h3",{className:"text-xl font-black text-slate-900",children:s.name})]})}),t.jsx(o,{variant:"ghost",size:"icon",onClick:()=>Nl(s),className:"h-8 w-8 text-slate-400 hover:text-red-600",children:t.jsx(Rl,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"mb-4",children:s.cashier?t.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-emerald-50 p-3",children:[t.jsx(Xl,{className:"h-5 w-5 text-emerald-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs font-bold text-emerald-600 uppercase",children:"Caissier Assigné"}),t.jsx("p",{className:"font-bold text-slate-900",children:s.cashier.name})]})]}):t.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-slate-50 p-3",children:[t.jsx(Si,{className:"h-5 w-5 text-slate-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Non Assigné"}),t.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Aucun caissier"})]})]})}),t.jsx(o,{onClick:()=>{Zl(s),Ys(!0)},variant:"outline",className:"w-full rounded-xl border-slate-200 font-bold hover:border-indigo-500 hover:bg-indigo-50 hover:text-indigo-600",children:s.cashier?"Changer le caissier":"Assigner un caissier"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx(Xs,{className:`rounded-full px-2 py-1 text-xs font-black uppercase ${s.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:s.is_active?"Actif":"Inactif"})})]},s.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-16 text-center",children:[t.jsx(ii,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("h3",{className:"mb-2 text-xl font-black text-slate-900",children:"Aucun guichet configuré"}),t.jsx("p",{className:"mb-6 text-slate-600",children:"Créez votre premier guichet pour commencer"}),t.jsxs(o,{onClick:()=>Le(!0),className:"rounded-xl bg-indigo-600 font-bold",children:[t.jsx(Ke,{className:"mr-2 h-4 w-4"}),"Créer un guichet"]})]})]}),e[140]=h,e[141]=Nl,e[142]=us):us=e[142];let hs;e[143]===Symbol.for("react.memo_cache_sentinel")?(hs=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Publicités"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Gérez les publicités affichées sur l'écran TV"})]}),e[143]=hs):hs=e[143];let xs;e[144]===Symbol.for("react.memo_cache_sentinel")?(xs=()=>Ge(!0),e[144]=xs):xs=e[144];let fs;e[145]===Symbol.for("react.memo_cache_sentinel")?(fs=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[hs,t.jsxs(o,{onClick:xs,className:"h-12 rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/30 hover:shadow-xl",children:[t.jsx(Ke,{className:"mr-2 h-4 w-4"}),"Nouvelle Publicité"]})]}),e[145]=fs):fs=e[145];let T;e[146]!==Ue||e[147]!==vl||e[148]!==yl?(T=Ue&&Ue.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:Ue.map((s,n)=>t.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.05},className:"group relative overflow-hidden rounded-3xl border border-slate-200/60 bg-white shadow-sm transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-indigo-100 to-purple-100",children:[s.image_url?s.type==="video"?t.jsx("video",{src:s.image_url,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",muted:!0,loop:!0,onMouseOver:qi,onMouseOut:Ai}):t.jsx("img",{src:s.image_url,alt:s.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110"}):t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(Bl,{className:"h-16 w-16 text-indigo-300"})}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx(Xs,{className:ai("rounded-full px-3 py-1 text-xs font-black uppercase",s.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"),children:s.is_active?"Actif":"Inactif"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-black text-slate-900",children:s.title}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(o,{onClick:()=>yl(s),variant:"outline",size:"sm",className:"flex-1 rounded-xl font-bold",children:s.is_active?"Désactiver":"Activer"}),t.jsx(o,{onClick:()=>vl(s),variant:"ghost",size:"sm",className:"rounded-xl text-red-600 hover:bg-red-50 hover:text-red-700",children:t.jsx(Rl,{className:"h-4 w-4"})})]})]})]},s.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-16 text-center",children:[t.jsx(Bl,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("h3",{className:"mb-2 text-xl font-black text-slate-900",children:"Aucune publicité"}),t.jsx("p",{className:"mb-6 text-slate-600",children:"Créez votre première publicité pour l'écran TV"}),t.jsxs(o,{onClick:()=>Ge(!0),className:"rounded-xl bg-indigo-600 font-bold",children:[t.jsx(Ke,{className:"mr-2 h-4 w-4"}),"Créer une publicité"]})]}),e[146]=Ue,e[147]=vl,e[148]=yl,e[149]=T):T=e[149];let ps;e[150]===Symbol.for("react.memo_cache_sentinel")?(ps=t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Défilé d'Informations (Ticker)"}),t.jsx(Xs,{className:"bg-indigo-100 text-[10px] font-black tracking-widest text-indigo-600 uppercase",children:"Nouveau"})]}),t.jsx("p",{className:"text-sm text-slate-500",children:"Gérez les messages qui défilent en bas de l'écran TV"})]}),e[150]=ps):ps=e[150];let gs;e[151]===Symbol.for("react.memo_cache_sentinel")?(gs=()=>Qe(!0),e[151]=gs):gs=e[151];let bs;e[152]===Symbol.for("react.memo_cache_sentinel")?(bs=t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[ps,t.jsxs(o,{onClick:gs,className:"h-12 rounded-2xl bg-indigo-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/30 hover:shadow-xl",children:[t.jsx(Ke,{className:"mr-2 h-4 w-4"}),"Ajouter une info"]})]}),e[152]=bs):bs=e[152];let G;e[153]!==He||e[154]!==bl||e[155]!==gl?(G=t.jsxs("div",{className:"mt-20 mb-20",children:[bs,He&&He.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:He.map((s,n)=>t.jsxs(v.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n*.05},className:"group relative flex flex-col justify-between rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition-all hover:shadow-md",children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsxs("span",{className:"text-[10px] font-black tracking-widest text-slate-400 uppercase",children:["Message #",n+1]}),t.jsx(Xs,{className:ai("rounded-full px-2 py-0.5 text-[9px] font-black uppercase",s.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"),children:s.is_active?"Visible":"Masqué"})]}),t.jsx("p",{className:"line-clamp-3 text-sm font-bold text-slate-700",children:s.content})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(o,{onClick:()=>gl(s),variant:"outline",size:"sm",className:"flex-1 rounded-xl text-xs font-black",children:s.is_active?"Masquer":"Afficher"}),t.jsx(o,{onClick:()=>bl(s),variant:"ghost",size:"sm",className:"h-9 w-9 rounded-xl p-0 text-red-500 hover:bg-red-50",children:t.jsx(Rl,{className:"h-4 w-4"})})]})]},s.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-12 text-center",children:[t.jsx(ri,{className:"mb-4 h-12 w-12 text-slate-300"}),t.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Aucun message défilant"}),t.jsx("p",{className:"mb-6 text-sm text-slate-500",children:"Ajoutez des informations ou des promotions qui défileront en bas de l'écran."}),t.jsxs(o,{onClick:()=>Qe(!0),className:"rounded-xl bg-indigo-600 px-6 font-bold",children:[t.jsx(Ke,{className:"mr-2 h-4 w-4"}),"Créer le premier message"]})]})]}),e[153]=He,e[154]=bl,e[155]=gl,e[156]=G):G=e[156];let js;e[157]!==T||e[158]!==G?(js=t.jsxs("div",{className:"mt-16",children:[fs,T,G]}),e[157]=T,e[158]=G,e[159]=js):js=e[159];let ys;e[160]===Symbol.for("react.memo_cache_sentinel")?(ys=t.jsx(Je,{children:t.jsx(We,{className:"text-2xl font-black",children:"Nouvelle Publicité"})}),e[160]=ys):ys=e[160];let vs;e[161]===Symbol.for("react.memo_cache_sentinel")?(vs=t.jsx(g,{children:"Titre de la publicité"}),e[161]=vs):vs=e[161];let U;e[162]!==c?(U=s=>dl({...c,title:s.target.value}),e[162]=c,e[163]=U):U=e[163];let Q;e[164]!==c.title||e[165]!==U?(Q=t.jsxs("div",{className:"space-y-2",children:[vs,t.jsx(C,{value:c.title,onChange:U,placeholder:"ex: Promotion Spéciale",className:"rounded-xl",required:!0})]}),e[164]=c.title,e[165]=U,e[166]=Q):Q=e[166];let Ns;e[167]===Symbol.for("react.memo_cache_sentinel")?(Ns=t.jsx(g,{children:"Type de contenu"}),e[167]=Ns):Ns=e[167];let H;e[168]!==c?(H=s=>dl({...c,type:s}),e[168]=c,e[169]=H):H=e[169];let _s;e[170]===Symbol.for("react.memo_cache_sentinel")?(_s=t.jsx(Hl,{className:"rounded-xl",children:t.jsx(Ol,{placeholder:"Choisir le type"})}),e[170]=_s):_s=e[170];let ws;e[171]===Symbol.for("react.memo_cache_sentinel")?(ws=t.jsxs(Ql,{className:"rounded-xl",children:[t.jsx(Ve,{value:"image",children:"Image"}),t.jsx(Ve,{value:"video",children:"Vidéo"})]}),e[171]=ws):ws=e[171];let O;e[172]!==c.type||e[173]!==H?(O=t.jsxs("div",{className:"space-y-2",children:[Ns,t.jsxs(Ul,{value:c.type,onValueChange:H,children:[_s,ws]})]}),e[172]=c.type,e[173]=H,e[174]=O):O=e[174];let $;e[175]!==O||e[176]!==Q?($=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Q,O]}),e[175]=O,e[176]=Q,e[177]=$):$=e[177];const Al=c.type==="image"?"Image":"Vidéo";let R;e[178]!==Al?(R=t.jsx(g,{children:Al}),e[178]=Al,e[179]=R):R=e[179];const ql=c.type==="image"?"image/*":"video/*",Pl=c.type==="image"?mi:di;let B;e[180]!==ql||e[181]!==Pl?(B=t.jsx(C,{type:"file",accept:ql,onChange:Pl,className:"rounded-xl"}),e[180]=ql,e[181]=Pl,e[182]=B):B=e[182];let X;e[183]!==c.type||e[184]!==f?(X=c.type==="image"&&f&&t.jsx("div",{className:"relative overflow-hidden rounded-2xl border-2 border-dashed border-indigo-200 bg-indigo-50 p-4",children:t.jsx("img",{src:f,alt:"Preview",className:"h-48 w-full rounded-xl object-cover"})}),e[183]=c.type,e[184]=f,e[185]=X):X=e[185];let Z;e[186]!==c.type||e[187]!==p?(Z=c.type==="video"&&p&&t.jsx("div",{className:"relative overflow-hidden rounded-2xl border-2 border-dashed border-indigo-200 bg-indigo-50 p-4",children:t.jsx("video",{src:p,className:"h-48 w-full rounded-xl object-cover",controls:!0})}),e[186]=c.type,e[187]=p,e[188]=Z):Z=e[188];let J;e[189]!==f||e[190]!==p?(J=!f&&!p&&t.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Bl,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Aucun fichier sélectionné"})]})}),e[189]=f,e[190]=p,e[191]=J):J=e[191];let W;e[192]!==B||e[193]!==X||e[194]!==Z||e[195]!==J?(W=t.jsxs("div",{className:"space-y-4",children:[B,X,Z,J]}),e[192]=B,e[193]=X,e[194]=Z,e[195]=J,e[196]=W):W=e[196];let Y;e[197]!==R||e[198]!==W?(Y=t.jsxs("div",{className:"space-y-2",children:[R,W]}),e[197]=R,e[198]=W,e[199]=Y):Y=e[199];let Ss;e[200]===Symbol.for("react.memo_cache_sentinel")?(Ss=t.jsx(o,{type:"button",variant:"outline",onClick:()=>Ge(!1),className:"rounded-xl",children:"Annuler"}),e[200]=Ss):Ss=e[200];const Ml=$e.isPending||!f&&!p,Il=$e.isPending?"Création...":"Créer la publicité";let ee;e[201]!==Ml||e[202]!==Il?(ee=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Ss,t.jsx(o,{type:"submit",className:"rounded-xl bg-purple-600",disabled:Ml,children:Il})]}),e[201]=Ml,e[202]=Il,e[203]=ee):ee=e[203];let te;e[204]!==jl||e[205]!==$||e[206]!==Y||e[207]!==ee?(te=t.jsxs(Xe,{className:"rounded-3xl sm:max-w-[600px]",children:[ys,t.jsxs("form",{onSubmit:jl,className:"space-y-6",children:[$,Y,ee]})]}),e[204]=jl,e[205]=$,e[206]=Y,e[207]=ee,e[208]=te):te=e[208];let Cs;e[209]!==ol||e[210]!==te?(Cs=t.jsx(Ze,{open:ol,onOpenChange:Ge,children:te}),e[209]=ol,e[210]=te,e[211]=Cs):Cs=e[211];let ks;e[212]===Symbol.for("react.memo_cache_sentinel")?(ks=t.jsx(Je,{children:t.jsx(We,{className:"text-2xl font-black",children:"Ajouter une Information"})}),e[212]=ks):ks=e[212];let As;e[213]===Symbol.for("react.memo_cache_sentinel")?(As=t.jsx(g,{children:"Message à faire défiler"}),e[213]=As):As=e[213];let se;e[214]!==b?(se=s=>si({...b,content:s.target.value}),e[214]=b,e[215]=se):se=e[215];let le;e[216]!==b.content||e[217]!==se?(le=t.jsx("textarea",{value:b.content,onChange:se,placeholder:"ex: Bienvenue chez Havifin ! Profitez de nos taux exceptionnels aujourd'hui.",className:"min-h-[120px] w-full rounded-2xl border border-slate-200 p-4 text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",required:!0}),e[216]=b.content,e[217]=se,e[218]=le):le=e[218];let qs;e[219]===Symbol.for("react.memo_cache_sentinel")?(qs=t.jsx("div",{className:"absolute top-4 right-4 text-slate-300",children:t.jsx(ri,{className:"h-5 w-5"})}),e[219]=qs):qs=e[219];let ie;e[220]!==le?(ie=t.jsxs("div",{className:"relative",children:[le,qs]}),e[220]=le,e[221]=ie):ie=e[221];let Ps;e[222]===Symbol.for("react.memo_cache_sentinel")?(Ps=t.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Ce message apparaîtra dans la barre défilante en bas de l'écran TV."}),e[222]=Ps):Ps=e[222];let ae;e[223]!==ie?(ae=t.jsxs("div",{className:"space-y-2",children:[As,ie,Ps]}),e[223]=ie,e[224]=ae):ae=e[224];let Ms;e[225]===Symbol.for("react.memo_cache_sentinel")?(Ms=t.jsx(o,{type:"button",variant:"outline",onClick:()=>Qe(!1),className:"rounded-xl",children:"Annuler"}),e[225]=Ms):Ms=e[225];const Fl=Oe.isPending||!b.content,El=Oe.isPending?"Ajout...":"Ajouter au défilé";let re;e[226]!==Fl||e[227]!==El?(re=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Ms,t.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:Fl,children:El})]}),e[226]=Fl,e[227]=El,e[228]=re):re=e[228];let ne;e[229]!==pl||e[230]!==ae||e[231]!==re?(ne=t.jsxs(Xe,{className:"rounded-3xl sm:max-w-[500px]",children:[ks,t.jsxs("form",{onSubmit:pl,className:"space-y-6",children:[ae,re]})]}),e[229]=pl,e[230]=ae,e[231]=re,e[232]=ne):ne=e[232];let Is;e[233]!==hl||e[234]!==ne?(Is=t.jsx(Ze,{open:hl,onOpenChange:Qe,children:ne}),e[233]=hl,e[234]=ne,e[235]=Is):Is=e[235];let Fs;e[236]===Symbol.for("react.memo_cache_sentinel")?(Fs=t.jsx(Je,{children:t.jsx(We,{className:"text-2xl font-black",children:"Nouveau Caissier"})}),e[236]=Fs):Fs=e[236];let Es;e[237]===Symbol.for("react.memo_cache_sentinel")?(Es=t.jsx(g,{children:"Nom complet"}),e[237]=Es):Es=e[237];let ce;e[238]!==r?(ce=s=>Te({...r,name:s.target.value}),e[238]=r,e[239]=ce):ce=e[239];let oe;e[240]!==r.name||e[241]!==ce?(oe=t.jsxs("div",{className:"space-y-2",children:[Es,t.jsx(C,{value:r.name,onChange:ce,placeholder:"ex: Jean Dupont",className:"rounded-xl",required:!0})]}),e[240]=r.name,e[241]=ce,e[242]=oe):oe=e[242];let Ds;e[243]===Symbol.for("react.memo_cache_sentinel")?(Ds=t.jsx(g,{children:"Email"}),e[243]=Ds):Ds=e[243];let de;e[244]!==r?(de=s=>Te({...r,email:s.target.value}),e[244]=r,e[245]=de):de=e[245];let me;e[246]!==r.email||e[247]!==de?(me=t.jsxs("div",{className:"space-y-2",children:[Ds,t.jsx(C,{type:"email",value:r.email,onChange:de,placeholder:"jean.dupont@example.com",className:"rounded-xl",required:!0})]}),e[246]=r.email,e[247]=de,e[248]=me):me=e[248];let zs;e[249]===Symbol.for("react.memo_cache_sentinel")?(zs=t.jsx(g,{children:"Mot de passe"}),e[249]=zs):zs=e[249];let ue;e[250]!==r?(ue=s=>Te({...r,password:s.target.value}),e[250]=r,e[251]=ue):ue=e[251];let he;e[252]!==r.password||e[253]!==ue?(he=t.jsxs("div",{className:"space-y-2",children:[zs,t.jsx(C,{type:"password",value:r.password,onChange:ue,className:"rounded-xl",required:!0})]}),e[252]=r.password,e[253]=ue,e[254]=he):he=e[254];let Ks;e[255]===Symbol.for("react.memo_cache_sentinel")?(Ks=t.jsx(g,{children:"Assigner à un guichet (optionnel)"}),e[255]=Ks):Ks=e[255];let xe;e[256]!==r?(xe=s=>Te({...r,counter_id:s==="none"?"":s}),e[256]=r,e[257]=xe):xe=e[257];let Vs;e[258]===Symbol.for("react.memo_cache_sentinel")?(Vs=t.jsx(Hl,{className:"rounded-xl",children:t.jsx(Ol,{placeholder:"Choisir un guichet (optionnel)"})}),e[258]=Vs):Vs=e[258];let Ls;e[259]===Symbol.for("react.memo_cache_sentinel")?(Ls=t.jsx(Ve,{value:"none",children:"Ne pas assigner pour le moment"}),e[259]=Ls):Ls=e[259];let fe;e[260]!==h?(fe=h?.map(ki),e[260]=h,e[261]=fe):fe=e[261];let pe;e[262]!==fe?(pe=t.jsxs(Ql,{children:[Ls,fe]}),e[262]=fe,e[263]=pe):pe=e[263];let ge;e[264]!==r.counter_id||e[265]!==xe||e[266]!==pe?(ge=t.jsxs(Ul,{value:r.counter_id,onValueChange:xe,children:[Vs,pe]}),e[264]=r.counter_id,e[265]=xe,e[266]=pe,e[267]=ge):ge=e[267];let Ts;e[268]===Symbol.for("react.memo_cache_sentinel")?(Ts=t.jsx("p",{className:"text-xs text-slate-500",children:"Seuls les guichets libres peuvent être sélectionnés."}),e[268]=Ts):Ts=e[268];let be;e[269]!==ge?(be=t.jsxs("div",{className:"space-y-2",children:[Ks,ge,Ts]}),e[269]=ge,e[270]=be):be=e[270];let Gs;e[271]===Symbol.for("react.memo_cache_sentinel")?(Gs=t.jsx(o,{type:"button",variant:"outline",onClick:()=>ct(!1),className:"rounded-xl",children:"Annuler"}),e[271]=Gs):Gs=e[271];const Dl=S.isPending?"Création...":"Créer le caissier";let je;e[272]!==S.isPending||e[273]!==Dl?(je=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Gs,t.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:S.isPending,children:Dl})]}),e[272]=S.isPending,e[273]=Dl,e[274]=je):je=e[274];let ye;e[275]!==nl||e[276]!==oe||e[277]!==me||e[278]!==he||e[279]!==be||e[280]!==je?(ye=t.jsxs(Xe,{className:"rounded-3xl",children:[Fs,t.jsxs("form",{onSubmit:nl,className:"space-y-4",children:[oe,me,he,be,je]})]}),e[275]=nl,e[276]=oe,e[277]=me,e[278]=he,e[279]=be,e[280]=je,e[281]=ye):ye=e[281];let Us;e[282]!==rl||e[283]!==ye?(Us=t.jsx(Ze,{open:rl,onOpenChange:ct,children:ye}),e[282]=rl,e[283]=ye,e[284]=Us):Us=e[284];let Qs;e[285]===Symbol.for("react.memo_cache_sentinel")?(Qs=t.jsx(Je,{children:t.jsx(We,{className:"text-2xl font-black",children:"Nouveau Guichet"})}),e[285]=Qs):Qs=e[285];let Hs;e[286]===Symbol.for("react.memo_cache_sentinel")?(Hs=t.jsx(g,{children:"Numéro du Guichet"}),e[286]=Hs):Hs=e[286];let ve;e[287]!==u?(ve=s=>el({...u,counter_number:parseInt(s.target.value)}),e[287]=u,e[288]=ve):ve=e[288];let Ne;e[289]!==u.counter_number||e[290]!==ve?(Ne=t.jsxs("div",{className:"space-y-2",children:[Hs,t.jsx(C,{type:"number",min:"1",value:u.counter_number,onChange:ve,className:"rounded-xl",required:!0})]}),e[289]=u.counter_number,e[290]=ve,e[291]=Ne):Ne=e[291];let Os;e[292]===Symbol.for("react.memo_cache_sentinel")?(Os=t.jsx(g,{children:"Nom du Guichet"}),e[292]=Os):Os=e[292];let _e;e[293]!==u?(_e=s=>el({...u,name:s.target.value}),e[293]=u,e[294]=_e):_e=e[294];let we;e[295]!==u.name||e[296]!==_e?(we=t.jsxs("div",{className:"space-y-2",children:[Os,t.jsx(C,{value:u.name,onChange:_e,placeholder:"ex: Guichet Principal",className:"rounded-xl",required:!0})]}),e[295]=u.name,e[296]=_e,e[297]=we):we=e[297];let $s;e[298]===Symbol.for("react.memo_cache_sentinel")?($s=t.jsx(o,{type:"button",variant:"outline",onClick:()=>Le(!1),className:"rounded-xl",children:"Annuler"}),e[298]=$s):$s=e[298];const zl=w.isPending?"Création...":"Créer";let Se;e[299]!==w.isPending||e[300]!==zl?(Se=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[$s,t.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:w.isPending,children:zl})]}),e[299]=w.isPending,e[300]=zl,e[301]=Se):Se=e[301];let Ce;e[302]!==al||e[303]!==Ne||e[304]!==we||e[305]!==Se?(Ce=t.jsxs(Xe,{className:"rounded-3xl",children:[Qs,t.jsxs("form",{onSubmit:al,className:"space-y-4",children:[Ne,we,Se]})]}),e[302]=al,e[303]=Ne,e[304]=we,e[305]=Se,e[306]=Ce):Ce=e[306];let Rs;e[307]!==Js||e[308]!==Ce?(Rs=t.jsx(Ze,{open:Js,onOpenChange:Le,children:Ce}),e[307]=Js,e[308]=Ce,e[309]=Rs):Rs=e[309];const Kl=Ze,Vl=Xe,ui="rounded-3xl";let ke;e[310]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(Je,{children:t.jsx(We,{className:"text-2xl font-black",children:"Assigner un Caissier"})}),e[310]=ke):ke=e[310];const hi="space-y-4",xi="space-y-2";let Ae;e[311]===Symbol.for("react.memo_cache_sentinel")?(Ae=t.jsx(g,{children:"Sélectionner un caissier"}),e[311]=Ae):Ae=e[311];const Ll=Ul;let qe;e[312]!==_?.cashier_id?(qe=_?.cashier_id?.toString()||"",e[312]=_?.cashier_id,e[313]=qe):qe=e[313];let Pe;e[314]!==cl?(Pe=s=>cl(s&&s!=="unassign"?parseInt(s):null),e[314]=cl,e[315]=Pe):Pe=e[315];let Me;e[316]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx(Hl,{className:"rounded-xl",children:t.jsx(Ol,{placeholder:"Choisir un caissier"})}),e[316]=Me):Me=e[316];const Tl=Ql;let Ie;e[317]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(Ve,{value:"unassign",children:"Aucun (désassigner)"}),e[317]=Ie):Ie=e[317];const Gl=Jl?.map(Ci);let Fe;e[318]!==Tl||e[319]!==Ie||e[320]!==Gl?(Fe=t.jsxs(Tl,{children:[Ie,Gl]}),e[318]=Tl,e[319]=Ie,e[320]=Gl,e[321]=Fe):Fe=e[321];let Ee;e[322]!==Ll||e[323]!==qe||e[324]!==Pe||e[325]!==Me||e[326]!==Fe?(Ee=t.jsxs(Ll,{value:qe,onValueChange:Pe,children:[Me,Fe]}),e[322]=Ll,e[323]=qe,e[324]=Pe,e[325]=Me,e[326]=Fe,e[327]=Ee):Ee=e[327];let De;e[328]!==Ae||e[329]!==Ee?(De=t.jsx("div",{className:hi,children:t.jsxs("div",{className:xi,children:[Ae,Ee]})}),e[328]=Ae,e[329]=Ee,e[330]=De):De=e[330];let ze;e[331]!==Vl||e[332]!==ke||e[333]!==De?(ze=t.jsxs(Vl,{className:ui,children:[ke,De]}),e[331]=Vl,e[332]=ke,e[333]=De,e[334]=ze):ze=e[334];let Bs;return e[335]!==Kl||e[336]!==Ws||e[337]!==ze?(Bs=t.jsx(Kl,{open:Ws,onOpenChange:Ys,children:ze}),e[335]=Kl,e[336]=Ws,e[337]=ze,e[338]=Bs):Bs=e[338],t.jsxs($l,{currentPageName:"Manager",children:[Vt,t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/30 px-6 py-8 md:px-10",children:[Bt,t.jsxs("div",{className:"mb-10 grid grid-cols-1 gap-6 md:grid-cols-3",children:[Yt,as,t.jsx(v.div,{initial:rs,animate:ns,transition:cs,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[os,t.jsxs("div",{children:[ds,t.jsx("p",{className:"text-2xl font-black text-slate-900",children:Jl?.length||0})]})]})})]}),us,js,Cs,Is,Us,Rs,Bs]})]})}function Ci(l){return t.jsx(Ve,{value:l.id.toString(),children:l.name},l.id)}function ki(l){return t.jsxs(Ve,{value:l.id.toString(),disabled:!!l.cashier_id,className:l.cashier_id?"text-slate-400":"",children:[l.counter_number," -"," ",l.name,l.cashier_id?" (Occupé)":" (Libre)"]},l.id)}function Ai(l){return l.target.pause()}function qi(l){return l.target.play()}function Pi(l){return l.cashier_id}function Mi(l){return l.is_active}function Ii(l){d.error(l.response?.data?.message||"Erreur lors de la création de la publicité")}function Fi(){d.error("Erreur lors de la suppression")}function Ei(l){return m.entities.News.delete(l)}function Di(){d.error("Erreur lors de la mise à jour")}function zi(l){const{id:e,data:N}=l;return m.entities.News.update(e,N)}function Ki(){d.error("Erreur lors de la création de l'information")}function Vi(l){return m.entities.News.create(l)}function Li(){d.error("Erreur lors de la suppression")}function Ti(l){return m.entities.Advertisement.delete(l)}function Gi(){d.error("Erreur lors de la mise à jour")}function Ui(l){const{id:e,data:N}=l;return m.entities.Advertisement.update(e,N)}function Qi(l){d.error(l.response?.data?.message||"Erreur lors de la création du caissier")}function Hi(){d.error("Erreur lors de la suppression du guichet")}function Oi(l){return m.entities.Counter.delete(l)}function $i(){d.error("Erreur lors de la mise à jour du guichet")}function Ri(l){const{id:e,data:N}=l;return m.entities.Counter.update(e,N)}function Bi(l){d.error(l.response?.data?.message||"Erreur lors de la création du guichet")}export{ma as default};

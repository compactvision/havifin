import{c as ae,r as O,j as t}from"./app-6bs8d8QB.js";import{m as a,b as J}from"./createLucideIcon-dTi0n6Eb.js";import{h as $,u as G,U as L}from"./moment-CGdtcj-u.js";import{C as Q,A as X}from"./clock-of5YTFl6.js";import{V as re}from"./volume-2-DXd43bZ3.js";/* empty css            */const W={mpesa:"M-Pesa",orange_money:"Orange Money",airtel_money:"Airtel Money",afrimoney:"Afrimoney",rawbank:"Rawbank",equity_bcdc:"Equity BCDC",tmb:"TMB",fbn_bank:"FBN Bank"};function ue(){const e=ae.c(56);let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=$(),e[0]=i):i=e[0];const[r,Z]=O.useState(i);let N,_;e[1]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{const V=setInterval(()=>{Z($())},1e3);return()=>clearInterval(V)},_=[],e[1]=N,e[2]=_):(N=e[1],_=e[2]),O.useEffect(N,_);let k;e[3]===Symbol.for("react.memo_cache_sentinel")?(k={queryKey:["called-clients"],queryFn:de,refetchInterval:3e3},e[3]=k):k=e[3];const{data:P}=G(k),z=P===void 0?[]:P;let S;e[4]===Symbol.for("react.memo_cache_sentinel")?(S={queryKey:["waiting-clients"],queryFn:oe,refetchInterval:3e3},e[4]=S):S=e[4];const{data:E}=G(S);let I;e[5]!==E?(I=E===void 0?[]:E,e[5]=E,e[6]=I):I=e[6];const l=I,s=z[0];O.useEffect(()=>{if(!s){window.speechSynthesis.cancel();return}const V=()=>{window.speechSynthesis.cancel();const ie=`Ticket ${s.ticket_number}`,Y=new SpeechSynthesisUtterance(ie);Y.lang="fr-FR",Y.rate=.9,Y.pitch=1.1,window.speechSynthesis.speak(Y)};V();const le=setInterval(V,1e4);return()=>{clearInterval(le),window.speechSynthesis.cancel()}},[s?.id,s?.ticket_number]);const ee="relative min-h-screen overflow-hidden bg-gradient-to-br from-[#0a0e27] via-[#1a1b41] to-[#0a0e27] text-white selection:bg-[#00e2f6] selection:text-[#1f61e4]";let n,c;e[7]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("div",{className:"pointer-events-none absolute top-[-20%] left-[-10%] h-[50%] w-[50%] rounded-full bg-[#1f61e4]/20 blur-[150px]"}),n=t.jsx("div",{className:"pointer-events-none absolute right-[-10%] bottom-[-20%] h-[50%] w-[50%] rounded-full bg-[#bf15cf]/20 blur-[150px]"}),e[7]=n,e[8]=c):(n=e[7],c=e[8]);let C;e[9]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx("img",{src:"/logo.png",alt:"Havifin",className:"h-16 w-16 object-contain drop-shadow-[0_0_15px_rgba(31,97,228,0.5)]"}),e[9]=C):C=e[9];let T;e[10]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsxs("div",{className:"flex items-center gap-6",children:[C,t.jsxs("div",{children:[t.jsxs("h1",{className:"flex items-center gap-2 text-4xl font-black tracking-tight",children:["HAVIFIN"," ",t.jsx("span",{className:"font-light text-[#00e2f6]",children:"EXCHANGE"})]}),t.jsx("p",{className:"text-lg font-light tracking-wider text-white/60",children:"Bienvenue - Karibu"})]})]}),e[10]=T):T=e[10];let A;e[11]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(Q,{className:"h-8 w-8"}),e[11]=A):A=e[11];let o;e[12]!==r?(o=r.format("HH:mm"),e[12]=r,e[13]=o):o=e[13];let d;e[14]!==o?(d=t.jsxs("div",{className:"flex items-center gap-3 text-[#00e2f6]",children:[A,t.jsx("span",{className:"font-mono text-5xl font-bold tracking-tight text-white drop-shadow-lg",children:o})]}),e[14]=o,e[15]=d):d=e[15];let m;e[16]!==r?(m=r.format("dddd, D MMMM YYYY"),e[16]=r,e[17]=m):m=e[17];let x;e[18]!==m?(x=t.jsx("p",{className:"mt-1 text-base tracking-widest text-white/50 uppercase",children:m}),e[18]=m,e[19]=x):x=e[19];let h;e[20]!==d||e[21]!==x?(h=t.jsx("div",{className:"sticky top-0 z-50 border-b border-white/10 bg-white/5 px-10 py-6 backdrop-blur-md",children:t.jsxs("div",{className:"mx-auto flex w-full items-center justify-between",children:[T,t.jsxs("div",{className:"text-right",children:[d,x]})]})}),e[20]=d,e[21]=x,e[22]=h):h=e[22];const te="grid h-[calc(100vh-120px)] grid-cols-1 gap-8 p-8 lg:grid-cols-12",se="flex flex-col gap-6 lg:col-span-8";let M,F;e[23]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx("div",{className:"absolute top-0 right-0 h-96 w-96 translate-x-1/2 -translate-y-1/2 rounded-full bg-[#00e2f6]/20 blur-3xl"}),F=t.jsx("div",{className:"absolute bottom-0 left-0 h-80 w-80 -translate-x-1/2 translate-y-1/2 rounded-full bg-[#bf15cf]/30 blur-3xl"}),e[23]=M,e[24]=F):(M=e[23],F=e[24]);let q;e[25]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx("div",{className:"absolute top-0 left-0",children:t.jsxs("div",{className:"flex items-center gap-3 rounded-full border border-white/20 bg-white/20 px-6 py-3 shadow-lg backdrop-blur-md",children:[t.jsx(re,{className:"h-6 w-6 animate-pulse text-white"}),t.jsx("span",{className:"text-sm font-bold tracking-widest text-white uppercase",children:"En cours d'appel"})]})}),e[25]=q):q=e[25];const K=s?t.jsxs(a.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:1.1,filter:"blur(10px)"},className:"py-8 text-center",children:[t.jsx(a.div,{animate:{scale:[1,1.05,1],textShadow:["0 0 20px rgba(255,255,255,0.2)","0 0 40px rgba(255,255,255,0.5)","0 0 20px rgba(255,255,255,0.2)"]},transition:{repeat:1/0,duration:3,ease:"easeInOut"},className:"text-[14rem] leading-none font-black tracking-tighter text-white drop-shadow-2xl",children:s.ticket_number}),t.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-8 inline-block rounded-2xl bg-black/20 px-8 py-3 text-4xl font-bold text-white/90 backdrop-blur-sm",children:s.phone}),t.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-4 text-2xl text-[#00e2f6]",children:W[s.service]||s.service})]},s.id):t.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},className:"py-16 text-center",children:[t.jsx("div",{className:"text-6xl font-black tracking-tight text-white/20",children:"EN ATTENTE"}),t.jsx("p",{className:"mt-4 text-xl text-white/40",children:"Veuillez patienter un instant"})]});let f;e[26]!==K?(f=t.jsxs("div",{className:"relative flex flex-1 flex-col items-center justify-center overflow-hidden rounded-[3rem] border border-white/10 bg-gradient-to-br from-[#1f61e4] to-[#2000ff] p-12 shadow-[0_20px_60px_-15px_rgba(31,97,228,0.5)]",children:[M,F,t.jsxs("div",{className:"relative z-10 w-full",children:[q,t.jsx(X,{mode:"wait",children:K})]})]}),e[26]=K,e[27]=f):f=e[27];const U=z.length>1&&t.jsxs("div",{className:"flex h-48 flex-col justify-center rounded-[2rem] border border-white/10 bg-white/5 p-6 shadow-lg backdrop-blur-xl",children:[t.jsxs("h3",{className:"mb-4 flex items-center gap-2 px-2 text-lg text-xs font-bold tracking-widest text-white/50 uppercase",children:[t.jsx(Q,{className:"h-4 w-4"}),"Récemment appelés"]}),t.jsx("div",{className:"scrollbar-hide flex gap-6 overflow-x-auto pb-2",children:z.slice(1).map(ce)})]});let p;e[28]!==f||e[29]!==U?(p=t.jsxs("div",{className:se,children:[f,U]}),e[28]=f,e[29]=U,e[30]=p):p=e[30];let B;e[31]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("div",{className:"absolute top-0 right-0 h-2 w-full bg-gradient-to-r from-transparent via-[#00e2f6] to-transparent opacity-50"}),e[31]=B):B=e[31];let H,R;e[32]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("div",{className:"rounded-2xl bg-[#1f61e4] p-3 shadow-lg shadow-[#1f61e4]/40",children:t.jsx(L,{className:"h-6 w-6 text-white"})}),R=t.jsx("h2",{className:"text-2xl font-black tracking-tight",children:"FILE D'ATTENTE"}),e[32]=H,e[33]=R):(H=e[32],R=e[33]);let b;e[34]!==l.length?(b=t.jsxs("div",{className:"mb-8 flex items-center gap-4",children:[H,t.jsxs("div",{children:[R,t.jsxs("p",{className:"text-sm font-medium text-[#00e2f6]",children:[l.length," personnes en attente"]})]})]}),e[34]=l.length,e[35]=b):b=e[35];let u;e[36]!==l?(u=l.map(ne),e[36]=l,e[37]=u):u=e[37];let g;e[38]!==u?(g=t.jsx(X,{children:u}),e[38]=u,e[39]=g):g=e[39];let w;e[40]!==l.length?(w=l.length===0&&t.jsxs("div",{className:"flex flex-col items-center py-20 text-center text-white/20",children:[t.jsx(L,{className:"mb-4 h-16 w-16 opacity-50"}),t.jsx("p",{className:"text-xl font-light",children:"File d'attente vide"})]}),e[40]=l.length,e[41]=w):w=e[41];let v;e[42]!==g||e[43]!==w?(v=t.jsxs("div",{className:"custom-scrollbar flex-1 space-y-4 overflow-y-auto pr-2",children:[g,w]}),e[42]=g,e[43]=w,e[44]=v):v=e[44];let y;e[45]!==b||e[46]!==v?(y=t.jsxs("div",{className:"relative flex h-full flex-col overflow-hidden rounded-[2.5rem] border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur-xl lg:col-span-4",children:[B,b,v]}),e[45]=b,e[46]=v,e[47]=y):y=e[47];let j;e[48]!==p||e[49]!==y?(j=t.jsxs("div",{className:te,children:[p,y]}),e[48]=p,e[49]=y,e[50]=j):j=e[50];let D;return e[51]!==n||e[52]!==h||e[53]!==j||e[54]!==c?(D=t.jsxs("div",{className:ee,children:[c,n,h,j]}),e[51]=n,e[52]=h,e[53]=j,e[54]=c,e[55]=D):D=e[55],D}function ne(e,i){return t.jsxs(a.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:i*.05},className:"flex transform items-center justify-between rounded-2xl border-l-4 border-[#bf15cf] bg-gradient-to-r from-white/5 to-white/0 p-5 shadow-sm transition-transform hover:scale-[1.02] hover:from-white/10",children:[t.jsxs("div",{className:"flex items-center gap-5",children:[t.jsx("div",{className:"font-mono text-3xl font-black tracking-tight text-white",children:e.ticket_number}),t.jsxs("div",{children:[t.jsx("div",{className:"text-lg font-bold text-white/90",children:e.phone}),t.jsx("div",{className:"mt-0.5 text-xs font-bold tracking-wider text-[#00e2f6] uppercase",children:W[e.service]||e.service})]})]}),t.jsxs("div",{className:"text-sm font-bold text-white/20",children:["#",i+1]})]},e.id)}function ce(e){return t.jsxs(a.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"min-w-[140px] flex-shrink-0 rounded-2xl border border-white/5 bg-white/5 px-8 py-4 text-center transition-colors hover:bg-white/10",children:[t.jsx("div",{className:"text-3xl font-black text-[#00e2f6]",children:e.ticket_number}),t.jsx("div",{className:"mt-1 font-mono text-sm text-white/40",children:e.phone.slice(-4)})]},e.id)}function oe(){return J.entities.Client.filter({status:"waiting"},"created_date",10)}function de(){return J.entities.Client.filter({status:"called"},"-called_at",5)}export{ue as default};

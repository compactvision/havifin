import{c as ji,a as yi,u as vi,r as h,j as t,L as ni,H as Ni}from"./app-D31HC_Sl.js";import{u as We,b as m,M as _i}from"./base44Client-BXERoC8N.js";import{B as Zs}from"./badge-CcJndd49.js";import{B as o,t as d}from"./index-0Jm3yqpY.js";import{c as Ye,d as Ze,D as et,a as tt}from"./index-B9nJ_I7N.js";import{I as k,L as g}from"./label-Df2h2xVm.js";import{S as Ol,c as $l,a as Rl,b as Bl,d as Ge}from"./select-BEh6GOZj.js";import{S as ci,A as Xl}from"./app-main-DHoR6p_y.js";import{c as Zl,m as N,b as oi}from"./createLucideIcon-k2-sdhOU.js";import{u as j}from"./check-BEyjnXs3.js";import{A as wi}from"./arrow-left-YBbWm0wS.js";import{T as Jl}from"./trash-2-DW-VqWBk.js";import{P as Ve}from"./plus-CgqH9rHS.js";import{N as di}from"./newspaper-DuwhjE9d.js";import{U as Si}from"./users-DazHaVCH.js";/* empty css            */const Ci=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wl=Zl("Image",Ci);const ki=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Yl=Zl("UserCheck",ki);const Ai=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],qi=Zl("UserX",Ai);function fa(l){const e=ji.c(347),{id:_}=l,{auth:v}=yi().props,a=parseInt(_),i=vi(),[el,Ue]=h.useState(!1);h.useState(null);const[tl,sl]=h.useState(!1),[w,ei]=h.useState(null);let st;e[0]===Symbol.for("react.memo_cache_sentinel")?(st={counter_number:1,name:""},e[0]=st):st=e[0];const[u,ll]=h.useState(st);let lt;e[1]===Symbol.for("react.memo_cache_sentinel")?(lt={queryKey:["shops"],queryFn:m.entities.Shop.list},e[1]=lt):lt=e[1];const{data:il,isLoading:mi}=We(lt);let it;e[2]!==il||e[3]!==a?(it=il?.find(s=>s.id===a),e[2]=il,e[3]=a,e[4]=it):it=e[4];const y=it;let A,q;e[5]!==a?(A=["counters",a],q=()=>m.entities.Counter.list(a),e[5]=a,e[6]=A,e[7]=q):(A=e[6],q=e[7]);const al=!!a;let at;e[8]!==A||e[9]!==q||e[10]!==al?(at={queryKey:A,queryFn:q,enabled:al},e[8]=A,e[9]=q,e[10]=al,e[11]=at):at=e[11];const{data:x,isLoading:ui}=We(at);let rt;e[12]===Symbol.for("react.memo_cache_sentinel")?(rt={queryKey:["users"],queryFn:m.entities.User.list},e[12]=rt):rt=e[12];const{data:xi}=We(rt),ti=xi?.filter(s=>s.role==="cashier"&&s.shops?.some(n=>n.id===a));let P;e[13]!==a?(P=s=>m.entities.Counter.create(a,s),e[13]=a,e[14]=P):P=e[14];let I;e[15]!==i||e[16]!==a?(I=()=>{i.invalidateQueries({queryKey:["counters",a]}),d.success("Guichet créé avec succès"),Ue(!1),ll({counter_number:1,name:""})},e[15]=i,e[16]=a,e[17]=I):I=e[17];let nt;e[18]!==I||e[19]!==P?(nt={mutationFn:P,onSuccess:I,onError:Yi},e[18]=I,e[19]=P,e[20]=nt):nt=e[20];const S=j(nt);let ct;e[21]!==i||e[22]!==a?(ct={mutationFn:Wi,onSuccess:()=>{i.invalidateQueries({queryKey:["counters",a]}),d.success("Guichet mis à jour avec succès"),sl(!1),ei(null)},onError:Ji},e[21]=i,e[22]=a,e[23]=ct):ct=e[23];const rl=j(ct);let ot;e[24]!==i||e[25]!==a?(ot={mutationFn:Xi,onSuccess:()=>{i.invalidateQueries({queryKey:["counters",a]}),d.success("Guichet supprimé avec succès")},onError:Bi},e[24]=i,e[25]=a,e[26]=ot):ot=e[26];const nl=j(ot);let dt;e[27]!==u||e[28]!==S?(dt=s=>{s.preventDefault(),S.mutate(u)},e[27]=u,e[28]=S,e[29]=dt):dt=e[29];const cl=dt,[ol,mt]=h.useState(!1);let ut;e[30]===Symbol.for("react.memo_cache_sentinel")?(ut={name:"",email:"",password:"",counter_id:""},e[30]=ut):ut=e[30];const[r,Qe]=h.useState(ut);let M;e[31]!==a?(M=async s=>{const n=await m.entities.User.create({name:s.name,email:s.email,password:s.password,role:"cashier",is_active:!0,shop_ids:[a]});return s.counter_id&&await m.entities.Counter.update(parseInt(s.counter_id),{cashier_id:n.id}),n},e[31]=a,e[32]=M):M=e[32];let F;e[33]!==i||e[34]!==a?(F=()=>{i.invalidateQueries({queryKey:["users"]}),i.invalidateQueries({queryKey:["counters",a]}),d.success("Caissier créé avec succès"),mt(!1),Qe({name:"",email:"",password:"",counter_id:""})},e[33]=i,e[34]=a,e[35]=F):F=e[35];let xt;e[36]!==M||e[37]!==F?(xt={mutationFn:M,onSuccess:F,onError:Ri},e[36]=M,e[37]=F,e[38]=xt):xt=e[38];const C=j(xt);let ht;e[39]!==r||e[40]!==C?(ht=s=>{s.preventDefault(),C.mutate(r)},e[39]=r,e[40]=C,e[41]=ht):ht=e[41];const dl=ht;let ft;e[42]!==w||e[43]!==rl?(ft=s=>{w&&rl.mutate({id:w.id,data:{cashier_id:s}})},e[42]=w,e[43]=rl,e[44]=ft):ft=e[44];const ml=ft,[ul,He]=h.useState(!1);let pt;e[45]===Symbol.for("react.memo_cache_sentinel")?(pt={title:"",type:"image",image_url:"",display_order:1},e[45]=pt):pt=e[45];const[c,xl]=h.useState(pt),[,si]=h.useState(null),[f,li]=h.useState(""),[,ii]=h.useState(null),[p,ai]=h.useState("");let gt;e[46]===Symbol.for("react.memo_cache_sentinel")?(gt={queryKey:["advertisements"],queryFn:m.entities.Advertisement.list},e[46]=gt):gt=e[46];const{data:bt}=We(gt);let jt;e[47]!==bt?(jt=bt===void 0?[]:bt,e[47]=bt,e[48]=jt):jt=e[48];const Oe=jt;let yt;e[49]===Symbol.for("react.memo_cache_sentinel")?(yt=s=>{const n=s.target.files?.[0];if(n){ii(n);const Je=URL.createObjectURL(n);ai(Je)}},e[49]=yt):yt=e[49];const hi=yt;let vt;e[50]!==i?(vt={mutationFn:$i,onSuccess:()=>{i.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité mise à jour")},onError:Oi},e[50]=i,e[51]=vt):vt=e[51];const hl=j(vt);let Nt;e[52]!==i?(Nt={mutationFn:Hi,onSuccess:()=>{i.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité supprimée")},onError:Qi},e[52]=i,e[53]=Nt):Nt=e[53];const fl=j(Nt);let _t;e[54]===Symbol.for("react.memo_cache_sentinel")?(_t=s=>{const n=s.target.files?.[0];if(n){si(n);const Je=new FileReader;Je.onloadend=()=>{li(Je.result)},Je.readAsDataURL(n)}},e[54]=_t):_t=e[54];const fi=_t,[pl,$e]=h.useState(!1);let wt;e[55]===Symbol.for("react.memo_cache_sentinel")?(wt={content:"",display_order:1},e[55]=wt):wt=e[55];const[b,ri]=h.useState(wt);let St;e[56]===Symbol.for("react.memo_cache_sentinel")?(St={queryKey:["news"],queryFn:m.entities.News.list},e[56]=St):St=e[56];const{data:Ct}=We(St);let kt;e[57]!==Ct?(kt=Ct===void 0?[]:Ct,e[57]=Ct,e[58]=kt):kt=e[58];const Re=kt;let At;e[59]!==i?(At={mutationFn:Ui,onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),d.success("Information ajoutée au défilé"),$e(!1),ri({content:"",display_order:1})},onError:Gi},e[59]=i,e[60]=At):At=e[60];const Be=j(At);let qt;e[61]!==i?(qt={mutationFn:Vi,onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),d.success("Information mise à jour")},onError:Ti},e[61]=i,e[62]=qt):qt=e[62];const gl=j(qt);let Pt;e[63]!==i?(Pt={mutationFn:Li,onSuccess:()=>{i.invalidateQueries({queryKey:["news"]}),d.success("Information supprimée")},onError:Ki},e[63]=i,e[64]=Pt):Pt=e[64];const bl=j(Pt);let It;e[65]!==Be||e[66]!==b?(It=s=>{s.preventDefault(),Be.mutate(b)},e[65]=Be,e[66]=b,e[67]=It):It=e[67];const jl=It;let Mt;e[68]!==gl?(Mt=s=>{gl.mutate({id:s.id,data:{is_active:!s.is_active}})},e[68]=gl,e[69]=Mt):Mt=e[69];const yl=Mt;let Ft;e[70]!==bl?(Ft=s=>{confirm("Supprimer cette information du défilé ?")&&bl.mutate(s.id)},e[70]=bl,e[71]=Ft):Ft=e[71];const vl=Ft;let E;e[72]!==f||e[73]!==p?(E=async s=>{const n=s.type==="video"?p:f;return m.entities.Advertisement.create({title:s.title,type:s.type,image_url:s.image_url||n,display_order:s.display_order,is_active:!0})},e[72]=f,e[73]=p,e[74]=E):E=e[74];let D;e[75]!==i?(D=()=>{i.invalidateQueries({queryKey:["advertisements"]}),d.success("Publicité créée avec succès"),He(!1),xl({title:"",type:"image",image_url:"",display_order:1}),si(null),li(""),ii(null),ai("")},e[75]=i,e[76]=D):D=e[76];let Et;e[77]!==E||e[78]!==D?(Et={mutationFn:E,onSuccess:D,onError:zi},e[77]=E,e[78]=D,e[79]=Et):Et=e[79];const Xe=j(Et);let Dt;e[80]!==c||e[81]!==Xe?(Dt=s=>{s.preventDefault(),Xe.mutate(c)},e[80]=c,e[81]=Xe,e[82]=Dt):Dt=e[82];const Nl=Dt;let zt;e[83]!==hl?(zt=s=>{hl.mutate({id:s.id,data:{is_active:!s.is_active}})},e[83]=hl,e[84]=zt):zt=e[84];const _l=zt;let Kt;e[85]!==fl?(Kt=s=>{confirm(`Supprimer la publicité "${s.title}" ?`)&&fl.mutate(s.id)},e[85]=fl,e[86]=Kt):Kt=e[86];const wl=Kt;let Lt;e[87]!==nl?(Lt=s=>{confirm(`Êtes-vous sûr de vouloir supprimer le guichet "${s.name}" ?`)&&nl.mutate(s.id)},e[87]=nl,e[88]=Lt):Lt=e[88];const Sl=Lt;if(mi||ui){let s;return e[89]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx(Xl,{currentPageName:"Manager",children:t.jsx("div",{className:"flex h-screen items-center justify-center",children:t.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-indigo-600 border-t-transparent"})})}),e[89]=s):s=e[89],s}if(!y){let s;e[90]===Symbol.for("react.memo_cache_sentinel")?(s=t.jsx("h2",{className:"mb-4 text-2xl font-black text-slate-900",children:"Boutique introuvable"}),e[90]=s):s=e[90];let n;return e[91]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(Xl,{currentPageName:"Manager",children:t.jsxs("div",{className:"flex h-screen flex-col items-center justify-center",children:[s,t.jsx(ni,{href:"/manager/shops",children:t.jsx(o,{children:"Retour aux boutiques"})})]})}),e[91]=n):n=e[91],n}let Tt;e[92]!==x?(Tt=x?.filter(Di)||[],e[92]=x,e[93]=Tt):Tt=e[93];const Cl=Tt;let Vt;e[94]!==x?(Vt=x?.filter(Ei)||[],e[94]=x,e[95]=Vt):Vt=e[95];const kl=Vt,Al=`Gestion - ${y.name}`;let Gt;e[96]!==Al?(Gt=t.jsx(Ni,{title:Al}),e[96]=Al,e[97]=Gt):Gt=e[97];let Ut;e[98]===Symbol.for("react.memo_cache_sentinel")?(Ut={x:-4},e[98]=Ut):Ut=e[98];let Qt,Ht;e[99]===Symbol.for("react.memo_cache_sentinel")?(Qt=t.jsx(ni,{href:"/manager/shops",children:t.jsx(N.div,{whileHover:Ut,children:t.jsx(o,{variant:"ghost",size:"icon",className:"h-12 w-12 rounded-2xl border border-white/40 bg-white/50 shadow-sm backdrop-blur-md hover:bg-white/80",children:t.jsx(wi,{className:"h-5 w-5 text-indigo-600"})})})}),Ht=t.jsx("div",{className:"h-10 w-[1px] bg-indigo-100"}),e[99]=Qt,e[100]=Ht):(Qt=e[99],Ht=e[100]);let Ot;e[101]===Symbol.for("react.memo_cache_sentinel")?(Ot={scale:1.02},e[101]=Ot):Ot=e[101];let $t;e[102]===Symbol.for("react.memo_cache_sentinel")?($t=t.jsxs("div",{className:"flex items-center gap-4",children:[Qt,Ht,t.jsx(N.div,{whileHover:Ot,className:"relative flex h-16 w-38 items-center justify-center p-2",children:t.jsx("img",{src:"/logo-color.png",alt:"Havifin",className:"h-full w-full object-contain"})})]}),e[102]=$t):$t=e[102];let z;e[103]!==y.id?(z=()=>window.open(`/display?shop_id=${y.id}`,"_blank"),e[103]=y.id,e[104]=z):z=e[104];let Rt;e[105]===Symbol.for("react.memo_cache_sentinel")?(Rt=t.jsx(_i,{className:"mr-2 h-4 w-4"}),e[105]=Rt):Rt=e[105];let K;e[106]!==z?(K=t.jsxs(o,{onClick:z,variant:"outline",className:"h-12 rounded-2xl border border-purple-100 bg-purple-50/50 px-6 font-bold text-purple-600 hover:bg-purple-100/50",children:[Rt,"Lancer l'écran TV"]}),e[106]=z,e[107]=K):K=e[107];let Bt;e[108]===Symbol.for("react.memo_cache_sentinel")?(Bt=()=>mt(!0),e[108]=Bt):Bt=e[108];let Xt;e[109]===Symbol.for("react.memo_cache_sentinel")?(Xt=t.jsxs(o,{onClick:Bt,className:"h-12 rounded-2xl border border-indigo-100 bg-indigo-50/50 px-6 font-bold text-indigo-600 hover:bg-indigo-100/50",children:[t.jsx(Yl,{className:"mr-2 h-4 w-4"}),"Nouveau Caissier"]}),e[109]=Xt):Xt=e[109];let Jt;e[110]===Symbol.for("react.memo_cache_sentinel")?(Jt=()=>Ue(!0),e[110]=Jt):Jt=e[110];const ql=(x?.length||0)>=y.counter_count;let Wt;e[111]===Symbol.for("react.memo_cache_sentinel")?(Wt=t.jsx(Ve,{className:"mr-2 h-4 w-4"}),e[111]=Wt):Wt=e[111];let L;e[112]!==ql?(L=t.jsxs(o,{onClick:Jt,disabled:ql,className:"h-12 rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/20 hover:shadow-xl active:scale-95",children:[Wt,"Nouveau Guichet"]}),e[112]=ql,e[113]=L):L=e[113];let T;e[114]!==K||e[115]!==L?(T=t.jsxs("div",{className:"flex gap-3",children:[K,Xt,L]}),e[114]=K,e[115]=L,e[116]=T):T=e[116];let V;e[117]!==v.user.name?(V=t.jsx("div",{className:"text-sm leading-none font-black text-slate-900",children:v.user.name}),e[117]=v.user.name,e[118]=V):V=e[118];const Pl=v.user.shop?`• ${v.user.shop}`:"";let G;e[119]!==v.user.role||e[120]!==Pl?(G=t.jsxs("div",{className:"mt-1 text-[9px] font-black tracking-widest text-slate-400 uppercase",children:[v.user.role," ",Pl]}),e[119]=v.user.role,e[120]=Pl,e[121]=G):G=e[121];let U;e[122]!==V||e[123]!==G?(U=t.jsx("div",{className:"flex items-center gap-4 border-l border-slate-200/50 pl-6",children:t.jsxs("div",{className:"flex flex-col items-end text-right",children:[V,G]})}),e[122]=V,e[123]=G,e[124]=U):U=e[124];let Yt;e[125]!==T||e[126]!==U?(Yt=t.jsxs("header",{className:"sticky top-0 z-50 mb-10 flex h-24 w-full flex-col gap-6 border-b border-white/20 bg-white/70 px-6 py-4 shadow-sm backdrop-blur-xl md:flex-row md:items-center md:justify-between md:px-10",children:[$t,t.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[T,U]})]}),e[125]=T,e[126]=U,e[127]=Yt):Yt=e[127];let Zt,es;e[128]===Symbol.for("react.memo_cache_sentinel")?(Zt={opacity:0,y:20},es={opacity:1,y:0},e[128]=Zt,e[129]=es):(Zt=e[128],es=e[129]);let ts,ss;e[130]===Symbol.for("react.memo_cache_sentinel")?(ts=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-indigo-100",children:t.jsx(ci,{className:"h-6 w-6 text-indigo-600"})}),ss=t.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Guichets Actifs"}),e[130]=ts,e[131]=ss):(ts=e[130],ss=e[131]);let ls;e[132]!==Cl.length||e[133]!==y.counter_count?(ls=t.jsx(N.div,{initial:Zt,animate:es,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[ts,t.jsxs("div",{children:[ss,t.jsxs("p",{className:"text-2xl font-black text-slate-900",children:[Cl.length," /"," ",y.counter_count]})]})]})}),e[132]=Cl.length,e[133]=y.counter_count,e[134]=ls):ls=e[134];let is,as,rs;e[135]===Symbol.for("react.memo_cache_sentinel")?(is={opacity:0,y:20},as={opacity:1,y:0},rs={delay:.1},e[135]=is,e[136]=as,e[137]=rs):(is=e[135],as=e[136],rs=e[137]);let ns,cs;e[138]===Symbol.for("react.memo_cache_sentinel")?(ns=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-100",children:t.jsx(Yl,{className:"h-6 w-6 text-emerald-600"})}),cs=t.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Guichets Assignés"}),e[138]=ns,e[139]=cs):(ns=e[138],cs=e[139]);let os;e[140]!==kl.length?(os=t.jsx(N.div,{initial:is,animate:as,transition:rs,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[ns,t.jsxs("div",{children:[cs,t.jsx("p",{className:"text-2xl font-black text-slate-900",children:kl.length})]})]})}),e[140]=kl.length,e[141]=os):os=e[141];let ds,ms,us;e[142]===Symbol.for("react.memo_cache_sentinel")?(ds={opacity:0,y:20},ms={opacity:1,y:0},us={delay:.2},e[142]=ds,e[143]=ms,e[144]=us):(ds=e[142],ms=e[143],us=e[144]);let xs,hs;e[145]===Symbol.for("react.memo_cache_sentinel")?(xs=t.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-purple-100",children:t.jsx(Si,{className:"h-6 w-6 text-purple-600"})}),hs=t.jsx("p",{className:"text-sm font-bold text-slate-500 uppercase",children:"Caissiers Disponibles"}),e[145]=xs,e[146]=hs):(xs=e[145],hs=e[146]);let fs;e[147]===Symbol.for("react.memo_cache_sentinel")?(fs=t.jsx("h2",{className:"mb-6 text-2xl font-black text-slate-900",children:"Configuration des Guichets"}),e[147]=fs):fs=e[147];let ps;e[148]!==x||e[149]!==Sl?(ps=t.jsxs("div",{children:[fs,x&&x.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:x.map((s,n)=>t.jsxs(N.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:n*.05},className:"group relative overflow-hidden rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[t.jsx("div",{children:t.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-indigo-500 to-purple-600 text-lg font-black text-white",children:s.counter_number}),t.jsx("h3",{className:"text-xl font-black text-slate-900",children:s.name})]})}),t.jsx(o,{variant:"ghost",size:"icon",onClick:()=>Sl(s),className:"h-8 w-8 text-slate-400 hover:text-red-600",children:t.jsx(Jl,{className:"h-4 w-4"})})]}),t.jsx("div",{className:"mb-4",children:s.cashier?t.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-emerald-50 p-3",children:[t.jsx(Yl,{className:"h-5 w-5 text-emerald-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs font-bold text-emerald-600 uppercase",children:"Caissier Assigné"}),t.jsx("p",{className:"font-bold text-slate-900",children:s.cashier.name})]})]}):t.jsxs("div",{className:"flex items-center gap-3 rounded-xl bg-slate-50 p-3",children:[t.jsx(qi,{className:"h-5 w-5 text-slate-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Non Assigné"}),t.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Aucun caissier"})]})]})}),t.jsx(o,{onClick:()=>{ei(s),sl(!0)},variant:"outline",className:"w-full rounded-xl border-slate-200 font-bold hover:border-indigo-500 hover:bg-indigo-50 hover:text-indigo-600",children:s.cashier?"Changer le caissier":"Assigner un caissier"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx(Zs,{className:`rounded-full px-2 py-1 text-xs font-black uppercase ${s.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"}`,children:s.is_active?"Actif":"Inactif"})})]},s.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-16 text-center",children:[t.jsx(ci,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("h3",{className:"mb-2 text-xl font-black text-slate-900",children:"Aucun guichet configuré"}),t.jsx("p",{className:"mb-6 text-slate-600",children:"Créez votre premier guichet pour commencer"}),t.jsxs(o,{onClick:()=>Ue(!0),className:"rounded-xl bg-indigo-600 font-bold",children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Créer un guichet"]})]})]}),e[148]=x,e[149]=Sl,e[150]=ps):ps=e[150];let gs;e[151]===Symbol.for("react.memo_cache_sentinel")?(gs=t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Publicités"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Gérez les publicités affichées sur l'écran TV"})]}),e[151]=gs):gs=e[151];let bs;e[152]===Symbol.for("react.memo_cache_sentinel")?(bs=()=>He(!0),e[152]=bs):bs=e[152];let js;e[153]===Symbol.for("react.memo_cache_sentinel")?(js=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[gs,t.jsxs(o,{onClick:bs,className:"h-12 rounded-2xl bg-gradient-to-r from-indigo-600 to-purple-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/30 hover:shadow-xl",children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Nouvelle Publicité"]})]}),e[153]=js):js=e[153];let Q;e[154]!==Oe||e[155]!==wl||e[156]!==_l?(Q=Oe&&Oe.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:Oe.map((s,n)=>t.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.05},className:"group relative overflow-hidden rounded-3xl border border-slate-200/60 bg-white shadow-sm transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"relative h-48 overflow-hidden bg-gradient-to-br from-indigo-100 to-purple-100",children:[s.image_url?s.type==="video"?t.jsx("video",{src:s.image_url,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110",muted:!0,loop:!0,onMouseOver:Fi,onMouseOut:Mi}):t.jsx("img",{src:s.image_url,alt:s.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-110"}):t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(Wl,{className:"h-16 w-16 text-indigo-300"})}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx(Zs,{className:oi("rounded-full px-3 py-1 text-xs font-black uppercase",s.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"),children:s.is_active?"Actif":"Inactif"})})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("h3",{className:"mb-4 text-xl font-black text-slate-900",children:s.title}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(o,{onClick:()=>_l(s),variant:"outline",size:"sm",className:"flex-1 rounded-xl font-bold",children:s.is_active?"Désactiver":"Activer"}),t.jsx(o,{onClick:()=>wl(s),variant:"ghost",size:"sm",className:"rounded-xl text-red-600 hover:bg-red-50 hover:text-red-700",children:t.jsx(Jl,{className:"h-4 w-4"})})]})]})]},s.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-16 text-center",children:[t.jsx(Wl,{className:"mb-4 h-16 w-16 text-slate-300"}),t.jsx("h3",{className:"mb-2 text-xl font-black text-slate-900",children:"Aucune publicité"}),t.jsx("p",{className:"mb-6 text-slate-600",children:"Créez votre première publicité pour l'écran TV"}),t.jsxs(o,{onClick:()=>He(!0),className:"rounded-xl bg-indigo-600 font-bold",children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Créer une publicité"]})]}),e[154]=Oe,e[155]=wl,e[156]=_l,e[157]=Q):Q=e[157];let ys;e[158]===Symbol.for("react.memo_cache_sentinel")?(ys=t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Défilé d'Informations (Ticker)"}),t.jsx(Zs,{className:"bg-indigo-100 text-[10px] font-black tracking-widest text-indigo-600 uppercase",children:"Nouveau"})]}),t.jsx("p",{className:"text-sm text-slate-500",children:"Gérez les messages qui défilent en bas de l'écran TV"})]}),e[158]=ys):ys=e[158];let vs;e[159]===Symbol.for("react.memo_cache_sentinel")?(vs=()=>$e(!0),e[159]=vs):vs=e[159];let Ns;e[160]===Symbol.for("react.memo_cache_sentinel")?(Ns=t.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[ys,t.jsxs(o,{onClick:vs,className:"h-12 rounded-2xl bg-indigo-600 px-6 font-bold text-white shadow-lg shadow-indigo-500/30 hover:shadow-xl",children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Ajouter une info"]})]}),e[160]=Ns):Ns=e[160];let H;e[161]!==Re||e[162]!==vl||e[163]!==yl?(H=t.jsxs("div",{className:"mt-20 mb-20",children:[Ns,Re&&Re.length>0?t.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:Re.map((s,n)=>t.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n*.05},className:"group relative flex flex-col justify-between rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition-all hover:shadow-md",children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[t.jsxs("span",{className:"text-[10px] font-black tracking-widest text-slate-400 uppercase",children:["Message #",n+1]}),t.jsx(Zs,{className:oi("rounded-full px-2 py-0.5 text-[9px] font-black uppercase",s.is_active?"bg-emerald-100 text-emerald-600":"bg-slate-100 text-slate-400"),children:s.is_active?"Visible":"Masqué"})]}),t.jsx("p",{className:"line-clamp-3 text-sm font-bold text-slate-700",children:s.content})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(o,{onClick:()=>yl(s),variant:"outline",size:"sm",className:"flex-1 rounded-xl text-xs font-black",children:s.is_active?"Masquer":"Afficher"}),t.jsx(o,{onClick:()=>vl(s),variant:"ghost",size:"sm",className:"h-9 w-9 rounded-xl p-0 text-red-500 hover:bg-red-50",children:t.jsx(Jl,{className:"h-4 w-4"})})]})]},s.id))}):t.jsxs("div",{className:"flex flex-col items-center justify-center rounded-3xl border-2 border-dashed border-slate-200 bg-white/50 p-12 text-center",children:[t.jsx(di,{className:"mb-4 h-12 w-12 text-slate-300"}),t.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Aucun message défilant"}),t.jsx("p",{className:"mb-6 text-sm text-slate-500",children:"Ajoutez des informations ou des promotions qui défileront en bas de l'écran."}),t.jsxs(o,{onClick:()=>$e(!0),className:"rounded-xl bg-indigo-600 px-6 font-bold",children:[t.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Créer le premier message"]})]})]}),e[161]=Re,e[162]=vl,e[163]=yl,e[164]=H):H=e[164];let _s;e[165]!==Q||e[166]!==H?(_s=t.jsxs("div",{className:"mt-16",children:[js,Q,H]}),e[165]=Q,e[166]=H,e[167]=_s):_s=e[167];let ws;e[168]===Symbol.for("react.memo_cache_sentinel")?(ws=t.jsx(et,{children:t.jsx(tt,{className:"text-2xl font-black",children:"Nouvelle Publicité"})}),e[168]=ws):ws=e[168];let Ss;e[169]===Symbol.for("react.memo_cache_sentinel")?(Ss=t.jsx(g,{children:"Titre de la publicité"}),e[169]=Ss):Ss=e[169];let O;e[170]!==c?(O=s=>xl({...c,title:s.target.value}),e[170]=c,e[171]=O):O=e[171];let $;e[172]!==c.title||e[173]!==O?($=t.jsxs("div",{className:"space-y-2",children:[Ss,t.jsx(k,{value:c.title,onChange:O,placeholder:"ex: Promotion Spéciale",className:"rounded-xl",required:!0})]}),e[172]=c.title,e[173]=O,e[174]=$):$=e[174];let Cs;e[175]===Symbol.for("react.memo_cache_sentinel")?(Cs=t.jsx(g,{children:"Type de contenu"}),e[175]=Cs):Cs=e[175];let R;e[176]!==c?(R=s=>xl({...c,type:s}),e[176]=c,e[177]=R):R=e[177];let ks;e[178]===Symbol.for("react.memo_cache_sentinel")?(ks=t.jsx(Rl,{className:"rounded-xl",children:t.jsx(Bl,{placeholder:"Choisir le type"})}),e[178]=ks):ks=e[178];let As;e[179]===Symbol.for("react.memo_cache_sentinel")?(As=t.jsxs($l,{className:"rounded-xl",children:[t.jsx(Ge,{value:"image",children:"Image"}),t.jsx(Ge,{value:"video",children:"Vidéo"})]}),e[179]=As):As=e[179];let B;e[180]!==c.type||e[181]!==R?(B=t.jsxs("div",{className:"space-y-2",children:[Cs,t.jsxs(Ol,{value:c.type,onValueChange:R,children:[ks,As]})]}),e[180]=c.type,e[181]=R,e[182]=B):B=e[182];let X;e[183]!==$||e[184]!==B?(X=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[$,B]}),e[183]=$,e[184]=B,e[185]=X):X=e[185];const Il=c.type==="image"?"Image":"Vidéo";let J;e[186]!==Il?(J=t.jsx(g,{children:Il}),e[186]=Il,e[187]=J):J=e[187];const Ml=c.type==="image"?"image/*":"video/*",Fl=c.type==="image"?fi:hi;let W;e[188]!==Ml||e[189]!==Fl?(W=t.jsx(k,{type:"file",accept:Ml,onChange:Fl,className:"rounded-xl"}),e[188]=Ml,e[189]=Fl,e[190]=W):W=e[190];let Y;e[191]!==c.type||e[192]!==f?(Y=c.type==="image"&&f&&t.jsx("div",{className:"relative overflow-hidden rounded-2xl border-2 border-dashed border-indigo-200 bg-indigo-50 p-4",children:t.jsx("img",{src:f,alt:"Preview",className:"h-48 w-full rounded-xl object-cover"})}),e[191]=c.type,e[192]=f,e[193]=Y):Y=e[193];let Z;e[194]!==c.type||e[195]!==p?(Z=c.type==="video"&&p&&t.jsx("div",{className:"relative overflow-hidden rounded-2xl border-2 border-dashed border-indigo-200 bg-indigo-50 p-4",children:t.jsx("video",{src:p,className:"h-48 w-full rounded-xl object-cover",controls:!0})}),e[194]=c.type,e[195]=p,e[196]=Z):Z=e[196];let ee;e[197]!==f||e[198]!==p?(ee=!f&&!p&&t.jsx("div",{className:"flex h-48 items-center justify-center rounded-2xl border-2 border-dashed border-slate-200 bg-slate-50",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Wl,{className:"mx-auto mb-2 h-12 w-12 text-slate-300"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Aucun fichier sélectionné"})]})}),e[197]=f,e[198]=p,e[199]=ee):ee=e[199];let te;e[200]!==W||e[201]!==Y||e[202]!==Z||e[203]!==ee?(te=t.jsxs("div",{className:"space-y-4",children:[W,Y,Z,ee]}),e[200]=W,e[201]=Y,e[202]=Z,e[203]=ee,e[204]=te):te=e[204];let se;e[205]!==J||e[206]!==te?(se=t.jsxs("div",{className:"space-y-2",children:[J,te]}),e[205]=J,e[206]=te,e[207]=se):se=e[207];let qs;e[208]===Symbol.for("react.memo_cache_sentinel")?(qs=t.jsx(o,{type:"button",variant:"outline",onClick:()=>He(!1),className:"rounded-xl",children:"Annuler"}),e[208]=qs):qs=e[208];const El=Xe.isPending||!f&&!p,Dl=Xe.isPending?"Création...":"Créer la publicité";let le;e[209]!==El||e[210]!==Dl?(le=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[qs,t.jsx(o,{type:"submit",className:"rounded-xl bg-purple-600",disabled:El,children:Dl})]}),e[209]=El,e[210]=Dl,e[211]=le):le=e[211];let ie;e[212]!==Nl||e[213]!==X||e[214]!==se||e[215]!==le?(ie=t.jsxs(Ye,{className:"rounded-3xl sm:max-w-[600px]",children:[ws,t.jsxs("form",{onSubmit:Nl,className:"space-y-6",children:[X,se,le]})]}),e[212]=Nl,e[213]=X,e[214]=se,e[215]=le,e[216]=ie):ie=e[216];let Ps;e[217]!==ul||e[218]!==ie?(Ps=t.jsx(Ze,{open:ul,onOpenChange:He,children:ie}),e[217]=ul,e[218]=ie,e[219]=Ps):Ps=e[219];let Is;e[220]===Symbol.for("react.memo_cache_sentinel")?(Is=t.jsx(et,{children:t.jsx(tt,{className:"text-2xl font-black",children:"Ajouter une Information"})}),e[220]=Is):Is=e[220];let Ms;e[221]===Symbol.for("react.memo_cache_sentinel")?(Ms=t.jsx(g,{children:"Message à faire défiler"}),e[221]=Ms):Ms=e[221];let ae;e[222]!==b?(ae=s=>ri({...b,content:s.target.value}),e[222]=b,e[223]=ae):ae=e[223];let re;e[224]!==b.content||e[225]!==ae?(re=t.jsx("textarea",{value:b.content,onChange:ae,placeholder:"ex: Bienvenue chez Havifin ! Profitez de nos taux exceptionnels aujourd'hui.",className:"min-h-[120px] w-full rounded-2xl border border-slate-200 p-4 text-sm focus:border-indigo-500 focus:ring-2 focus:ring-indigo-500/20 focus:outline-none",required:!0}),e[224]=b.content,e[225]=ae,e[226]=re):re=e[226];let Fs;e[227]===Symbol.for("react.memo_cache_sentinel")?(Fs=t.jsx("div",{className:"absolute top-4 right-4 text-slate-300",children:t.jsx(di,{className:"h-5 w-5"})}),e[227]=Fs):Fs=e[227];let ne;e[228]!==re?(ne=t.jsxs("div",{className:"relative",children:[re,Fs]}),e[228]=re,e[229]=ne):ne=e[229];let Es;e[230]===Symbol.for("react.memo_cache_sentinel")?(Es=t.jsx("p",{className:"text-[10px] font-bold text-slate-400",children:"Ce message apparaîtra dans la barre défilante en bas de l'écran TV."}),e[230]=Es):Es=e[230];let ce;e[231]!==ne?(ce=t.jsxs("div",{className:"space-y-2",children:[Ms,ne,Es]}),e[231]=ne,e[232]=ce):ce=e[232];let Ds;e[233]===Symbol.for("react.memo_cache_sentinel")?(Ds=t.jsx(o,{type:"button",variant:"outline",onClick:()=>$e(!1),className:"rounded-xl",children:"Annuler"}),e[233]=Ds):Ds=e[233];const zl=Be.isPending||!b.content,Kl=Be.isPending?"Ajout...":"Ajouter au défilé";let oe;e[234]!==zl||e[235]!==Kl?(oe=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Ds,t.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:zl,children:Kl})]}),e[234]=zl,e[235]=Kl,e[236]=oe):oe=e[236];let de;e[237]!==jl||e[238]!==ce||e[239]!==oe?(de=t.jsxs(Ye,{className:"rounded-3xl sm:max-w-[500px]",children:[Is,t.jsxs("form",{onSubmit:jl,className:"space-y-6",children:[ce,oe]})]}),e[237]=jl,e[238]=ce,e[239]=oe,e[240]=de):de=e[240];let zs;e[241]!==pl||e[242]!==de?(zs=t.jsx(Ze,{open:pl,onOpenChange:$e,children:de}),e[241]=pl,e[242]=de,e[243]=zs):zs=e[243];let Ks;e[244]===Symbol.for("react.memo_cache_sentinel")?(Ks=t.jsx(et,{children:t.jsx(tt,{className:"text-2xl font-black",children:"Nouveau Caissier"})}),e[244]=Ks):Ks=e[244];let Ls;e[245]===Symbol.for("react.memo_cache_sentinel")?(Ls=t.jsx(g,{children:"Nom complet"}),e[245]=Ls):Ls=e[245];let me;e[246]!==r?(me=s=>Qe({...r,name:s.target.value}),e[246]=r,e[247]=me):me=e[247];let ue;e[248]!==r.name||e[249]!==me?(ue=t.jsxs("div",{className:"space-y-2",children:[Ls,t.jsx(k,{value:r.name,onChange:me,placeholder:"ex: Jean Dupont",className:"rounded-xl",required:!0})]}),e[248]=r.name,e[249]=me,e[250]=ue):ue=e[250];let Ts;e[251]===Symbol.for("react.memo_cache_sentinel")?(Ts=t.jsx(g,{children:"Email"}),e[251]=Ts):Ts=e[251];let xe;e[252]!==r?(xe=s=>Qe({...r,email:s.target.value}),e[252]=r,e[253]=xe):xe=e[253];let he;e[254]!==r.email||e[255]!==xe?(he=t.jsxs("div",{className:"space-y-2",children:[Ts,t.jsx(k,{type:"email",value:r.email,onChange:xe,placeholder:"jean.dupont@example.com",className:"rounded-xl",required:!0})]}),e[254]=r.email,e[255]=xe,e[256]=he):he=e[256];let Vs;e[257]===Symbol.for("react.memo_cache_sentinel")?(Vs=t.jsx(g,{children:"Mot de passe"}),e[257]=Vs):Vs=e[257];let fe;e[258]!==r?(fe=s=>Qe({...r,password:s.target.value}),e[258]=r,e[259]=fe):fe=e[259];let pe;e[260]!==r.password||e[261]!==fe?(pe=t.jsxs("div",{className:"space-y-2",children:[Vs,t.jsx(k,{type:"password",value:r.password,onChange:fe,className:"rounded-xl",required:!0})]}),e[260]=r.password,e[261]=fe,e[262]=pe):pe=e[262];let Gs;e[263]===Symbol.for("react.memo_cache_sentinel")?(Gs=t.jsx(g,{children:"Assigner à un guichet (optionnel)"}),e[263]=Gs):Gs=e[263];let ge;e[264]!==r?(ge=s=>Qe({...r,counter_id:s==="none"?"":s}),e[264]=r,e[265]=ge):ge=e[265];let Us;e[266]===Symbol.for("react.memo_cache_sentinel")?(Us=t.jsx(Rl,{className:"rounded-xl",children:t.jsx(Bl,{placeholder:"Choisir un guichet (optionnel)"})}),e[266]=Us):Us=e[266];let Qs;e[267]===Symbol.for("react.memo_cache_sentinel")?(Qs=t.jsx(Ge,{value:"none",children:"Ne pas assigner pour le moment"}),e[267]=Qs):Qs=e[267];let be;e[268]!==x?(be=x?.map(Ii),e[268]=x,e[269]=be):be=e[269];let je;e[270]!==be?(je=t.jsxs($l,{children:[Qs,be]}),e[270]=be,e[271]=je):je=e[271];let ye;e[272]!==r.counter_id||e[273]!==ge||e[274]!==je?(ye=t.jsxs(Ol,{value:r.counter_id,onValueChange:ge,children:[Us,je]}),e[272]=r.counter_id,e[273]=ge,e[274]=je,e[275]=ye):ye=e[275];let Hs;e[276]===Symbol.for("react.memo_cache_sentinel")?(Hs=t.jsx("p",{className:"text-xs text-slate-500",children:"Seuls les guichets libres peuvent être sélectionnés."}),e[276]=Hs):Hs=e[276];let ve;e[277]!==ye?(ve=t.jsxs("div",{className:"space-y-2",children:[Gs,ye,Hs]}),e[277]=ye,e[278]=ve):ve=e[278];let Os;e[279]===Symbol.for("react.memo_cache_sentinel")?(Os=t.jsx(o,{type:"button",variant:"outline",onClick:()=>mt(!1),className:"rounded-xl",children:"Annuler"}),e[279]=Os):Os=e[279];const Ll=C.isPending?"Création...":"Créer le caissier";let Ne;e[280]!==C.isPending||e[281]!==Ll?(Ne=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Os,t.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:C.isPending,children:Ll})]}),e[280]=C.isPending,e[281]=Ll,e[282]=Ne):Ne=e[282];let _e;e[283]!==dl||e[284]!==ue||e[285]!==he||e[286]!==pe||e[287]!==ve||e[288]!==Ne?(_e=t.jsxs(Ye,{className:"rounded-3xl",children:[Ks,t.jsxs("form",{onSubmit:dl,className:"space-y-4",children:[ue,he,pe,ve,Ne]})]}),e[283]=dl,e[284]=ue,e[285]=he,e[286]=pe,e[287]=ve,e[288]=Ne,e[289]=_e):_e=e[289];let $s;e[290]!==ol||e[291]!==_e?($s=t.jsx(Ze,{open:ol,onOpenChange:mt,children:_e}),e[290]=ol,e[291]=_e,e[292]=$s):$s=e[292];let Rs;e[293]===Symbol.for("react.memo_cache_sentinel")?(Rs=t.jsx(et,{children:t.jsx(tt,{className:"text-2xl font-black",children:"Nouveau Guichet"})}),e[293]=Rs):Rs=e[293];let Bs;e[294]===Symbol.for("react.memo_cache_sentinel")?(Bs=t.jsx(g,{children:"Numéro du Guichet"}),e[294]=Bs):Bs=e[294];let we;e[295]!==u?(we=s=>ll({...u,counter_number:parseInt(s.target.value)}),e[295]=u,e[296]=we):we=e[296];let Se;e[297]!==u.counter_number||e[298]!==we?(Se=t.jsxs("div",{className:"space-y-2",children:[Bs,t.jsx(k,{type:"number",min:"1",value:u.counter_number,onChange:we,className:"rounded-xl",required:!0})]}),e[297]=u.counter_number,e[298]=we,e[299]=Se):Se=e[299];let Xs;e[300]===Symbol.for("react.memo_cache_sentinel")?(Xs=t.jsx(g,{children:"Nom du Guichet"}),e[300]=Xs):Xs=e[300];let Ce;e[301]!==u?(Ce=s=>ll({...u,name:s.target.value}),e[301]=u,e[302]=Ce):Ce=e[302];let ke;e[303]!==u.name||e[304]!==Ce?(ke=t.jsxs("div",{className:"space-y-2",children:[Xs,t.jsx(k,{value:u.name,onChange:Ce,placeholder:"ex: Guichet Principal",className:"rounded-xl",required:!0})]}),e[303]=u.name,e[304]=Ce,e[305]=ke):ke=e[305];let Js;e[306]===Symbol.for("react.memo_cache_sentinel")?(Js=t.jsx(o,{type:"button",variant:"outline",onClick:()=>Ue(!1),className:"rounded-xl",children:"Annuler"}),e[306]=Js):Js=e[306];const Tl=S.isPending?"Création...":"Créer";let Ae;e[307]!==S.isPending||e[308]!==Tl?(Ae=t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[Js,t.jsx(o,{type:"submit",className:"rounded-xl bg-indigo-600",disabled:S.isPending,children:Tl})]}),e[307]=S.isPending,e[308]=Tl,e[309]=Ae):Ae=e[309];let qe;e[310]!==cl||e[311]!==Se||e[312]!==ke||e[313]!==Ae?(qe=t.jsxs(Ye,{className:"rounded-3xl",children:[Rs,t.jsxs("form",{onSubmit:cl,className:"space-y-4",children:[Se,ke,Ae]})]}),e[310]=cl,e[311]=Se,e[312]=ke,e[313]=Ae,e[314]=qe):qe=e[314];let Ws;e[315]!==el||e[316]!==qe?(Ws=t.jsx(Ze,{open:el,onOpenChange:Ue,children:qe}),e[315]=el,e[316]=qe,e[317]=Ws):Ws=e[317];const Vl=Ze,Gl=Ye,pi="rounded-3xl";let Pe;e[318]===Symbol.for("react.memo_cache_sentinel")?(Pe=t.jsx(et,{children:t.jsx(tt,{className:"text-2xl font-black",children:"Assigner un Caissier"})}),e[318]=Pe):Pe=e[318];const gi="space-y-4",bi="space-y-2";let Ie;e[319]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(g,{children:"Sélectionner un caissier"}),e[319]=Ie):Ie=e[319];const Ul=Ol;let Me;e[320]!==w?.cashier_id?(Me=w?.cashier_id?.toString()||"",e[320]=w?.cashier_id,e[321]=Me):Me=e[321];let Fe;e[322]!==ml?(Fe=s=>ml(s&&s!=="unassign"?parseInt(s):null),e[322]=ml,e[323]=Fe):Fe=e[323];let Ee;e[324]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(Rl,{className:"rounded-xl",children:t.jsx(Bl,{placeholder:"Choisir un caissier"})}),e[324]=Ee):Ee=e[324];const Ql=$l;let De;e[325]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsx(Ge,{value:"unassign",children:"Aucun (désassigner)"}),e[325]=De):De=e[325];const Hl=ti?.map(Pi);let ze;e[326]!==Ql||e[327]!==De||e[328]!==Hl?(ze=t.jsxs(Ql,{children:[De,Hl]}),e[326]=Ql,e[327]=De,e[328]=Hl,e[329]=ze):ze=e[329];let Ke;e[330]!==Ul||e[331]!==Me||e[332]!==Fe||e[333]!==Ee||e[334]!==ze?(Ke=t.jsxs(Ul,{value:Me,onValueChange:Fe,children:[Ee,ze]}),e[330]=Ul,e[331]=Me,e[332]=Fe,e[333]=Ee,e[334]=ze,e[335]=Ke):Ke=e[335];let Le;e[336]!==Ie||e[337]!==Ke?(Le=t.jsx("div",{className:gi,children:t.jsxs("div",{className:bi,children:[Ie,Ke]})}),e[336]=Ie,e[337]=Ke,e[338]=Le):Le=e[338];let Te;e[339]!==Gl||e[340]!==Pe||e[341]!==Le?(Te=t.jsxs(Gl,{className:pi,children:[Pe,Le]}),e[339]=Gl,e[340]=Pe,e[341]=Le,e[342]=Te):Te=e[342];let Ys;return e[343]!==Vl||e[344]!==tl||e[345]!==Te?(Ys=t.jsx(Vl,{open:tl,onOpenChange:sl,children:Te}),e[343]=Vl,e[344]=tl,e[345]=Te,e[346]=Ys):Ys=e[346],t.jsxs(Xl,{currentPageName:"Manager",children:[Gt,t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-indigo-50/30 px-6 py-8 md:px-10",children:[Yt,t.jsxs("div",{className:"mb-10 grid grid-cols-1 gap-6 md:grid-cols-3",children:[ls,os,t.jsx(N.div,{initial:ds,animate:ms,transition:us,className:"rounded-3xl border border-slate-200/60 bg-white p-6 shadow-sm",children:t.jsxs("div",{className:"mb-2 flex items-center gap-3",children:[xs,t.jsxs("div",{children:[hs,t.jsx("p",{className:"text-2xl font-black text-slate-900",children:ti?.length||0})]})]})})]}),ps,_s,Ps,zs,$s,Ws,Ys]})]})}function Pi(l){return t.jsx(Ge,{value:l.id.toString(),children:l.name},l.id)}function Ii(l){return t.jsxs(Ge,{value:l.id.toString(),disabled:!!l.cashier_id,className:l.cashier_id?"text-slate-400":"",children:[l.counter_number," -"," ",l.name,l.cashier_id?" (Occupé)":" (Libre)"]},l.id)}function Mi(l){return l.target.pause()}function Fi(l){return l.target.play()}function Ei(l){return l.cashier_id}function Di(l){return l.is_active}function zi(l){d.error(l.response?.data?.message||"Erreur lors de la création de la publicité")}function Ki(){d.error("Erreur lors de la suppression")}function Li(l){return m.entities.News.delete(l)}function Ti(){d.error("Erreur lors de la mise à jour")}function Vi(l){const{id:e,data:_}=l;return m.entities.News.update(e,_)}function Gi(){d.error("Erreur lors de la création de l'information")}function Ui(l){return m.entities.News.create(l)}function Qi(){d.error("Erreur lors de la suppression")}function Hi(l){return m.entities.Advertisement.delete(l)}function Oi(){d.error("Erreur lors de la mise à jour")}function $i(l){const{id:e,data:_}=l;return m.entities.Advertisement.update(e,_)}function Ri(l){d.error(l.response?.data?.message||"Erreur lors de la création du caissier")}function Bi(){d.error("Erreur lors de la suppression du guichet")}function Xi(l){return m.entities.Counter.delete(l)}function Ji(){d.error("Erreur lors de la mise à jour du guichet")}function Wi(l){const{id:e,data:_}=l;return m.entities.Counter.update(e,_)}function Yi(l){d.error(l.response?.data?.message||"Erreur lors de la création du guichet")}export{fa as default};

import{c as S,b as L,r as $,j as a,L as z}from"./app-pbanxzkV.js";import{B as D,T as O}from"./index-TiLAn61d.js";import{c as s,m as d,a as C}from"./createLucideIcon-Ds7Ig1I2.js";import{M as H,U as P,A as T}from"./users-DA9SA4A4.js";const U=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],E=s("LayoutDashboard",U);const V=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],B=s("LogOut",V);const R=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],W=s("Menu",R);const q=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],I=s("ShieldCheck",q);const X=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],G=s("Store",X);const F=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],J=s("User",F);const K=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Q=s("Wallet",K);const Y=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Z=s("X",Y),f=[{name:"Client",label:"Client",icon:J,color:"text-brand-cyan",bg:"bg-brand-cyan/10"},{name:"Display",label:"Ecran",icon:H,color:"text-brand-purple",bg:"bg-brand-purple/10"},{name:"Cashier",label:"Guichet",icon:P,color:"text-brand-orange",bg:"bg-brand-orange/10",route:"/cashier"},{name:"CashMoney",label:"Caisse",icon:Q,color:"text-brand-pink",bg:"bg-brand-pink/10",route:"/cash/dashboard"},{name:"Manager",label:"Manager",icon:E,color:"text-brand-blue",bg:"bg-brand-blue/10"},{name:"ManagerShops",label:"Mes Boutiques",icon:G,color:"text-brand-cyan",bg:"bg-brand-cyan/10",roles:["manager","super-admin"]},{name:"Admin",label:"Super Admin",icon:I,color:"text-brand-deep",bg:"bg-brand-deep/10"}];function re(o){const e=S.c(21),{children:v,currentPageName:b}=o,{auth:_}=L().props,k=_.user?.role,[w,u]=$.useState(!1);let h;e:{if(k==="super-admin"){h=f;break e}if(k==="manager"){let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=f.filter(ne),e[0]=n):n=e[0],h=n;break e}if(k==="cashier"){let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=f.filter(te),e[1]=n):n=e[1],h=n;break e}let t;e[2]===Symbol.for("react.memo_cache_sentinel")?(t=f.filter(ae),e[2]=t):t=e[2],h=t}const j=h,N=b==="Display",A=ee;let m,p,x;e[3]===Symbol.for("react.memo_cache_sentinel")?(m={opacity:0,y:20},p={opacity:1,y:0},x={duration:.5,ease:"easeOut"},e[3]=m,e[4]=p,e[5]=x):(m=e[3],p=e[4],x=e[5]);let i;e[6]!==v?(i=a.jsx("main",{className:"min-h-screen w-full",children:a.jsx(d.div,{initial:m,animate:p,transition:x,className:"h-full",children:v})}),e[6]=v,e[7]=i):i=e[7];let l;e[8]!==N?(l=!N&&a.jsx("div",{className:"fixed right-6 bottom-6 z-50",children:a.jsxs(d.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>u(!0),className:"group relative flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-tr from-brand-blue to-brand-cyan text-white shadow-lg shadow-brand-blue/40 transition-all duration-300 hover:shadow-brand-blue/60",children:[a.jsx("div",{className:"absolute inset-0 -z-10 rounded-full bg-brand-blue opacity-20 blur-lg transition-all duration-500 group-hover:opacity-40"}),a.jsx(W,{className:"h-8 w-8"})]})}),e[8]=N,e[9]=l):l=e[9];let r;e[10]!==b||e[11]!==j||e[12]!==w?(r=w&&a.jsxs(d.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/60 p-4 backdrop-blur-xl",children:[a.jsx("div",{className:"absolute inset-0",onClick:()=>u(!1)}),a.jsxs(d.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full max-w-lg overflow-hidden rounded-3xl bg-white/90 p-8 shadow-2xl ring-1 ring-white/50 backdrop-blur-xl",children:[a.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 rounded-full bg-slate-100 p-2 text-slate-500 transition-colors hover:bg-slate-200",children:a.jsx(Z,{className:"h-6 w-6"})}),a.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[a.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-white p-2 shadow-xl ring-1 ring-slate-100",children:a.jsx("img",{src:"/logo.png",alt:"Havifin",className:"h-full w-full object-contain"})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Navigation"}),a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Menu Principal"})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:j.map((t,n)=>{const M=b===t.name;return a.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},children:a.jsxs(z,{href:t.route?t.route:t.name==="Client"?"/":t.name==="Admin"?"/admin/shops":t.name==="ManagerShops"?"/manager/shops":`/${t.name.toLowerCase()}`,onClick:()=>u(!1),className:C("group flex flex-col items-center justify-center gap-3 rounded-2xl border p-6 transition-all duration-300 hover:scale-[1.02]",M?"border-brand-blue bg-brand-blue/10 shadow-inner":"border-slate-100 bg-slate-50/50 hover:bg-white hover:shadow-lg"),children:[a.jsx("div",{className:C("rounded-xl p-3 transition-colors",M?"bg-brand-blue text-white":`${t.bg} ${t.color} group-hover:bg-brand-blue group-hover:text-white`),children:a.jsx(t.icon,{className:"h-6 w-6"})}),a.jsx("span",{className:C("font-bold",M?"text-brand-blue":"text-slate-600"),children:t.label})]})},t.name)})}),a.jsx(d.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-8 border-t border-slate-100 pt-6",children:a.jsxs(D,{variant:"ghost",onClick:A,className:"w-full justify-center gap-2 rounded-xl py-6 font-bold text-red-500 hover:bg-red-50 hover:text-red-600",children:[a.jsx(B,{className:"h-5 w-5"}),"DÃ©connexion"]})})]})]}),e[10]=b,e[11]=j,e[12]=w,e[13]=r):r=e[13];let c;e[14]!==r?(c=a.jsx(T,{children:r}),e[14]=r,e[15]=c):c=e[15];let y;e[16]===Symbol.for("react.memo_cache_sentinel")?(y=a.jsx(O,{position:"top-right",expand:!0,richColors:!0}),e[16]=y):y=e[16];let g;return e[17]!==i||e[18]!==l||e[19]!==c?(g=a.jsxs("div",{className:"min-h-screen bg-brand-white font-sans text-brand-dark selection:bg-brand-blue selection:text-white",children:[i,l,c,y]}),e[17]=i,e[18]=l,e[19]=c,e[20]=g):g=e[20],g}async function ee(){try{await fetch("/api/auth/logout",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"same-origin"}),window.location.href="/login"}catch(o){console.error("Logout error:",o),window.location.href="/login"}}function ae(o){return["Client","Display"].includes(o.name)}function te(o){return["Cashier","CashMoney","Display"].includes(o.name)}function ne(o){return o.name!=="Admin"}export{re as A,B as L,G as S,J as U,Q as W,Z as X,I as a,E as b};
